"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3498"],{35144:function(){},11085:function(e,t,n){n.d(t,{Z:()=>i});let i={cardBlack:"cardBlack-dn8aTu",cardGreen:"cardGreen-BvacOd",secondaryText:"secondaryText-Kde6jh",valueSmall:"valueSmall-XtHNnD",valueBig:"valueBig-wmUc5E",sparkle1:"sparkle1-RUNGBp",sparkle2:"sparkle2-mQOtay",sparkle3:"sparkle3-We1mnM"}},4291:function(e,t,n){n.d(t,{Z:()=>i});let i={pubTheme:"pubTheme-yiXxQA"}},87857:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-xiJVit"}},82021:function(e,t,n){n.d(t,{Z:()=>i});let i={containerElevated:"containerElevated-R4qz8n",containerInline:"containerInline-L_YjpZ",videoTrimmerWrapper:"videoTrimmerWrapper-m8Tcry",videoTrimmerSlider:"videoTrimmerSlider-RWqSeS",videoTrimmerSliderVisible:"videoTrimmerSliderVisible-kDKdSk",durationContainer:"durationContainer-h05YYe",captionsAvailable:"captionsAvailable-C8g24C",captionsNotAvailable:"captionsNotAvailable-gazpbB"}},8525:function(e,t,n){n.d(t,{Z:()=>i});let i={modalTitle:"modalTitle-uFJ1Ep",qrCode:"qrCode-zZoQdZ",appBadge:"appBadge-Vbgl8S",phoneInput:"phoneInput-PdUisS",noGrow:"noGrow-lP58Da"}},67312:function(e,t,n){n.d(t,{Z:()=>i});let i={buttonContainer:"buttonContainer-tH3LP9"}},24750:function(){},54888:function(e,t,n){n.d(t,{Z:()=>i});let i={ufiContainer:"ufiContainer-LU0_2M",buttonContainer:"buttonContainer-xv9qhQ",button:"button-RzzGHK",icon:"icon-Eo432M",count:"count-hQZHkH",hidden:"hidden-UUUxXN",like:"like-IrcdrZ",active:"active-R2L4nI",heart:"heart-CVM02Z",clickedOnce:"clickedOnce-OWrgAu",isLiked:"isLiked-wLecwK","heart-bounce":"heart-bounce-Lo7g_9",heartBounce:"heart-bounce-Lo7g_9",spark:"spark-Lg1gFb","spark-burst":"spark-burst-g6xVlj",sparkBurst:"spark-burst-g6xVlj",restack:"restack-bjXABC",isRestacked:"isRestacked-UViDCR",restackIcon:"restackIcon-BPrd9M","restack-spin":"restack-spin-XskJfD",restackSpin:"restack-spin-XskJfD",heartWrapper:"heartWrapper-xJzNVs",sparks:"sparks-p7Vzbk"}},20063:function(e,t,n){n.d(t,{Z:()=>i});let i={livePill:"livePill-wNMCye"}},50475:function(e,t,n){n.d(t,{Z:()=>i});let i={input:"input-ZGrgg4"}},40484:function(e,t,n){n.d(t,{Z:()=>i});let i={modal:"modal-O8Dx6X",renderOverReactLaagPortal:"renderOverReactLaagPortal-suGnvT",modalBody:"modalBody-qocErY",header:"header-eb1Nyn",title:"title-JUq5uE",description:"description-bku4qR",buttonLeft:"buttonLeft-kZKPjW"}},20746:function(e,t,n){n.d(t,{Z:()=>i});let i={backdropContainer:"backdropContainer-cOZ3hh",backdrop:"backdrop-IqiELY",backdropEnter:"backdropEnter-ZpaQIK",backdropEnterFrom:"backdropEnterFrom-CKaxGg",backdropEnterTo:"backdropEnterTo-QxRXXs",backdropLeave:"backdropLeave-IagLtt",backdropLeaveFrom:"backdropLeaveFrom-dCf923",backdropLeaveTo:"backdropLeaveTo-Zn8qab"}},68742:function(e,t,n){n.d(t,{Z:()=>i});let i={panel:"panel-ulWfet","position-full":"position-full-roTcOT",positionFull:"position-full-roTcOT","position-bottom":"position-bottom-iMkmCS",positionBottom:"position-bottom-iMkmCS","position-default":"position-default-ybuNjD",positionDefault:"position-default-ybuNjD",fullscreenMobile:"fullscreenMobile-uSmZ_w",fullscreenMobileHeight:"fullscreenMobileHeight-ugjrAs",maxFullscreenMobile:"maxFullscreenMobile-xWTeST",panelEnter:"panelEnter-yiVhfS",panelEnterFrom:"panelEnterFrom-zcc_zQ",panelEnterTo:"panelEnterTo-wmKOeP",panelLeave:"panelLeave-W7aUj9",panelLeaveFrom:"panelLeaveFrom-cGPG4g",panelLeaveTo:"panelLeaveTo-xVIwDl"}},36827:function(e,t,n){n.d(t,{Z:()=>i});let i={searchInput:"searchInput-fUS3Nw"}},63584:function(e,t,n){n.d(t,{Z:()=>i});let i={select:"select-nGc13j",focus:"focus-JiAubq",leading:"leading-o7jWpZ",trailing:"trailing-ezPcro",error:"error-L2xDMl",disabled:"disabled-Dbz4PM",wrapper:"wrapper-IwGljo"}},53501:function(e,t,n){n.d(t,{Z:()=>i});let i={input:"input-AalwWx",error:"error-Feisn0",textarea:"textarea-Y7xHxw","font-text":"font-text-O992pd",fontText:"font-text-O992pd","font-monospace":"font-monospace-lad5nM",fontMonospace:"font-monospace-lad5nM"}},87089:function(e,t,n){n.d(t,{Z:()=>i});let i={pill:"pill-KqexDs",pillSelected:"pillSelected-ngbq5t"}},5749:function(e,t,n){n.d(t,{Z:()=>i});let i={variables:"variables-fH4ag7",containsAppPrompt:"containsAppPrompt-UMsmqt",isHidden:"isHidden-vzcyV0",page:"page-aOaH_e",miniInboxItem:"miniInboxItem-qLFrMG",newItems:"newItems-twwRBA",facepile:"facepile-BvssMQ",face:"face-P6q4PH",tabIcon:"tabIcon-KkbGZ1",feedItem:"feedItem-ONDKv3",feedUnit:"feedUnit-NTpfyQ",showThreadGutter:"showThreadGutter-X3iYha",hasAvatar:"hasAvatar-XDSVUi",hasAction:"hasAction-pgoBA3",seeMoreFade:"seeMoreFade-xP5n8v",feedPermalinkUnit:"feedPermalinkUnit-JBJrHa",permalinkHeader:"permalinkHeader-bQJTnJ",seeMoreReplies:"seeMoreReplies-K4uhty",seeMoreThread:"seeMoreThread-KEnEyq",seeMoreThreadSegment:"seeMoreThreadSegment-_Apecq",top:"top-zb_BJC",hasContext:"hasContext-_DCyNJ",replyUnit:"replyUnit-tO0ejm",youtube:"youtube-AgNZc0",tiktok:"tiktok-x4gDkP",spotify:"spotify-cCmxPs",appleMusic:"appleMusic-OezLQy",soundcloud:"soundcloud-p1bsAU",youtubeIframe:"youtubeIframe-kP47yC",tiktokIframe:"tiktokIframe-izo_uk",feedCommentBody:"feedCommentBody-UWho7S",feedCommentBodyInner:"feedCommentBodyInner-AOzMIC",smallPreview:"smallPreview-dZMrxO",underlineLink:"underlineLink-RuIQrC",disabled:"disabled-W2Bv0n",peopleYouMayKnowContainer:"peopleYouMayKnowContainer-A79AYm",peopleYouMayKnow:"peopleYouMayKnow-GCnR1N",seeMore:"seeMore-D88zkH",seeMoreText:"seeMoreText-Y5A1El",postAttachment:"postAttachment-eYV3fM",saveButton:"saveButton-BUhk5Q",commentContainer:"commentContainer-kpPRBB",vibrantHeader:"vibrantHeader-We3FVb",postImage:"postImage-L4FlO9",vibrantPostImage:"vibrantPostImage-TTXyOq",linkImage:"linkImage-i4xmRa",linkImagePlaceholder:"linkImagePlaceholder-zpM5qk",actionRow:"actionRow-T4wXed",moreButtonContainer:"moreButtonContainer-zdayXV",moreButton:"moreButton-EXZOW4",shortPostText:"shortPostText-HTEthL",large:"large-xah3K0",stat:"stat-Q5QJPb",reportModal:"reportModal-LypavT",likeButton:"likeButton-R3Kfso",heartWrapper:"heartWrapper-PXEHho",heart:"heart-oifoWn",active:"active-c0Nov_",clickedOnce:"clickedOnce-CLj8DV",isLiked:"isLiked-iBpLIp","heart-bounce":"heart-bounce-_VxmXZ",heartBounce:"heart-bounce-_VxmXZ",spark:"spark-Jja6Nt","spark-burst":"spark-burst-qrrWP7",sparkBurst:"spark-burst-qrrWP7",sparks:"sparks-KOlXwI",ripple:"ripple-DknUjK",mutedItem:"mutedItem-ZGcK37",vibrant:"vibrant-Ys_KyG",saved:"saved-BzlEct",videoThumbnailImage:"videoThumbnailImage-GeQb7o",feedStatsGrid:"feedStatsGrid-lsizQ6",inlineLinkRow:"inlineLinkRow-b2tbOE",transparentLoginPrompt:"transparentLoginPrompt-sD3O95",appPrompt:"appPrompt-gZ1qj_",asParent:"asParent-gmw3iy"}},73015:function(e,t,n){n.d(t,{Z:()=>i});let i={controlsCentered:"controlsCentered-TEIxxh",track:"track-pNMNGn"}},66861:function(e,t,n){n.d(t,{Z:()=>i});let i={playButton:"playButton-VfYy0S",playButtonIcon:"playButtonIcon-iVd8T6",videoIcon:"videoIcon-pEKkgy",pauseIconBar:"pauseIconBar-fixY8H",pauseIcon:"pauseIcon-bgib4b",videoPauseIconBar:"videoPauseIconBar-boRJoC",audioWaveform:"audioWaveform-K3CCe7",voiceAmplitude:"voiceAmplitude-Hp8N5A"}},73798:function(e,t,n){n.d(t,{Z:()=>i});let i={bottomControlsContainer:"bottomControlsContainer-kx5Iet",bottomInnerControlsContainer:"bottomInnerControlsContainer-nA_qdP",backDrop:"backDrop-OMzeTr",captionsContainer:"captionsContainer-sSAb5L",centerControlsContainer:"centerControlsContainer-CKUlUi",settingsControlsContainer:"settingsControlsContainer-V3A25d",settingsControlsBox:"settingsControlsBox-svKH2p",topOverlaysContainer:"topOverlaysContainer-xo1FwD",bottomOverControlsContainer:"bottomOverControlsContainer-FnhEyj",castStatus:"castStatus-Gq0e5M",spinner:"spinner-iKxsfj"}},20080:function(e,t,n){n.d(t,{Z:()=>i});let i={volumeBarContainer:"volumeBarContainer-AVLNVa",volumeBar:"volumeBar-N1rUCF",mainContainer:"mainContainer-_32N5B",volumeLevel:"volumeLevel-VDMLnw"}},21793:function(e,t,n){n.d(t,{h:()=>h});var i=n(58865),r=n(16584),a=n(63623),l=n(95441),o=n(94874),d=n(19081),s=n(38841),c=n(58175),u=n(11085);function p(){let e=(0,i._)(["","-Month Paid Pass"]);return p=function(){return e},e}function v(){let e=(0,i._)(["","-Day Paid Pass"]);return v=function(){return e},e}function h(e){let{pub:t,variant:n="avatar",isStatic:i=!1,days:h,gifter:m,value:g}=e,{iString:f,iTemplate:C}=(0,l.M1)();return(0,r.BX)(d.gq,{className:"avatar"===n?u.Z.cardBlack:u.Z.cardGreen,justifyContent:"center",radius:"lg",children:[(0,r.BX)(d.tu,{alignItems:"center",justifyContent:"center",gap:16,children:["cashappcore"===n?(0,r.tZ)(c.xv,{className:u.Z.valueBig,color:"white",font:"display",children:g}):i?(0,r.tZ)(s.CN,{pub:t,size:100,format:"png"}):(null==m?void 0:m.photo_url)?(0,r.tZ)(o.qE,{user:m,size:100}):(0,r.tZ)(s.wk,{pub:t,size:100}),(0,r.BX)(d.tu,{alignItems:"center",gap:4,paddingX:8,children:[(0,r.tZ)(c.xv.H3,{color:"white",weight:"heavy",align:"center",children:t.name}),(0,r.tZ)(c.xv.B3,{className:u.Z.secondaryText,children:h?h%30==0?C(p(),h/30):C(v(),h):f("Free Guest Pass")})]})]}),"avatar"===n&&g&&(0,r.tZ)(c.xv.H4,{className:u.Z.valueSmall,weight:"medium",children:g}),(0,r.tZ)(a.Z,{className:u.Z.sparkle1,size:33,strokeWidth:0}),(0,r.tZ)(a.Z,{className:u.Z.sparkle2,size:27,strokeWidth:0}),(0,r.tZ)(a.Z,{className:u.Z.sparkle3,size:20,strokeWidth:0})]})}},3880:function(e,t,n){n.d(t,{E:()=>h,i:()=>f});var i=n(16584),r=n(30396),a=n(94184),l=n.n(a),o=n(24202),d=n(20888),s=n(27625),c=n(19081),u=n(58175),p=n(91400),v=n(54796);function h(e){let{className:t,assets:n,readOnly:a,isRestack:d,isPreview:s,isDm:u,onClick:p,aspect:h,maxWidth:g,maxHeight:f,children:C,isContained:Z,outline:b,isPermalink:y}=e,w=(0,o.dz)(n),_=w;w.length>6&&(_=_.slice(0,6));let[k,x]=(0,r.eJ)(null),L=(e,t)=>{e.preventDefault(),x({index:t})};return(0,i.BX)(c.hs,{className:l()(v.Z.imageGrid,v.Z["size-".concat(Math.min(w.length,6))],u&&v.Z.dm,s&&v.Z.preview,Z&&v.Z.contained,y&&v.Z.permalink,d&&v.Z.restack,t),gap:4,radius:"md",overflow:"hidden",children:[_.map((e,t)=>{let{src:n,explicit:r,width:l,height:o,id:d}=e,s=w.length-(t+1);return(0,i.tZ)(m,{asset:n,explicit:r,total:w.length,readOnly:a,aspect:h,width:l,height:o,numRemaining:t+1===6&&s>0?s:void 0,maxWidth:g,maxHeight:f,outline:Z||1!==w.length?b:"detail",onClick:a?void 0:e=>{e.defaultPrevented||(e.preventDefault(),p&&p({attachmentId:d,attachmentType:"image"}),L(e,t))},children:C},n)}),!a&&(0,i.tZ)(o.$9,{assets:w,imageViewer:k,setImageViewer:x,readOnly:a})]})}function m(e){let t,n,r,a,{asset:l,explicit:d,onClick:s,total:c,numRemaining:u,readOnly:h,aspect:m,width:f,height:C,outline:Z="none",maxWidth:b=500,maxHeight:y=420,children:w}=e,_=(0,p.XA)();null!=f&&null!=C&&(f/=2,C/=2,t=Math.round(null!=b?Math.min(f,b):f),n=Math.round(C/f*t),1===c&&(t>b?(a=Math.round(n*b/t),r=b):(r=t,a=n),y&&a>y&&(r=Math.round(r*y/a),a=y),_&&(a="auto")));let k=(0,i.BX)(i.HY,{children:[w,u&&(0,i.tZ)(g,{count:u})]});return(0,i.tZ)(o.Z4,{asset:l,explicit:d,onClick:s,readOnly:h,width:r,height:a,maxWidth:r,className:v.Z.gridImage,imageProps:{aspect:m||(1===c?"":"1:1"),smartCrop:1!==c},outline:Z,flex:"grow",radius:"sm",style:{"--aspect-ratio":"".concat(t," / ").concat(n)},children:k})}function g(e){let{count:t}=e;return(0,i.tZ)(c.hs,{className:v.Z.imageCountOverlay,position:"absolute",justifyContent:"center",alignItems:"center",inset:0,children:(0,i.BX)(u.xv.B1,{color:"vibrance-primary",weight:"medium",children:["+",t]})})}function f(e){let{className:t,assets:n}=e,r=(0,o.dz)(n),a=r;r.length>4&&(a=a.slice(0,4));let d=(0,o.iv)(r),{onShow:u}=(0,s.Sl)(d);return(0,i.BX)(c.hs,{className:l()(v.Z.imageGridThumbnail,v.Z["size-".concat(Math.min(r.length,4))],t),gap:2,width:72,height:72,radius:"md",overflow:"hidden",sizing:"border-box",border:"detail",position:"relative",flex:"auto",children:[a.map(e=>{let{src:t}=e;return(0,i.tZ)(C,{asset:t,size:72},t)}),d&&(0,i.tZ)(s.HU,{onShow:u})]})}function C(e){let{asset:t,size:n=64}=e;return(0,i.tZ)(c.hs,{className:v.Z.thumbnailImage,bg:"secondary",overflow:"hidden",children:(0,i.tZ)(d.e,{src:t,maxWidth:n,useRetinaSizing:!0,imageIsFixedWidth:!0,imageProps:{aspect:"1:1",smartCrop:!0},width:n,height:n,loading:"lazy",ignorePicture:!0})})}},36671:function(e,t,n){n.d(t,{Z:()=>a});var i=n(16584),r=n(30396);let a=e=>{let{min:t,max:n,step:a,value:l,onChange:o}=e,d=(0,r.sO)(null),s=(0,r.sO)(null),c=(0,r.I4)(e=>{if(!d.current)return;let{left:i,width:r}=d.current.getBoundingClientRect();o(Math.round((t+Math.max(Math.min(e.clientX-i,r),0)/r*(n-t))/a)*a)},[t,n,a,o]),u=(0,r.I4)(()=>{document.removeEventListener("mousemove",c)},[c]),p=()=>{document.addEventListener("mousemove",c)},v=(l-t)/(n-t)*100;return(0,i.tZ)("div",{className:"range-slider-bhPvhQ",ref:d,onMouseDown:p,onMouseUp:u,onBlur:u,children:(0,i.BX)("div",{className:"range-slider__rail-P4vlSM",children:[(0,i.tZ)("div",{className:"range-slider__track-Q9dod1",style:{width:"".concat(v,"%")}}),(0,i.tZ)("div",{className:"range-slider__thumb-SArpZE",style:{left:"".concat(v,"%")},ref:s,onMouseDown:p})]})})}},40297:function(e,t,n){n.d(t,{RF:()=>m,AM:()=>h,wb:()=>g});var i=n(16584);n(6400);var r=n(30396),a=n(94184),l=n.n(a),o=n(74691),d=n.n(o),s=n(61649),c=n(19081),u=n(98248),p=n(93370);let v={timeline:"timeline-WDyd1C",railContainer:"railContainer-W63jgB",rail:"rail-LM6nrG",draggable:"draggable-XUqwr1",draggableLeft:"draggableLeft-MDthpn",draggableRight:"draggableRight-LVVwsd",tooltip:"tooltip-ceWgga",visible:"visible-Y2jC2J",hidden:"hidden-G_OmGT",playback:"playback-UIgSL0",nonSelectable:"nonSelectable-SHHRwG",tick:"tick-RKB6b5",lgTick:"lgTick-iLU6yS",smTick:"smTick-ED2tnj",currentTick:"currentTick-xH7tpT",selection:"selection-m8n06y",selectionFadeLeft:"selectionFadeLeft-rID4fZ",selectionFadeRight:"selectionFadeRight-iIPOWk",handle:"handle-prO_Ky",storyboard:"storyboard-xsBzUl",ticks:"ticks-EA7bBQ",handles:"handles-waTdni",shadow:"shadow-wpFmkU",shadowContainer:"shadowContainer-JsGn6N"},h=e=>{let{videoElement:t,start:n,setStart:a,end:l,setEnd:o,storyboard:d,maxDuration:p,minDuration:h,maxTimelineDuration:m=360,minTimelineDuration:g=360,looping:C,zoom:Z,setZoom:b}=e,[y,w]=(0,r.eJ)(!1),[_,k]=(0,r.eJ)(0),[x,L]=(0,r.eJ)(Math.max(0,n-s.Zl)),[I,B]=(0,r.eJ)(0),[E,M]=(0,r.eJ)(0),P=(0,r.sO)(0),[N,T]=(0,r.eJ)({isDragging:!1,element:void 0});return(0,r.d4)(()=>{let e=()=>{if(t){k(t.duration);let e=[360,t.duration];m&&e.push(m),B(Math.min(...e))}};return t&&t.addEventListener("loadedmetadata",e),(null==t?void 0:t.duration)&&e(),()=>{t&&t.removeEventListener("loadedmetadata",e)}},[m,t]),(0,r.d4)(()=>{let e=()=>{t&&M(t.currentTime)};if(t)return t.addEventListener("timeupdate",e),()=>{t.removeEventListener("timeupdate",e)}},[t]),(0,r.d4)(()=>{if(!y)return;let e=Math.abs(E-P.current);if(P.current=E,e<1){C&&t&&!N.isDragging&&(E>l||E<n)&&(t.currentTime=n);return}if(!N.isDragging&&(E>I||E<x)){let e=I-x,t=Math.min(E,_-e);L(t),B(t+e)}},[E,y]),(0,r.d4)(()=>{if(!_||N.isDragging)return;if(n>x&&l<I){w(!0);return}let e=l-n,t=Math.min(_,l+e);L(Math.max(0,n-e)),B(t);let i=(0,s.MZ)(e);(!Z||i<Z)&&b(i),w(!0)},[n,l,_]),(0,r.d4)(()=>{if(!y)return;let e=I-x,t=(0,s.AO)(Z),i=isNaN(e)||e<s.Zl?.5:(n-x)/e,r=x+i*e,a=r-i*t,l=r+(1-i)*t,o=a,d=l;a<0?d=Math.min(_,(o=0)+t):l>_&&(o=Math.max(0,(d=_)-t)),(!m||!(d-o>m))&&(!g||!(d-o<g))&&(B(d),L(o))},[Z,m,g,_,y]),(0,i.tZ)("div",{className:v.timeline,children:_>0?(0,i.tZ)(f,{startTimeline:x,setStartTimeline:L,endTimeline:I,setEndTimeline:B,startPosition:n,setStartPosition:e=>{if(h&&e+h>=l){a(l-h);return}if(p&&e+p<=l){a(l-p);return}a(e)},endPosition:l,setEndPosition:e=>{if(h&&e-h<=n){o(n+h);return}if(p&&e-p>=n){o(n+p);return}o(e)},setPosition:(e,t)=>{a(e),o(t)},playerPosition:E,setPlayback:e=>{t&&(t.currentTime=e)},duration:_,onDragging:e=>{T(e)},storyboard:d}):(0,i.tZ)(c.gq,{alignItems:"center",justifyContent:"center",children:(0,i.tZ)(u.$j,{})})})},m=e=>{let{storyboard:t,imageUrl:n,x:r,y:a,displayWidth:l,displayHeight:o,className:d}=e,s=(r?r/t.tile_width:0)*l,c=(a?a/t.tile_height:0)*o,u={width:"".concat(l,"px"),height:"".concat(o,"px"),backgroundImage:"url(".concat(n,")"),backgroundPosition:"-".concat(s,"px -").concat(c,"px"),backgroundSize:"500%"};return(0,i.tZ)("div",{className:d,style:u})};function g(e,t){return e.reduce((e,n)=>Math.abs(n.start-t)<Math.abs(e.start-t)?n:e)}let f=e=>{let{startTimeline:t,setStartTimeline:n,endTimeline:a,setEndTimeline:o,startPosition:s,setStartPosition:u,endPosition:h,setEndPosition:f,setPosition:b,playerPosition:y,setPlayback:w,duration:_,storyboard:k,onDragging:x}=e,L=(0,r.sO)(null),I=(0,r.sO)(null),B=(0,r.sO)(h-s),E=(0,r.sO)(null),[M,P]=(0,r.eJ)({isDragging:!1,element:void 0}),N=a-t,T=(0,r.Ye)(()=>h-s,[h,s]),S=s-t,D=h-t,R=y-t,X=t<1,z=1>Math.abs(a-_),O=(0,r.Ye)(()=>S/N*100,[N,S]),F=(0,r.Ye)(()=>D/N*100,[D,N]),A=(0,r.Ye)(()=>R/N*100,[R,N]),U="linear-gradient(to right, \n    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(".concat(O,"% - 6px), \n    rgba(0,0,0,0) calc(").concat(O,"% - 6px), rgba(0,0,0,0) calc(").concat(F,"% + 6px), \n    rgba(0,0,0,0.5) calc(").concat(F,"% + 6px), rgba(0,0,0,0.5) 100%)"),H=(0,r.I4)(e=>{u(Math.max(0,e/100*N+t))},[N,u,t]),V=(0,r.I4)(e=>{f(Math.min(_,e/100*N+t))},[_,N,f,t]);(0,r.d4)(()=>{x(M)},[M]);let W=()=>{document.addEventListener("selectstart",q)},j=()=>{document.removeEventListener("selectstart",q)},q=e=>{e.preventDefault(),e.stopPropagation()},K=()=>{setTimeout(()=>{P({isDragging:!1,element:void 0})},300),I.current=null,E.current=null,j(),document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",K),document.removeEventListener("pointerup",K)},J=e=>{if(null===I.current)return;let i=e.clientX-I.current;if(P({isDragging:!0,element:"interval"}),!L.current)return;let r=i/L.current.getBoundingClientRect().width*N,l=s+r,d=l+B.current;E.current?l<0?(b(0,B.current),n(0)):d>_?(b(_-B.current,_),o(_)):b(l,d):t-r>0&&a-r<=_&&(n(Math.max(0,t-r)),o(Math.min(_,a-r)))};return(0,i.tZ)("div",{className:v.railContainer,children:(0,i.BX)("div",{className:v.rail,ref:L,onMouseDown:e=>{if(!L.current)return;W(),I.current=e.clientX,B.current=h-s;let t=L.current.getBoundingClientRect().left,n=(e.clientX-t)/L.current.getBoundingClientRect().width*100,i=n>=O&&n<=F;E.current=i,document.addEventListener("mousemove",J),document.addEventListener("mouseup",K),document.addEventListener("pointerup",K)},onClick:e=>{if(e.stopPropagation(),e.preventDefault(),M.isDragging||!L.current)return;I.current=e.clientX,B.current=h-s;let n=L.current.getBoundingClientRect().left,i=(e.clientX-n)/L.current.getBoundingClientRect().width*100,r=i>=O&&i<=F,a=t+i/100*N;if(r)w(a);else{let e=d()(a,0,_-B.current),t=e+B.current;b(e,t)}},children:[(()=>{var e,n;if(!k)return null;let r=null!==(n=null==L?void 0:null===(e=L.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0;if(0===r)return null;let l=(function(e,t,n){let i=[],r=Math.floor(e/n)*n,a=Math.ceil(t/n)*n;for(let e=r;e<=a;e+=n)i.push(e);return i})(t,a,N/r*(60*(k.tile_width/k.tile_height))).map(e=>({time:e,tile:g(k.tiles,e)}));return(0,i.tZ)(c.gq,{className:v.storyboard,children:l.map((e,n)=>{let{time:r,tile:a}=e,l=(r-t)/N*100;return(0,i.tZ)("div",{style:{position:"absolute",left:"calc(".concat(l,"% + 6px)")},children:(0,i.tZ)(m,{storyboard:k,imageUrl:k.url,displayHeight:60,displayWidth:k.tile_width/k.tile_height*60,x:a.x,y:a.y},"".concat(a.x,"-").concat(a.y,"-").concat(n))})})})})(),(0,i.tZ)("div",{className:v.nonSelectable,style:{background:U,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,i.BX)("div",{className:l()(v.handles,v.nonSelectable),children:[(0,i.tZ)("div",{className:v.selection,style:{left:"calc(".concat(O,"% - 6px)"),width:"calc(".concat(F-O,"% + 12px)")}}),!X&&(0,i.tZ)("div",{className:v.selectionFadeLeft}),!z&&(0,i.tZ)("div",{className:v.selectionFadeRight})]}),(0,i.tZ)(Z,{divRef:L,startTimeline:t,railDuration:a-t,active:!M.isDragging}),(0,i.BX)("div",{className:v.handles,children:[(0,i.tZ)(C,{className:"".concat(v.draggable," ").concat(v.draggableLeft),railRef:L,label:(0,p.DL)(null!=T?T:0,!0),position:O,maxPosition:F,setPosition:H,isDragging:"start"===M.element,setIsDragging:e=>e?P({isDragging:!0,element:"start"}):P({isDragging:!1,element:void 0})}),(0,i.tZ)(C,{className:"".concat(v.draggable," ").concat(v.draggableRight),railRef:L,label:(0,p.DL)(null!=T?T:0,!0),position:F,minPosition:O,setPosition:V,isDragging:"end"===M.element,setIsDragging:e=>e?P({isDragging:!0,element:"end"}):P({isDragging:!1,element:void 0})}),(0,i.tZ)(C,{className:v.playback,railRef:L,label:(0,p.DL)(T,!0),position:A,isDragging:M.isDragging,disabled:!0})]})]})})};v.lgTick,v.lgTick,v.smTick,v.smTick;let C=e=>{let{railRef:t,position:n,disabled:a,setPosition:l,label:o,maxPosition:d,minPosition:s,className:c,onDragStart:u,onDragEnd:p,showIcon:h=!0,setIsDragging:m}=e,g=(0,r.sO)(null),[f,C]=(0,r.eJ)(!1),Z=()=>{document.addEventListener("selectstart",y)},b=()=>{document.removeEventListener("selectstart",y)},y=e=>{e.preventDefault(),e.stopPropagation()},w=()=>{setTimeout(()=>{null==m||m(!1)},0),C(!1),b(),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w),document.removeEventListener("pointerup",w),p&&p()},_=e=>{if(null==m||m(!0),!t.current||!g.current)return;let n=t.current.getBoundingClientRect().left,i=t.current.getBoundingClientRect().width,r=(e.clientX-n)/i*100;l&&(void 0!==d&&void 0!==s?l(Math.min(d,Math.max(s,r))):void 0!==d?l(Math.min(d,r)):void 0!==s?l(Math.max(s,r)):l(r))};return(0,i.BX)("div",{className:c,ref:g,style:{left:"".concat(n,"%")},onMouseDown:e=>{!a&&(null==m||m(!1),e.stopPropagation(),C(!0),Z(),document.addEventListener("mousemove",_),document.addEventListener("mouseup",w),document.addEventListener("pointerup",w),u&&u())},children:[h&&(0,i.tZ)("div",{className:v.handle}),(0,i.tZ)("div",{className:"".concat(v.tooltip," ").concat(f?v.visible:v.hidden," ").concat(v.nonSelectable),children:o})]})},Z=e=>{let{divRef:t,startTimeline:n,railDuration:a,active:o}=e,[d,s]=(0,r.eJ)(null),[c,u]=(0,r.eJ)(!1),h=e=>{if(t.current){let i=t.current.getBoundingClientRect(),{left:r,width:l}=i,o=e.clientX-r;s({x:e.clientX-i.left,time:n+o/l*100/100*a})}},m=()=>u(!0),g=()=>u(!1);return((0,r.d4)(()=>(t.current&&(t.current.addEventListener("mousemove",h),t.current.addEventListener("mouseenter",m),t.current.addEventListener("mouseleave",g)),()=>{t.current&&(t.current.removeEventListener("mousemove",h),t.current.removeEventListener("mouseenter",m),t.current.removeEventListener("mouseleave",g))}),[n,a]),o&&d&&c)?(0,i.BX)("div",{className:l()(v.shadowContainer,v.nonSelectable),style:{left:d.x},children:[(0,i.tZ)("div",{className:v.shadow}),(0,i.tZ)("div",{className:l()(v.tooltip,v.mouseTracker),children:(0,p.DL)(d.time,!0)})]}):null}},46543:function(e,t,n){n.d(t,{i:()=>D});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(30396),d=n(94184),s=n.n(d),c=n(71212),u=n(80569),p=n.n(u),v=n(61649),h=n(15345),m=n(14068),g=n(7654),f=n.n(g),C=n(23493),Z=n.n(C),b=n(75697),y=n(68833),w=n(19081),_=n(43681);let k=e=>{let{clipEnd:t,clipStart:n,post:r,pub:a}=e,o={t:n.toFixed(1),d:(t-n).toFixed(1)},d={variant:"icon",url:(0,b.O1)(null,{post:r,pub:a,useCustomDomainOverOpen:!0,params:o}),onLinkClicked:e=>{(0,y.j)(y.FP.SHARE_LINK_CLICKED,(0,i._)({is_clip:!0,type:e,post_id:r.id},o)),(0,y.j)(y.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"share_to_".concat(e),source:"video clipper"})}},s=(0,_.LM)(d),c=(0,_.oy)(d),u=(0,_.gY)(d),p=(0,_.Wh)(d),v=(0,_.kB)(d);return(0,l.BX)(w.gq,{alignItems:"center",gap:16,children:[s,u,c,p,v]})};var x=n(33804),L=n(40297),I=n(95441),B=n(15771),E=n(82021);function M(e){var t,n,i;let{hideBottomControls:r,initialEnd:a,initialStart:d,isInline:c,videoPlayerRef:u,videoUpload:h,post:m,pub:g,onCancel:C,onSubmit:b,onSubmitLabel:y,minClipDuration:_=1,maxClipDuration:M=Number.MAX_VALUE,minTimelineDuration:P=0,maxTimelineDuration:N=Number.MAX_VALUE}=e,{clipTimes:T,setClipEnd:S,setClipStart:D,zoom:R,setZoom:X}=(0,v.Sr)(),{start:z,end:O}=null!=T?T:{start:null!=d?d:0,end:null!=a?a:Math.min(v.ss,null!==(i=null==h?void 0:h.duration)&&void 0!==i?i:v.ss)};(0,o.d4)(()=>{setTimeout(()=>{var e,t;!T&&(null==u?void 0:null===(t=u.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.duration)&&(D(z),S(O))},1e3)},[]);let[F,A]=(0,o.eJ)(),[U,H]=(0,o.eJ)(!1),{iString:V}=(0,I.M1)(),W=(0,o.Ye)(()=>Z()(e=>{var t;let{time:n}=e;!(null==u?void 0:null===(t=u.current)||void 0===t?void 0:t.player)||f()(n)||(u.current.player.currentTime=n)},10),[u]);(0,o.d4)(()=>{u&&W({time:O})},[O,W,u]),(0,o.d4)(()=>{u&&W({time:z})},[z,W,u]),(0,o.d4)(()=>{let e=async e=>{let{body:{src:t}}=await p().get("/api/v1/video/upload/".concat(e,"/storyboard"));A((await p().get(t)).body)};(null==h?void 0:h.id)&&e(h.id)},[h]);let j=async()=>{H(!0),await (null==b?void 0:b({start:z,duration:O-z,render_transcript_as:void 0})),H(!1)};return u?(0,l.tZ)(x.w,{children:(0,l.tZ)(w.hs,{bg:"primary",className:s()(E.Z.containerElevated,{[E.Z.containerInline]:c}),children:(0,l.BX)(w.tu,{gap:16,flex:"grow",children:[(0,l.tZ)(w.gq,{className:E.Z.videoTrimmerWrapper,children:(null===(t=u.current)||void 0===t?void 0:t.player)&&(0,l.tZ)(L.AM,{videoElement:null===(n=u.current)||void 0===n?void 0:n.player,start:z,setStart:e=>{D(e)},end:O,setEnd:e=>{S(e)},minDuration:_,maxDuration:M,maxTimelineDuration:N,minTimelineDuration:P,storyboard:F,looping:!0,zoom:R,setZoom:X})}),!r&&(0,l.BX)(w.gq,{justifyContent:"space-between",alignItems:"center",gap:16,opacity:U?50:100,children:[(0,l.tZ)(v.l7,{}),(0,l.BX)(w.gq,{alignItems:"center",gap:16,children:[m&&g&&(0,l.tZ)(k,{clipEnd:O,clipStart:z,post:m,pub:g}),C&&(0,l.tZ)(B.zx,{priority:"secondary",onClick:C,disabled:U,children:V("Cancel")}),"string"==typeof y?(0,l.tZ)(B.zx,{priority:"primary",onClick:j,disabled:U,children:y}):null==y?void 0:y(j)]})]})]})})}):null}var P=n(32246),N=n(98914),T=n(70379),S=n(60308);let D=e=>{var t;let{postId:n,visible:d,videoPlayerRef:c}=e,u=(0,a._)(e,["postId","visible","videoPlayerRef"]),{onCancelClipping:p}=(0,v.Sr)(),[h,g]=(0,o.eJ)(!1),[f,C]=(0,o.eJ)(),Z=()=>{if(d){var t,i,r,a;null===(i=c.current)||void 0===i||null===(t=i.player)||void 0===t||t.pause(),(0,y.j)(y.FP.VIDEO_CLIP_CREATE_MODAL_CLOSED,{post_id:null!=n?n:null===(r=e.post)||void 0===r?void 0:r.id}),u.hideBottomControls||(0,y.j)(y.FP.MEDIA_CLIP_CREATE_MODAL_CLOSED,{video_upload_id:u.videoUpload.id,post_id:null!=n?n:null===(a=e.post)||void 0===a?void 0:a.id,is_post_editor:!1})}p()},b=async e=>{var t,n;C({id:(0,N.EH)(),created_at:new Date,media_upload_id:u.videoUpload.id,title:null!==(n=null===(t=u.post)||void 0===t?void 0:t.slug)&&void 0!==n?n:"",start_time:e.start,duration:e.duration,source:"user",assets:[],user_id:null,description:""}),g(!0)};return((0,m.Z)(e.containerRef,Z),d)?(0,l.BX)(w.gq,{className:s()(E.Z.videoTrimmerSlider,{[E.Z.videoTrimmerSliderVisible]:d}),children:[(0,l.tZ)(R,(0,r._)((0,i._)({},u),{videoPlayerRef:c,onCancel:Z,onSubmit:b})),f&&(0,l.tZ)(P._,{videoUpload:u.videoUpload,transcription:null===(t=u.videoUpload.extractedAudio)||void 0===t?void 0:t.transcription,isOpen:h,onClose:()=>{g(!1),p()},clip:f,useDownloadsCenter:!0,surface:"post_view"})]}):null},R=e=>{let{hideBottomControls:t,isInline:n,videoPlayerRef:a,videoUpload:d,post:s,pub:u,onCancel:m,onSubmit:g}=e,f=(0,T.pm)(),C=(0,h.Gi)(),{iString:Z}=(0,I.M1)();(0,o.d4)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);let b=async e=>{var t,n;(0,y.j)(y.FP.VIDEO_CLIP_CREATE_BUTTON_CLICKED,{post_id:null==s?void 0:s.id,media_upload_id:null==s?void 0:null===(t=s.videoUpload)||void 0===t?void 0:t.id,start_time:e.start,end_time:e.start+e.duration}),a&&setTimeout(()=>{var e,t;return null===(t=a.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.pause()},100);try{let t=await p().post("/api/v1/video/assets/".concat(null==d?void 0:d.id,"/clips")).send(e);return C.addMediaUpload({mediaUpload:t.body.mediaUpload,thumbnailUrl:(0,S.kOB)(d),title:null!==(n=null==s?void 0:s.title)&&void 0!==n?n:Z("Download"),source:"user"}),m(),e}catch(e){console.error(e),f.popToast(e=>(0,l.tZ)(T.FN,(0,r._)((0,i._)({},e),{text:Z("Error creating clip")})))}};return(0,l.tZ)(M,{hideBottomControls:t,isInline:n,videoPlayerRef:a,videoUpload:d,post:s,pub:u,onSubmit:null!=g?g:b,onSubmitLabel:e=>(0,l.tZ)(B.zx,{leading:(0,l.tZ)(c.Z,{size:20}),onClick:e,children:Z("Create clip")}),minClipDuration:v.AT,maxClipDuration:v.ar,minTimelineDuration:v.Zl,maxTimelineDuration:v.eD})}},72984:function(e,t,n){n.d(t,{k:()=>s});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(98661),d=n(98914);let s=(0,o.forwardRef)((e,t)=>{var{onClick:n,href:o,localNavigation:s,newTab:c}=e,u=(0,a._)(e,["onClick","href","localNavigation","newTab"]);let p=o?e=>{(!n||(n.call(e.target,e),!e.defaultPrevented))&&(0,d.uX)(o,{event:e,local_navigation:s,newTab:c})}:n;return(0,l.tZ)("button",(0,r._)((0,i._)({tabIndex:0},u),{ref:t,onClick:p}))})},48083:function(e,t,n){n.d(t,{Z:()=>r});var i=n(30396);let r=e=>{let[t,n]=(0,i.eJ)(0);return(0,i.d4)(()=>{let t=()=>{e&&n(e.currentTime)};if(e)return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[e]),t}},14068:function(e,t,n){n.d(t,{Z:()=>r});var i=n(30396);let r=function(e,t){(0,i.d4)(()=>{function n(n){let i=n.target;e.current&&!e.current.contains(i)&&t()}function i(e){("Escape"===e.key||27===e.keyCode)&&t()}return document.addEventListener("mousedown",n),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("keydown",i)}},[e,t])}},13304:function(e,t,n){n.d(t,{Z:()=>o});var i=n(7409),r=n(99282),a=n(16584),l=n(64515);let o=e=>(0,a.BX)(l.l,(0,r._)((0,i._)({},e),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"},children:[(0,a.tZ)("path",{d:"M15 5L5 15",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"}),(0,a.tZ)("path",{d:"M5 5L15 15",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})]}))},53804:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:d=1.5,className:s}=e,c=(0,a._)(e,["size","stroke","strokeWidth","className"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},c),{name:"NoteRestackIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:d,strokeLinecap:"round",strokeLinejoin:"round",className:s,children:(0,l.tZ)("path",{d:"M2.53001 7.81595C3.49179 4.73911 6.43281 2.5 9.91173 2.5C13.1684 2.5 15.9537 4.46214 17.0852 7.23684L17.6179 8.67647M17.6179 8.67647L18.5002 4.26471M17.6179 8.67647L13.6473 6.91176M17.4995 12.1841C16.5378 15.2609 13.5967 17.5 10.1178 17.5C6.86118 17.5 4.07589 15.5379 2.94432 12.7632L2.41165 11.3235M2.41165 11.3235L1.5293 15.7353M2.41165 11.3235L6.38224 13.0882"})}))}},25226:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:d=1.5}=e,s=(0,a._)(e,["size","stroke","strokeWidth"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},s),{name:"NoteShareIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:d,strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.tZ)("path",{d:"M10.2171 2.2793L10.2171 12.9745M10.2171 2.2793L13.333 4.99984M10.2171 2.2793L7.08301 4.99984M2.49967 10.9925L2.49967 14.1592C2.49967 16.011 4.00084 17.5121 5.85261 17.5121L14.9801 17.5121C16.8318 17.5121 18.333 16.011 18.333 14.1592L18.333 10.9925"})}))}},52842:function(e,t,n){n.d(t,{Z:()=>o});var i=n(7409),r=n(99282),a=n(16584),l=n(64515);let o=e=>(0,a.tZ)(l.l,(0,r._)((0,i._)({},e),{name:"PauseIconRounded",svgParams:{height:16,width:16},stroke:"none",children:(0,a.tZ)("path",{d:"M3.43396 16C2.47491 16 1.99064 15.5157 2.00014 14.5757V1.42433C2.00014 0.484273 2.48441 0 3.43396 0L5.7034 0C6.65296 0.00949555 7.13723 0.465282 7.13723 1.42433V14.5757C7.13723 15.5157 6.65296 16 5.7034 16H3.43396ZM10.831 16C9.87195 16 9.40666 15.5157 9.40666 14.5757V1.42433C9.40666 0.484273 9.89094 0 10.831 0L13.1004 0C14.05 0 14.5343 0.465282 14.5343 1.42433V14.5757C14.5343 15.5157 14.05 16 13.1004 16H10.831Z"})}))},36181:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{fill:t="white"}=e,n=(0,a._)(e,["fill"]);return(0,l.BX)(o.l,(0,r._)((0,i._)({},n),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:t},children:[(0,l.tZ)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,l.tZ)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"})]}))}},18389:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{fill:t="white"}=e,n=(0,a._)(e,["fill"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},n),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:t},children:(0,l.tZ)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"})}))}},27027:function(e,t,n){n.d(t,{Z:()=>o});var i=n(7409),r=n(99282),a=n(16584),l=n(64515);let o=e=>(0,a.BX)(l.l,(0,r._)((0,i._)({},e),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"},children:[(0,a.BX)("g",{"clip-path":"url(#clip0_2063_103618)",children:[(0,a.tZ)("circle",{cx:"12",cy:"12",r:"12",fill:"white",stroke:"none"}),(0,a.tZ)("path",{d:"M9.101 23.647V15.667H6.627V12H9.101V10.42C9.101 6.335 10.949 4.442 14.959 4.442C15.36 4.442 15.914 4.484 16.427 4.545C16.8112 4.58454 17.1924 4.64968 17.568 4.74V8.065C17.3509 8.04475 17.133 8.03274 16.915 8.029C16.6707 8.02266 16.4264 8.01966 16.182 8.02C15.475 8.02 14.923 8.116 14.507 8.329C14.2273 8.46931 13.9922 8.68468 13.828 8.951C13.57 9.371 13.454 9.946 13.454 10.703V12H17.373L16.987 14.103L16.7 15.667H13.454V23.912C19.396 23.194 24 18.135 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12C0 17.628 3.874 22.35 9.101 23.647Z",fill:"#0866FF",stroke:"none"})]}),(0,a.tZ)("defs",{children:(0,a.tZ)("clipPath",{id:"clip0_2063_103618",children:(0,a.tZ)("rect",{width:"24",height:"24",fill:"white",stroke:"none"})})})]}))},55232:function(e,t,n){n.d(t,{Z:()=>o});var i=n(7409),r=n(99282),a=n(16584),l=n(64515);let o=e=>(0,a.BX)(l.l,(0,r._)((0,i._)({},e),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"},children:[(0,a.tZ)("g",{"clip-path":"url(#clip0_2099_103632)"}),(0,a.tZ)("rect",{x:"1",y:"1",width:"22",height:"22",fill:"white",stroke:"none"}),(0,a.tZ)("path",{d:"M20.447 20.452H16.893V14.883C16.893 13.555 16.866 11.846 15.041 11.846C13.188 11.846 12.905 13.291 12.905 14.785V20.452H9.351V9H12.765V10.561H12.811C13.288 9.661 14.448 8.711 16.181 8.711C19.782 8.711 20.448 11.081 20.448 14.166L20.447 20.452ZM5.337 7.433C4.193 7.433 3.274 6.507 3.274 5.368C3.274 4.23 4.194 3.305 5.337 3.305C6.477 3.305 7.401 4.23 7.401 5.368C7.401 6.507 6.476 7.433 5.337 7.433ZM7.119 20.452H3.555V9H7.119V20.452ZM22.225 0H1.771C0.792 0 0 0.774 0 1.729V22.271C0 23.227 0.792 24 1.771 24H22.222C23.2 24 24 23.227 24 22.271V1.729C24 0.774 23.2 0 22.222 0H22.225Z",fill:"#0A66C2",stroke:"none"}),(0,a.tZ)("defs",{children:(0,a.tZ)("clipPath",{id:"clip0_2099_103632",children:(0,a.tZ)("rect",{width:"24",height:"24",fill:"white",style:"fill:white;fill-opacity:1;"})})})]}))},90443:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,d=(0,a._)(e,["size","fill"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},d),{name:"HackerNewsIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,stroke:"none",children:(0,l.tZ)("path",{stroke:"none",fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H18C19.1046 0 20 0.895431 20 2V18C20 19.1046 19.1046 20 18 20H2C0.895431 20 0 19.1046 0 18V2ZM9.32607 11.3083L5.8932 4.87747H7.46207L9.4814 8.9472C9.51247 9.01969 9.54871 9.09477 9.59013 9.17243C9.63156 9.2501 9.6678 9.33036 9.69887 9.4132C9.71958 9.44427 9.73511 9.47274 9.74547 9.49863C9.75582 9.52452 9.76618 9.54782 9.77653 9.56853C9.82831 9.67209 9.87491 9.77305 9.91633 9.87143C9.95776 9.96981 9.994 10.0604 10.0251 10.1433C10.1079 9.96722 10.1985 9.77823 10.2969 9.5763C10.3953 9.37437 10.4962 9.16467 10.5998 8.9472L12.6502 4.87747H14.1103L10.6464 11.3859V15.5333H9.32607V11.3083Z"})}))}},82653:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,d=(0,a._)(e,["size","fill"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},d),{name:"MailIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,l.tZ)("path",{stroke:"none",d:"M9.9958 11.0646C10.2693 11.0646 10.5346 10.9569 10.7915 10.7248L19.0717 3.431C18.6241 3.13262 18.1102 3 17.3974 3H2.60257C1.88976 3 1.37587 3.13262 0.920011 3.431L9.20011 10.7248C9.46534 10.9569 9.73057 11.0646 9.9958 11.0646ZM0.215499 15.9465L6.34893 9.82137L0.198922 4.40075C0.107749 4.5748 0 4.99751 0 5.56941V14.7199C0 15.2503 0.0828842 15.6316 0.215499 15.9465ZM2.35391 17.2892H17.646C18.2511 17.2892 18.7235 17.14 19.0385 16.9245L12.731 10.6171L11.5209 11.6945C11.0402 12.1173 10.518 12.3328 9.9958 12.3328C9.48197 12.3328 8.95975 12.1173 8.47905 11.6945L7.26894 10.6171L0.961455 16.9245C1.27642 17.14 1.74057 17.2892 2.35391 17.2892ZM19.7844 15.9465C19.9088 15.6316 20 15.2503 20 14.7199V5.56941C20 4.99751 19.8922 4.5748 19.8011 4.40075L13.651 9.82137L19.7844 15.9465Z"})}))}},77559:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,d=(0,a._)(e,["size","fill"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},d),{name:"PinterestIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,l.tZ)("path",{stroke:"none",d:"M10 0C4.47656 0 0 4.47656 0 10C0 14.2383 2.63672 17.8555 6.35547 19.3125C6.26953 18.5195 6.1875 17.3086 6.39062 16.4453C6.57422 15.6641 7.5625 11.4766 7.5625 11.4766C7.5625 11.4766 7.26172 10.8789 7.26172 9.99219C7.26172 8.60156 8.06641 7.5625 9.07031 7.5625C9.92187 7.5625 10.3359 8.20312 10.3359 8.97266C10.3359 9.83203 9.78906 11.1133 9.50781 12.3008C9.27344 13.2969 10.0078 14.1094 10.9883 14.1094C12.7656 14.1094 14.1328 12.2344 14.1328 9.53125C14.1328 7.13672 12.4141 5.46094 9.95703 5.46094C7.11328 5.46094 5.44141 7.59375 5.44141 9.80078C5.44141 10.6602 5.77344 11.582 6.1875 12.082C6.26953 12.1797 6.28125 12.2695 6.25781 12.3672C6.18359 12.6836 6.01172 13.3633 5.98047 13.5C5.9375 13.6836 5.83594 13.7227 5.64453 13.6328C4.39453 13.0508 3.61328 11.2266 3.61328 9.75781C3.61328 6.60156 5.90625 3.70703 10.2188 3.70703C13.6875 3.70703 16.3828 6.17969 16.3828 9.48438C16.3828 12.9297 14.2109 15.7031 11.1953 15.7031C10.1836 15.7031 9.23047 15.1758 8.90234 14.5547C8.90234 14.5547 8.40234 16.4648 8.28125 16.9336C8.05469 17.8008 7.44531 18.8906 7.03906 19.5547C7.97656 19.8438 8.96875 20 10 20C15.5234 20 20 15.5234 20 10C20 4.47656 15.5234 0 10 0Z"})}))}},82695:function(e,t,n){n.d(t,{Z:()=>d});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(64515);let d=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,d=(0,a._)(e,["size","fill"]);return(0,l.tZ)(o.l,(0,r._)((0,i._)({},d),{name:"RedditIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,l.tZ)("path",{stroke:"none",fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10ZM15.2049 8.53825C16.0119 8.53825 16.6669 9.19322 16.6669 10.0002C16.6669 10.5967 16.3043 11.1113 15.8248 11.3453C15.8482 11.4856 15.8599 11.626 15.8599 11.778C15.8599 14.0236 13.2517 15.8365 10.0236 15.8365C6.79553 15.8365 4.18734 14.0236 4.18734 11.778C4.18734 11.626 4.19904 11.4739 4.22243 11.3336C3.70781 11.0997 3.35693 10.5967 3.35693 10.0002C3.35693 9.19322 4.0119 8.53825 4.81892 8.53825C5.20489 8.53825 5.56746 8.70199 5.82477 8.9476C6.83062 8.21076 8.22243 7.75462 9.77799 7.70784L10.5148 4.22246C10.5382 4.15228 10.5733 4.0938 10.6318 4.05871C10.6903 4.02363 10.7604 4.01193 10.8306 4.02363L13.2517 4.53825C13.4154 4.18737 13.7663 3.95345 14.1756 3.95345C14.7487 3.95345 15.2166 4.42129 15.2166 4.99439C15.2166 5.56749 14.7487 6.03532 14.1756 6.03532C13.6142 6.03532 13.1581 5.59088 13.1347 5.04117L10.971 4.58503L10.3043 7.70784C11.8248 7.76632 13.2049 8.23415 14.199 8.9476C14.4563 8.69029 14.8072 8.53825 15.2049 8.53825ZM7.70781 10.0002C7.13471 10.0002 6.66687 10.4681 6.66687 11.0412C6.66687 11.6143 7.13471 12.0821 7.70781 12.0821C8.28091 12.0821 8.74875 11.6143 8.74875 11.0412C8.74875 10.4681 8.28091 10.0002 7.70781 10.0002ZM10.0119 14.5499C10.4096 14.5499 11.7663 14.5032 12.4797 13.7897C12.585 13.6844 12.585 13.5207 12.5031 13.4037C12.3979 13.2985 12.2224 13.2985 12.1172 13.4037C11.661 13.8482 10.7137 14.0119 10.0236 14.0119C9.33354 14.0119 8.37448 13.8482 7.93003 13.4037C7.82477 13.2985 7.64933 13.2985 7.54407 13.4037C7.4388 13.509 7.4388 13.6844 7.54407 13.7897C8.24582 14.4915 9.61424 14.5499 10.0119 14.5499ZM11.2517 11.0412C11.2517 11.6143 11.7195 12.0821 12.2926 12.0821C12.8657 12.0821 13.3335 11.6143 13.3335 11.0412C13.3335 10.4681 12.8657 10.0002 12.2926 10.0002C11.7195 10.0002 11.2517 10.4681 11.2517 11.0412Z"})}))}},94499:function(e,t,n){n.d(t,{Z:()=>o});var i=n(7409),r=n(99282),a=n(98848),l=n(16584);let o=e=>{var{children:t,href:n,onClick:o,newTab:d}=e,s=(0,a._)(e,["children","href","onClick","newTab"]);return(0,l.tZ)("a",(0,r._)((0,i._)({role:"button",tabIndex:0,href:null!=n?n:"javascript:void(0)"},d&&{target:"_blank",rel:"noopener noreferrer"},o&&{onClick:e=>{e.stopPropagation(),o(e)}},s),{children:t}))}},1381:function(e,t,n){n.d(t,{I:()=>g});var i=n(7409),r=n(99282),a=n(16584),l=n(30396),o=n(80569),d=n.n(o),s=n(98914),c=n(15771),u=n(19081),p=n(17391),v=n(87185),h=n(6490),m=n(70379);function g(e){var t,n;let{isOpen:o,onClose:g,post:f}=e,C=(0,m.pm)(),[Z,b]=(0,l.eJ)(!1),y=null===(n=f.postTheme)||void 0===n?void 0:null===(t=n.variant_config)||void 0===t?void 0:t.fullWidthImage,w={hideOverlay:(null==y?void 0:y.hideOverlay)||!1,hideSectionLink:(null==y?void 0:y.hideSectionLink)||!1,textColor:(null==y?void 0:y.textColor)||"black"},[_,k]=(0,l.eJ)(w),x=async()=>{b(!0);try{var e;let t=(0,r._)((0,i._)({},null===(e=f.postTheme)||void 0===e?void 0:e.variant_config),{fullWidthImage:_});await d().patch("/api/v1/post/".concat(f.id,"/theme")).send({variant_config:t}),location.reload()}catch(e){C.popToast(t=>(0,a.tZ)(m.FN,(0,r._)((0,i._)({},t),{text:(0,s.zx)(e)})))}finally{b(!1)}},L=()=>{k(w),g()};return(0,a.BX)(h.u_,{isOpen:o,onClose:L,children:[(0,a.tZ)(h.xB,{showClose:!0,title:"Full Width Image Options",onClose:L}),(0,a.tZ)(h.fe,{children:(0,a.BX)(u.tu,{gap:12,children:[(0,a.tZ)(v.m,{label:"Text Color",options:[{value:"black",label:"Black"},{value:"red",label:"Red"},{value:"white",label:"White"}],value:_.textColor,onChange:e=>k((0,r._)((0,i._)({},_),{textColor:e}))}),(0,a.tZ)(p.j,{label:"Hide overlay",value:_.hideOverlay,onChange:e=>k((0,r._)((0,i._)({},_),{hideOverlay:e}))}),(0,a.tZ)(p.j,{label:"Hide section link",value:_.hideSectionLink,onChange:e=>k((0,r._)((0,i._)({},_),{hideSectionLink:e}))})]})}),(0,a.tZ)(h.mz,{primaryButton:(0,a.tZ)(c.zx,{disabled:Z,priority:"primary",onClick:x,children:"Save"}),secondaryButton:(0,a.tZ)(c.zx,{disabled:Z,priority:"secondary",onClick:L,children:"Cancel"})})]})}},32246:function(e,t,n){n.d(t,{_:()=>O});var i=n(7409),r=n(99282),a=n(16584),l=n(30396),o=n(39693),d=n.n(o),s=n(71375),c=n(22885),u=n(46299),p=n(71212),v=n(61649),h=n(15345),m=n(33804),g=n(95441),f=n(14952),C=n(40647),Z=n(60807),b=n(12281),y=n(48083);let w=e=>{var t,n;let{videoRef:o,mediaUpload:d,showCaptions:s,maxLineWidth:c=48,CaptionsComponent:u}=e,[p,v]=(0,l.eJ)([]),[h,m]=(0,l.eJ)({segment:null,wordIndex:-1}),{segment:g,wordIndex:f}=h,C=(0,y.Z)(null!==(n=null===(t=o.current)||void 0===t?void 0:t.player)&&void 0!==n?n:null);(0,l.d4)(()=>{var e,t;if(null===(e=o.current)||void 0===e?void 0:e.player){let e=o.current.player.currentTime,n=null!==(t=Z.find(t=>e>=t.start&&e<=t.end))&&void 0!==t?t:null;if(n){let t=-1;for(let i=0;i<n.words.length;i++){let r=n.words[i];if(r){if(e>=r.start&&e<=r.end){t=i;break}if(e<r.start)break;t=i}}m({wordIndex:t,segment:n})}else m({wordIndex:-1,segment:n})}},[o.current,p.length,C]),(0,l.d4)(()=>{var e,t;(null==d?void 0:null===(e=d.transcription)||void 0===e?void 0:e.cdn_url)&&fetch(null==d?void 0:null===(t=d.transcription)||void 0===t?void 0:t.cdn_url).then(e=>e.json()).then(e=>{v(e.map(e=>(0,r._)((0,i._)({},e),{words:e.words?e.words:[]})))}).catch(e=>console.error("Error fetching transcription:",e))},[d,s]);let Z=(0,l.Ye)(()=>(function(e,t){var n;let i=[],r=null!==(n=null==t?void 0:t.max_line_width)&&void 0!==n?n:84,a=new Set(".!?,;:");return e.forEach(e=>{let t=!0,n=e.start,l=e.end,o=e.words,d=[],s=0;if(e.text.length<=1.25*r){i.push(e);return}let c=()=>{var e,r,a,l;let o=t?n:null!==(a=null===(e=d[0])||void 0===e?void 0:e.start)&&void 0!==a?a:n,s=null!==(l=null===(r=d[d.length-1])||void 0===r?void 0:r.end)&&void 0!==l?l:o+.1,c=d.map(e=>e.word.trim()).join(" ");i.push({start:o,end:s,text:c,words:d})};if(o.forEach(e=>{var n;let i=e.word,l=i.length;if((null!==(n=i[i.length-1])&&void 0!==n?n:"")in a){d.push(e),c(),t=!1,d=[],s=0;return}s+l>r?(d.length&&(c(),t=!1),d=[e],s=l):(d.push(e),s+=l)}),d.length){var u,p;i.push({start:null!==(p=null===(u=d[0])||void 0===u?void 0:u.start)&&void 0!==p?p:n,end:l,text:d.map(e=>e.word).join(" ").trim(),words:d})}}),i})(p,{max_line_width:c}),[p,c]);return s&&Z.length&&g?(0,a.tZ)(u,{segment:g,currentWordIndex:f}):null},_=e=>{let{segment:t}=e;return(0,a.tZ)("div",{className:"container-GCnHIT",children:(0,a.tZ)("div",{className:"text-XHqLyz",children:(0,a.tZ)("div",{children:null==t?void 0:t.words.map((e,t)=>(0,a.tZ)("span",{children:e.word.startsWith(" ")?e.word:" ".concat(e.word)},t))})})})},k=e=>{let{segment:t}=e;return(0,a.tZ)("div",{className:"container-OtABFE",children:(0,a.tZ)("div",{className:"text-Qzw72N",children:(0,a.tZ)("div",{children:null==t?void 0:t.words.flatMap((e,t)=>[t>0&&" ",(0,a.tZ)("span",{children:e.word.trim().replace(/[,.]+$/,"")},t)])})})})};var x=n(19081),L=n(61527);let I=e=>{var t,n,i;let{videoUpload:r,clip:o,showCaptions:d=!1,captionsStyle:s="classic",aspectRatio:c="landscape"}=e,u=(0,f.Ij)(),p=(0,l.sO)(null),v=(0,l.sO)(null),[h,m]=(0,l.eJ)(!1),g=(0,l.sO)();(0,l.d4)(()=>{var e;let t=v.current,n=null==p?void 0:null===(e=p.current)||void 0===e?void 0:e.player;if(!t||!n)return;let i=t.getContext("2d");if(!i)return;let r=!1,a=()=>{if(!r||!n)return;if(n.paused||n.ended){r=!1;return}i.clearRect(0,0,t.width,t.height),i.fillStyle="rgb(22, 23, 24)",i.fillRect(0,0,t.width,t.height);let{videoWidth:e,videoHeight:l}=n;if(e&&l){if("vertical_fill"===c){let r,a,o,d;let s=9/16,c=t.height*s,u=e/l;u>s?(r=(e-(a=l*s))/2,d=c,o=(t.width-c)/2):(a=e,r=0,d=t.height*u,o=(t.width-d)/2);let p=t.height;i.drawImage(n,r,0,a,l,o,0,d,p)}else if("vertical_fit"===c){let r,a,o,d;let s=9/16,c=t.height,u=c*s,p=e/l;p>s?(r=u,a=u/p,o=(t.width-u)/2,d=(t.height-a)/2):(a=c,r=c*p,o=(t.width-r)/2,d=(t.height-c)/2),i.fillStyle="black",i.fillRect(o,0,r,t.height),i.drawImage(n,0,0,e,l,o,d,r,a)}else{let r=e*(t.height/l),a=t.height,o=(t.width-r)/2;i.drawImage(n,0,0,e,l,o,0,r,a)}}g.current=requestAnimationFrame(a)},l=()=>{r||(r=!0,a())},d=()=>{r=!1,g.current&&(cancelAnimationFrame(g.current),g.current=void 0)},s=()=>{d();let e=t.parentElement;if(!e)return;let n=e.clientWidth,r=e.clientHeight;if(t.width===n&&t.height===r){l();return}t.width=n,t.height=r,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),l()},u=()=>{l()},h=()=>{n.currentTime!==o.start_time?d():n.play()};n.addEventListener("play",u),n.addEventListener("pause",h),n.addEventListener("ended",h);let m=()=>{s(),l()};n.addEventListener("loadedmetadata",m);let f=t.parentElement;if(f){let e=new ResizeObserver(()=>{s()});return e.observe(f),()=>{n.removeEventListener("play",u),n.removeEventListener("pause",h),n.removeEventListener("ended",h),n.removeEventListener("loadedmetadata",m),e.disconnect(),d()}}},[c,r.id,s,d]);let C=["social","advanced_captions"].includes(null!=s?s:""),{width:Z,height:y}=r,I="portrait"==(void 0!=Z&&void 0!=y&&Z/y>=1?"landscape":"portrait"),B=(null!==(n=null===(t=r.liveStream)||void 0===t?void 0:t.joinedOrCompletedLiveStreamInvites)&&void 0!==n?n:[]).length>0,E=(I||["vertical_fill","vertical_fit"].includes(null!=c?c:""))&&B&&"social"===s;return(0,a.BX)(x.tu,{className:"container-G3tbl8",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[(0,a.BX)(x.tu,{className:"absolute-dkdKY4",children:[(0,a.tZ)("div",{style:{display:"none"},children:(0,a.tZ)(b.Z,{ref:p,mediaUpload:r,pub:u,autoPlay:!0,surface:"editor",contentType:"clip",entityType:"post",entityKey:null!==(i=r.post_id)&&void 0!==i?i:"unknown"})}),(0,a.tZ)("canvas",{width:1024,height:576,ref:v,className:"canvas-sv7jC_"})]}),r.extractedAudio&&(0,a.tZ)(x.gq,{style:{position:"absolute",left:"50%",transform:"translateX(-50%) translateY(-50%) ".concat("landscape"!==c||I?"scale(calc(9 / 16))":""),top:E?"50%":"90%"},children:(0,a.tZ)(w,{videoRef:p,mediaUpload:r.extractedAudio,showCaptions:d,maxLineWidth:C?16:48,CaptionsComponent:C?k:_})}),(0,a.tZ)(L.ql,{mediaRef:p,mediaUpload:r,isActive:h,startTime:o.start_time,duration:o.duration,hoverOptions:{transition:0,transitionDelay:0}})]})};var B=n(54687),E=n(89871),M=n(93862),P=n(68833),N=n(15771),T=n(61254),S=n(6490),D=n(58175),R=n(6630),X=n(60308),z=n(66824);let O=e=>{let{videoUpload:t,clip:n,isOpen:o,onClose:b,transcription:y,useDownloadsCenter:w=!1,surface:_,onSave:k}=e,L=(0,Z.aF)(),O=(0,f.Ij)(),{iString:F}=(0,g.M1)(),[A,U]=(0,l.eJ)(!1),H=(0,h.Gi)(),{syncClips:V}=(0,E.z)(),{clipTitle:W,setClipTitle:j}=(0,v.Sr)(),{getConfigFor:q}=(0,C.xR)(),K=q("use_captions_library"),J=(null==y?void 0:y.status)==="transcribed",[Y,G]=(0,l.eJ)("landscape"),[Q,$]=(0,l.eJ)("classic"),[ee,et]=(0,l.eJ)(!1),en=null!==Q,ei="landscape";(null==t?void 0:t.height)&&(null==t?void 0:t.width)&&(ei=t.height>t.width?"portrait":"landscape");let er=(e,n)=>{(0,P.j)(e,(0,r._)((0,i._)({},n),{is_post_editor:"media_drawer"===_,video_upload_id:t.id}))};(0,l.d4)(()=>{o&&er(P.FP.MEDIA_CLIP_EXPORT_MODAL_OPENED,{button:"cancel",source:"export_modal"})},[o]);let ea=async()=>{var e,i,r;let a=null===(e=n.assets)||void 0===e?void 0:e.sort((e,t)=>{var n,i;return(null===(n=e.asset_metadata)||void 0===n?void 0:n.live_overlay_enabled)===!0?-1:+((null===(i=t.asset_metadata)||void 0===i?void 0:i.live_overlay_enabled)===!0)}).find(e=>{var t,n,i,r,a,l,o,d,s,c,u,p,v;return("landscape"===ei?"landscape"===Y&&(null===(t=e.mediaUpload)||void 0===t?void 0:t.height)&&(null===(n=e.mediaUpload)||void 0===n?void 0:n.width)&&(null===(i=e.mediaUpload)||void 0===i?void 0:i.height)<(null===(r=e.mediaUpload)||void 0===r?void 0:r.width):(null===(a=e.mediaUpload)||void 0===a?void 0:a.height)&&(null===(l=e.mediaUpload)||void 0===l?void 0:l.width)&&(null===(o=e.mediaUpload)||void 0===o?void 0:o.height)>(null===(d=e.mediaUpload)||void 0===d?void 0:d.width))&&(en?(null===(s=e.asset_metadata)||void 0===s?void 0:s.caption_style)===Q||"advanced_captions"===Q&&(null===(c=e.asset_metadata)||void 0===c?void 0:c.caption_style)==="social":!(null===(u=e.asset_metadata)||void 0===u?void 0:u.captions_enabled))&&(!en||"social"!==Q||(null===(p=e.asset_metadata)||void 0===p?void 0:p.captions_version)===2)&&(null===(v=e.mediaUpload)||void 0===v?void 0:v.state)==="transcoded"});if(a&&a.mediaUpload){b(!0),er(P.FP.MEDIA_CLIP_DOWNLOAD_REQUESTED,{video_upload_id:t.id,is_post_editor:!1,type:n.source,media_clip_id:n.id,asset_media_upload_id:a.mediaUpload.id}),H.addMediaUpload({mediaUpload:a.mediaUpload,thumbnailUrl:(0,X.kOB)(t),title:null!==(i=n.title)&&void 0!==i?i:F("Download"),source:n.source});return}try{U(!0),b(!0);let e=n;if(e.id||(e=await (0,M.C)({videoUpload:t,start:n.start_time,duration:n.duration,title:null!=W?W:F("Untitled")})),!e)return;er(P.FP.MEDIA_CLIP_DOWNLOAD_REQUESTED,{video_upload_id:t.id,is_post_editor:!1,type:e.source,media_clip_id:e.id});let{mediaUpload:i}=await (0,M.O)({clip:e,useCaptions:en,captionsStyle:Q,showLiveOverlay:ee,aspectRatio:Y,videoUpload:t,pub:O});V(),U(!1),w&&H.addMediaUpload({mediaUpload:i,thumbnailUrl:(0,X.kOB)(t),title:null!==(r=e.title)&&void 0!==r?r:F("Download"),source:e.source}),null==k||k({mediaUpload:i,videoUpload:t,aspectRatio:Y})}catch(e){console.error(e)}finally{U(!1)}},el=()=>{er(P.FP.MEDIA_CLIP_EXPORT_MODAL_CLOSED,{button:"cancel",source:"export_modal"}),b(!1)},eo=()=>{er(P.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"cancel",source:"export_modal"}),el()};return(0,a.tZ)(S.u_,{width:720,isOpen:o,onClose:el,children:(0,a.BX)(m.w,{children:[W?(0,a.BX)(x.gq,{flex:"grow",paddingLeft:20,paddingRight:20,paddingTop:20,gap:12,alignItems:"center",children:[(0,a.tZ)(B.U,{clipTitle:null!=W?W:F("Untitled Clip"),onSaveTitle:j}),(0,a.tZ)(N.hU,{priority:"quaternary",size:"sm",title:"Close",onClick:eo,"aria-label":"close",className:z.Z.closeButton,children:(0,a.tZ)(s.Z,{size:20})})]}):(0,a.tZ)(S.xB,{title:F("Download clip"),showClose:!0,onClose:eo,showDivider:!0}),(0,a.BX)(S.fe,{className:z.Z.downloadModal,children:[(0,a.tZ)(I,{videoUpload:t,clip:n,aspectRatio:Y,showCaptions:en,captionsStyle:Q}),(0,a.BX)(x.tu,{gap:24,paddingTop:24,children:[(0,a.BX)(x.gq,{gap:32,style:{overflowY:"auto"},children:["landscape"===ei&&(0,a.BX)(x.tu,{gap:8,children:[(0,a.tZ)(D.xv.B4,{weight:"semibold",children:F("Aspect ratio")}),(0,a.tZ)(R.Z,{options:[{label:F("Landscape"),value:"landscape",icon:(0,a.tZ)(c.Z,{size:16})},{label:F("Vertical Fit"),value:"vertical_fit",icon:(0,a.tZ)(u.Z,{size:16})},{label:F("Vertical Fill"),value:"vertical_fill",icon:(0,a.tZ)(u.Z,{size:16})}],value:Y,onChange:e=>G(e)})]}),J&&(0,a.BX)(x.tu,{gap:8,children:[(0,a.tZ)(D.xv.B4,{weight:"semibold",children:F("Captions Style")}),(0,a.tZ)(R.Z,{options:d()([{label:F("Classic"),value:"classic"},...K?[{label:F("Social"),value:"advanced_captions"}]:[{label:F("Social"),value:"social"}],{label:F("None"),value:null}]),value:Q,onChange:e=>$(e)})]}),(null==L?void 0:L.is_global_admin)&&(0,a.BX)(x.tu,{gap:8,children:[(0,a.tZ)(D.xv.B4,{weight:"semibold",children:F("Live Overlay")}),(0,a.tZ)(R.Z,{options:[{label:F("Show"),value:!0},{label:F("Hide"),value:!1}],value:ee,onChange:e=>et(e)})]})]}),(0,a.tZ)(T.iz,{}),(0,a.tZ)(N.zx,{leading:(0,a.tZ)(p.Z,{}),onClick:()=>{er(P.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"complete_download_export",source:"export_modal"}),ea()},disabled:A,children:F("Download")})]})]})]})})}},54687:function(e,t,n){n.d(t,{U:()=>c});var i=n(16584),r=n(30396),a=n(23279),l=n.n(a),o=n(19081),d=n(440);let s={editIcon:"editIcon-P5YgXz",title:"title-VzicoP",input:"input-hzxurD"},c=e=>{let{clipTitle:t,onSaveTitle:n}=e,[a,c]=(0,r.eJ)(t),u=l()(e=>{n(e)},200);return(0,r.d4)(()=>{u(a)},[a]),(0,i.tZ)(o.gq,{flex:"grow",className:s.inputContainer,children:(0,i.tZ)(d.l,{className:s.input,value:a,maxLength:125,onChange:e=>{c(e.currentTarget.value)},defaultRows:1,maxRows:2,onKeyDown:e=>{e.stopPropagation()}})})}},93862:function(e,t,n){n.d(t,{C:()=>l,O:()=>o});var i=n(80569),r=n.n(i),a=n(12988);let l=async e=>{let{videoUpload:t,start:n,duration:i,title:a}=e;try{let{body:{mediaClip:e}}=await r().post("/api/v1/video/assets/".concat(t.id,"/media_clips")).send({title:a,start:n,duration:i});return e}catch(e){return console.error(e),null}},o=async e=>{let{aspectRatio:t,clip:n,useCaptions:i,captionsStyle:l,videoUpload:o,shareToNotes:d,showLiveOverlay:s,pub:c}=e,u=(0,a.Ws)(o,{showLiveOverlay:s,aspectRatio:t,pub:c}),p={start:n.start_time,duration:n.duration,render_transcript_as:i||null!==l?"subtitles":void 0,aspect_ratio:t,captions_style:null!=l?l:void 0,media_clip_id:n.id,sync:!1,share_to_notes:d,features:u};return{mediaUpload:(await r().post("/api/v1/video/assets/".concat(null==o?void 0:o.id,"/clips")).send(p)).body.mediaUpload}}},75081:function(e,t,n){var i=n(7409),r=n(98848),a=n(16584),l=n(30396),o=n(94184),d=n.n(o),s=n(60826),c=n(82621),u=n(95441),p=n(75905);n(90099),n(68833);var v=n(58175),h=n(60308),m=n(84864),g=n(47929);let f={footer:"footer-ZM59BM",footerSection:"footerSection-EHR0jG",divider:"divider-miZWsI",meta:"meta-B2bqa5"};function C(){let{iString:e,language:t}=(0,u.M1)(),n="".concat((0,h.ZJn)(),"/img/email/generic-app-button").concat("en"!==t?"-".concat(t):"",".png");return(0,a.tZ)("a",{href:(0,h.D4e)({utm_campaign:g.VX.appMarketing,utm_content:g.fZ.emailFooterButton}),children:(0,a.tZ)(b,{alt:e("Get the app"),src:n,pixelRatio:3,width:{en:131,es:135,it:135,fr:135,de:147,pt:135,"pt-br":135}[t],height:40})})}function Z(){let{iString:e,language:t}=(0,u.M1)(),n="".concat((0,h.ZJn)(),"/img/email/publish-button").concat("en"!==t?"-".concat(t):"",".png");return(0,a.tZ)("a",{href:s.W.START_WRITING_URL,children:(0,a.tZ)(b,{alt:e("Start writing"),src:n,pixelRatio:3,width:{en:135,es:182,it:164,fr:184,de:203,pt:184,"pt-br":184}[t],height:40})})}function b(e){let t;var{src:n,pixelRatio:o,width:d}=e,s=(0,r._)(e,["src","pixelRatio","width"]);let{isAmp:u}=(0,l.qp)(p.E);if("undefined"==typeof URL)t=null;else{let e;try{e=new URL(n)}catch(t){e=new URL((0,h.ZJn)()+n)}let i=Array(o).fill(0).map((t,i)=>{if(0===i)return(0,h.zF4)(n,d);let r=new URL(e),[a,l]=r.pathname.split("."),o=i+1;return r.pathname="".concat(a,"@").concat(o,"x.").concat(l),(0,h.zF4)(r.toString(),d*o)});u?n=i[i.length-1]:(n=i[1]||i[0],t=i.map((e,t)=>0===t?e:"".concat(e," ").concat(t+1,"x")).join(", "))}return(0,a.tZ)(c.Z,(0,i._)({src:n,srcset:t,width:d},s))}},66211:function(e,t,n){n(16584);var i=n(6400);n(98661),n(30396),n(94184),(0,i.createContext)(void 0).displayName="PostContextForEmail",n(14952),n(75905),n(15165),n(66436),n(6070),n(84864),n(24750),n(75081)},15165:function(e,t,n){n(16584),n(94184),n(98012)},66436:function(e,t,n){n(16584),n(94184),n(88216),n(41193),n(90099),n(98012),n(60308),n(63651)},85527:function(e,t,n){n.d(t,{F:()=>l,q:()=>a});var i=n(98661),r=n(30396);let a=(0,i.createContext)(void 0);function l(){return(0,r.qp)(a)}},37663:function(e,t,n){n.d(t,{T:()=>i});function i(e){var t;return null!==(t=({embed:"post","feed-sidebar":"feed","note-related":"feed",permalink:"feed","post-embed":"post","post-page-restacks-list":"post",suggestions:"feed"})[e])&&void 0!==t?t:e}},59488:function(e,t,n){n.d(t,{c:()=>l});var i=n(30396),r=n(23493),a=n.n(r);let l=e=>{let{idleAfter:t=3e3,element:n}=e,[r,l]=(0,i.eJ)(!1);return(0,i.d4)(()=>{let e;let i=null!=n?n:window,r=()=>{l(!0)},o=a()(()=>{l(!1),clearTimeout(e),e=setTimeout(r,t)},500),d=()=>{document.hidden||o()};return e=setTimeout(r,t),i.addEventListener("mousemove",o),i.addEventListener("mousedown",o),i.addEventListener("resize",o),i.addEventListener("keydown",o),i.addEventListener("touchstart",o),i.addEventListener("wheel",o),n||document.addEventListener("visibilitychange",d),()=>{i.removeEventListener("mousemove",o),i.removeEventListener("mousedown",o),i.removeEventListener("resize",o),i.removeEventListener("keydown",o),i.removeEventListener("touchstart",o),i.removeEventListener("wheel",o),n||document.removeEventListener("visibilitychange",d),clearTimeout(e)}},[n,t]),{isIdle:r}}},7271:function(e,t,n){n.d(t,{M:()=>r});var i=n(60807);function r(){return!!(0,i.Fl)().explicitContentEnabled}},91700:function(e,t,n){n(16584),n(20253),n(32351),n(15771)},99027:function(e,t,n){n(27412),n(7409),n(16584);var i=n(6400),r=n(14293),a=n(35937);n(96164),n(29493),n(20253),n(48980),n(98914),n(52513),n(15771),n(19081),n(58175),n(60308),n(26111),n(50475),i.Component},68709:function(e,t,n){n.d(t,{OV:()=>h,Y5:()=>v,__:()=>p});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(94184),d=n.n(o),s=n(98661),c=n(19081),u=n(58175);let p=(0,s.forwardRef)((e,t)=>{var{className:n}=e,r=(0,a._)(e,["className"]);return(0,l.tZ)(u.xv.B4,(0,i._)({as:"label",weight:"medium",color:"primary",ref:t,cursor:"inherit",className:d()("pencraft",n)},r))}),v=(0,s.forwardRef)((e,t)=>{var{className:n,children:o}=e,s=(0,a._)(e,["className","children"]);return(0,l.tZ)(p,(0,r._)((0,i._)({ref:t,className:d()("pencraft",n)},s),{children:(0,l.BX)(c.gq,{gap:4,alignItems:"center",children:[o,(0,l.tZ)(g,{})]})}))}),h=(0,s.forwardRef)((e,t)=>{var{className:n,children:o,hint:s}=e,u=(0,a._)(e,["className","children","hint"]);return(0,l.tZ)(p,(0,r._)((0,i._)({ref:t,className:d()("pencraft",n)},u),{children:(0,l.BX)(c.gq,{gap:4,justifyContent:"space-between",children:[o,(0,l.tZ)(m,{text:s})]})}))}),m=e=>{let{text:t}=e;return(0,l.tZ)(u.xv,{color:"secondary",weight:"regular",children:t})},g=()=>(0,l.tZ)(u.xv,{as:"span",color:"error",children:"*"})},27190:function(e,t,n){n.d(t,{Uv:()=>o,_n:()=>d,sc:()=>s});var i=n(16584),r=n(19425);n(98661);var a=n(71068),l=n(20746);let o=e=>{let{children:t}=e;return(0,i.tZ)(a.xu,{className:l.Z.backdropContainer,children:t})},d=()=>(0,i.tZ)(a.xu,{className:l.Z.backdrop,"aria-hidden":!0}),s=e=>{let{children:t}=e;return(0,i.tZ)(r.u.Child,{enter:l.Z.backdropEnter,enterFrom:l.Z.backdropEnterFrom,enterTo:l.Z.backdropEnterTo,leave:l.Z.backdropLeave,leaveFrom:l.Z.backdropLeaveFrom,leaveTo:l.Z.backdropLeaveTo,children:t})}},17688:function(e,t,n){n.d(t,{d:()=>g,i:()=>v});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(94184),d=n.n(o),s=n(98661),c=n(86374),u=n(19081),p=n(63584);let v=(0,s.forwardRef)((e,t)=>{var{className:n,error:o=!1,leading:s,trailing:v=(0,l.tZ)(c.Z,{}),children:g,flex:f="auto"}=e,C=(0,a._)(e,["className","error","leading","trailing","children","flex"]);return(0,l.BX)(u.hs,{position:"relative",flex:f,children:[(0,l.tZ)("select",(0,r._)((0,i._)({},C),{className:d()(n,p.Z.select,o&&p.Z.error,C.disabled&&p.Z.disabled,s?p.Z.leading:null,v?p.Z.trailing:null),ref:t,children:g})),s&&(0,l.tZ)(h,{className:d()(o&&p.Z.error,C.disabled&&p.Z.disabled),children:s}),v&&(0,l.tZ)(m,{className:d()(o&&p.Z.error,C.disabled&&p.Z.disabled),children:v})]})});v.displayName="SelectNative";let h=e=>{let{children:t,className:n}=e;return(0,l.tZ)(u.hs,{className:d()(p.Z.wrapper,p.Z.leading,n),children:t})},m=e=>{var{children:t,className:n}=e,o=(0,a._)(e,["children","className"]);return(0,l.tZ)(u.hs,(0,r._)((0,i._)({className:d()(p.Z.wrapper,p.Z.trailing,n)},o),{children:t}))},g=e=>{let{children:t}=e;return(0,l.tZ)("option",{value:"",disabled:!0,selected:!0,children:t},"placeholder")}},14518:function(e,t,n){n.d(t,{H:()=>h});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(94184),d=n.n(o),s=n(98661),c=n(15771),u=n(19081),p=n(51776),v=n(68686);let h=(0,s.forwardRef)((e,t)=>{var{className:n,placement:o="end",priority:h="secondary-outline",button:m}=e,g=(0,a._)(e,["className","placement","priority","button"]);let f=s.default.isValidElement(m)&&null!=m&&m.type===c.zx?(0,s.cloneElement)(m,{priority:h,className:d()(m.props.className,v.Z.inputWithButtonButton,v.Z[o])}):null;return(0,l.BX)(u.hs,{direction:"start"===o?"row-reverse":"row",position:"relative",sizing:"border-box",className:d()(v.Z.inputWithButtonWrapper,v.Z[h]),children:[(0,l.tZ)(p.oi,(0,r._)((0,i._)({},g),{ref:t,flex:"grow",className:d()(n,v.Z.inputWithButtonInput,v.Z[h],f&&v.Z[o])})),f]})})},440:function(e,t,n){n.d(t,{l:()=>v});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(94184),d=n.n(o),s=n(98661),c=n(64300),u=n(51776),p=n(68686);let v=(0,s.forwardRef)((e,t)=>{var{className:n,error:o=!1,defaultRows:v=4,maxRows:h,value:m,onChange:g}=e,f=(0,a._)(e,["className","error","defaultRows","maxRows","value","onChange"]);let{innerRef:C,combinedRef:Z}=(0,u.ts)(t),{value:b,handleChange:y}=(0,c.y)({value:m,onChange:g}),w=()=>{let e=C.current;if(!e)return;let t=window.getComputedStyle(e),n=parseInt(t.borderTopWidth)+parseInt(t.borderBottomWidth),i=parseInt(t.paddingTop)+parseInt(t.paddingBottom),r=parseInt(t.lineHeight);e.style.height="auto";let a=r*v+n+i,l=Math.min(Math.max(e.scrollHeight+n,a),h?r*h+n+i:1/0);e.style.height="".concat(l,"px")};return(0,s.useEffect)(()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[]),(0,l.tZ)(c.g,(0,r._)((0,i._)({},f),{value:b,onChange:e=>{y(e),w()},rows:v,className:d()(n,p.Z.autogrowing),ref:Z,error:o}))})},56649:function(e,t,n){n.d(t,{D:()=>a});var i=n(16584),r=n(58175);let a=e=>{let{errors:t}=e;return t?(0,i.tZ)(i.HY,{children:t.map(e=>(0,i.tZ)(r.xv.B4,{color:"error",children:e},e))}):null}},82876:function(e,t,n){n.d(t,{g:()=>Z});var i=n(16584),r=n(98661),a=n(94184),l=n.n(a),o=n(27412),d=n(6400),s=n(14293),c=n.n(s),u=n(60807),p=n(98914);let v={portalWrapper:"portalWrapper-bzvNNv",contentWrapper:"contentWrapper-Ej3nCx",contentWrapperShown:"contentWrapperShown-aSNUOg"};class h extends d.Component{onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),0===this.props.delay){this.setIsShown(!0);return}"undefined"!=typeof window&&(this.hoverPid=window.setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay))}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),"undefined"!=typeof window&&(this.closePid=window.setTimeout(()=>{this.setIsShown(!1)},100))}setIsShown(e){this.setState({isOpen:e,attachCard:e})}onClick(e){e.stopPropagation()}render(e,t){var n,a,o,d;let{content:s,preferPositionLeft:u,className:h,children:m}=e,{attachCard:g,isOpen:f}=t,C={},Z=!1;if(g&&(null===(n=this.wrapperRef)||void 0===n?void 0:n.current)){let{top:e,left:t}=this.wrapperRef.current.getBoundingClientRect(),{height:n,width:i}=null!==(o=null===(a=this.cardRef.current)||void 0===a?void 0:a.getBoundingClientRect())&&void 0!==o?o:{};C=(Z=u&&!c()(i)&&t-i>0)?{top:c()(n)?NaN:e-8-n,left:c()(i)?NaN:t-i-8,"max-width":300}:{top:c()(n)?NaN:e-8-n,"max-width":300,left:t}}return(0,i.BX)("div",{className:l()(v.portalWrapper,h),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:e=>this.onClick(e),ref:this.wrapperRef,children:["function"==typeof m?m({}):m,g&&(0,r.createPortal)((0,i.tZ)("div",{className:l()(v.contentWrapper,{[null!==(d=v.contentWrapperShown)&&void 0!==d?d:"undefined"]:f,"animate-opacity":!(0,p.G6)(),"position-left":Z}),ref:this.cardRef,style:C,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),children:s}),document.body)]})}constructor(e,t){super(e,t),(0,o._)(this,"cardRef",void 0),(0,o._)(this,"hoverPid",void 0),(0,o._)(this,"closePid",void 0),(0,o._)(this,"wrapperRef",void 0),this.cardRef=(0,d.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,d.createRef)()}}(0,o._)(h,"defaultProps",{delay:100}),(0,o._)(h,"contextType",u.St);let m=e=>{let{content:t}=e;return(0,i.tZ)(h,{content:t,children:(0,i.tZ)("div",{className:"learnMoreChip-xHgw90",children:"?"})})};var g=n(19081),f=n(56649),C=n(58175);let Z=(0,r.forwardRef)((e,t)=>{let{action:n,children:r,className:a,errors:o,helpText:d,details:s,label:c,paddingBottom:u,paddingTop:p,flex:v,wrapWithLabel:h,disabled:Z,compact:b}=e,y=b?2:8;return(0,i.BX)(g.tu,{ref:t,alignItems:"stretch",className:a,gap:y,paddingBottom:u,paddingTop:p,disabled:Z,flex:v,children:[(0,i.BX)(g.tu,{alignItems:"stretch",gap:y,as:h?"label":"div",children:[c&&(0,i.BX)(g.gq,{gap:y,alignItems:"center",children:[(0,i.tZ)(C.xv.B4,{weight:"semibold",as:h?"div":"label",color:"primary",children:c}),d&&(0,i.tZ)(m,{content:d}),n&&(0,i.tZ)(g.gq,{flex:"grow",justifyContent:"end",children:n})]}),r&&(0,i.tZ)("div",{className:l()({"has-error":o}),children:r})]}),s&&!Array.isArray(s)&&(0,i.tZ)(C.xv.B5,{color:"secondary",children:s}),s&&Array.isArray(s)&&s.length>0&&(0,i.tZ)(g.tu,{gap:4,children:s.map(e=>(0,i.tZ)(C.xv.B5,{color:"secondary",children:e}))}),(0,i.tZ)(f.D,{errors:o})]})})},31065:function(e,t,n){n.d(t,{X:()=>l});var i=n(16584),r=n(98661),a=n(80026);let l=(0,r.forwardRef)((e,t)=>{let{label:n,icon:r,href:l,size:o=56,onClick:d}=e;return(0,i.tZ)(a.kG,{resetCss:!0,onClick:d,href:l,radius:"sm",ref:t,children:(0,i.BX)(a.sg,{className:"container-iTCOuF",gap:8,alignItems:"center",width:o,children:[(0,i.tZ)(a.sg,{alignItems:"center",justifyContent:"center",animate:!0,className:"button-zkMi7O",bg:"secondary",width:o,height:o,radius:"lg",children:r}),(0,i.tZ)(a.xv.B5,{weight:"semibold",color:"primary",children:n})]})})})},2009:function(e,t,n){n.d(t,{L:()=>a});var i=n(93252),r=n(14773);let a=document.location.origin===r.tE&&!(0,i.P)()},9459:function(e,t,n){n.d(t,{L:()=>L});var i=n(7409),r=n(99282),a=n(16584),l=n(30396),o=n(94184),d=n.n(o),s=n(10120),c=n(61649),u=n(12281),p=n(46543),v=n(95441),h=n(69181),m=n(59488),g=n(98422),f=n(71068),C=n(75822),Z=n(18618),b=n(74571),y=n(28226),w=n(70958),_=n(61527),k=n(31377);let x={"preview-label-container":"preview-label-container-Y88jiD",previewLabelContainer:"preview-label-container-Y88jiD","live-stream-tag-container":"live-stream-tag-container-MWmvAX",liveStreamTagContainer:"live-stream-tag-container-MWmvAX","media-clip-tag-container":"media-clip-tag-container-FbCpZr",mediaClipTagContainer:"media-clip-tag-container-FbCpZr",videoContainer:"videoContainer-wF4DEO",overflow:"overflow-ns9Lj9",notesVideoContainer:"notesVideoContainer-XgGhEY"},L=e=>{var t,n,o,L,I;let{clipInfo:B,disableAutoPlay:E=!1,forceAutoPlay:M=!1,isFreeSubscribed:P,isSubscribed:N,isLiveStream:T=!1,mediaUpload:S,post:D,pub:R,startMuted:X,variant:z="notes",videoPlayerRef:O,videoType:F="post",entityKey:A,entityType:U,primaryEntityType:H,primaryEntityKey:V,surface:W,contentType:j,feedItemTrackingParameters:q}=e,{isClipping:K}=(0,c.Sr)(),{iString:J}=(0,v.M1)(),{isMobile:Y}=(0,g.v9)(),[G,Q]=(0,l.eJ)(!1),$=(0,k.isPaidAudience)(D.audience)&&!N,ee=(null!==(n=S.preview_duration)&&void 0!==n?n:0)>0,et=$&&(!ee||G),en=!1;if(B&&ee&&$){let e=null!==(o=S.preview_start)&&void 0!==o?o:0,t=e+(null!==(L=S.preview_duration)&&void 0!==L?L:0),n=B.startTime,i=n+B.duration;en=n<e||i>t}(0,C.KS)({videoPlayerRef:O,showPaywall:et,disable:E});let ei=(0,l.sO)(null),[er,ea]=(0,l.eJ)(!1),{isIdle:el}=(0,m.c)({idleAfter:2e3,element:ei.current}),eo=(0,s.r)(),ed=(0,b.Ml)(ei),es={mediaRef:O,pub:R,post:D,mediaUpload:S,podcastUpload:null==S?void 0:S.extractedAudio,isActive:null!==(I=er||!el||K)&&void 0!==I&&I,isFocused:ed,handle:eo,hasPaywall:$,hideNextVideoButton:!0,showPaywall:et,onShareMenuOpen:()=>ea(!0),onShareMenuClose:()=>ea(!1),disableShortcuts:!0,size:"notes"===z?"sm":"md",hideSettings:!!B,hidePip:!!B};return(0,a.tZ)(f.xu,{ref:ei,position:"relative",onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.BX)(s.I,{handle:eo,className:x.fullScreenContainer,children:[(0,a.BX)("div",{className:d()(x.videoContainer,{[x.overflow]:K,[x.notesVideoContainer]:"notes"===z,[x.inboxVideoContainer]:"inbox"===z}),children:[(0,a.tZ)(u.Z,{ref:O,doNotResetOnEnd:!0,hidePlayButton:et,mediaUpload:S,noControls:!0,noKeyboardShortcuts:!0,post:D,pub:R,startMuted:X,onFinishVideo:()=>{Q(!0)},renderPlayButton:()=>(0,a.tZ)(Z.fI,{isPlaying:!1,size:Y?40:56}),isClipping:K,videoType:F,usePreview:$&&ee,videoPlayerClassName:x.videoPlayer,autoPlay:M&&!et,entityKey:A,entityType:U,primaryEntityKey:V,primaryEntityType:H,surface:W,contentType:j,feedItemTrackingParameters:q}),B&&!B.isAutoSelected?(0,a.tZ)(_.to,(0,r._)((0,i._)({},es),{startTime:B.startTime,duration:B.duration})):(0,a.tZ)(_.Vo,(0,i._)({},es))]}),(null===(t=O.current)||void 0===t?void 0:t.player)&&"post"===F&&(0,a.tZ)(p.i,{visible:K,videoPlayerRef:O,containerRef:ei,videoUpload:S,post:D}),ee&&!et&&!N&&(0,a.tZ)("div",{className:x["preview-label-container"],children:(0,a.tZ)(w.l,{children:J("Preview")})}),!(ee&&!et&&!N)&&T&&(0,a.tZ)("div",{className:x["live-stream-tag-container"],children:(0,a.tZ)(h.j0,{})}),et&&(0,a.tZ)(y.Y,{post:D,pub:R,isFreeSubscribed:P,isPaidClip:en,medium:"video",variant:"dialog",onRestart:ee&&!en?()=>{var e;(null===(e=O.current)||void 0===e?void 0:e.player)&&(Q(!1),O.current.player.currentTime=0,O.current.player.play())}:void 0})]})})}},54480:function(e,t,n){n.d(t,{n:()=>X});var i=n(58865),r=n(16584),a=n(36081),l=n(36813),o=n(95441),d=n(98422),s=n(19081),c=n(58175),u=n(18618),p=n(30396),v=n(85200),h=n(71212),m=n(51043),g=n(45609),f=n(67358),C=n(80569),Z=n.n(C),b=n(49995),y=n(68833),w=n(49762),_=n(98914),k=n(71068),x=n(15771),L=n(61254),I=n(44424),B=n(21685),E=n(43905),M=n(60308);let P=e=>{let{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:a,user:l}=e,{iString:d}=(0,o.M1)();return(0,r.tZ)(B.J,{className:"popoverContainer-jZEE00",layerClassName:"popoverLayer-gOi2YH",content:(0,r.tZ)(N,{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:a,user:l}),preferPlacement:"bottom-start",children:(0,r.tZ)(v.Z,{className:"icon-vlW9ea",size:24,"aria-label":d("More options"),role:"button"})})},N=e=>{let{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:a,user:l}=e,{iString:d}=(0,o.M1)(),[u,v]=(0,p.eJ)(!1),[C,B]=(0,p.eJ)(null),E=(0,w.default)("hide_media_download_option"),P=async()=>{try{(0,y.j)(y.FP.PODCAST_EMAIL_LINK_CLICKED),await Z().post("/api/v1/subscription/send_podcast_email").send({section_id:a}),(0,b.ZP)(d("Email sent")),v(!0)}catch(e){B(e)}},N=()=>{(0,y.j)(y.FP.PODCAST_FEED_URL_COPIED),(0,_.vQ)(n),(0,b.ZP)(d("RSS feed copied"))};return(0,r.BX)(k.xu,{style:{maxWidth:285},children:[(0,r.BX)(I.xw,{isFirst:!0,children:[t&&!E&&(0,r.tZ)(I.sN,{leading:(0,r.tZ)(h.Z,{size:16}),onClick:()=>{(0,_.Hl)((0,M.rhs)(t,{download:!0}))},children:d("Download MP3")}),n&&(0,r.tZ)(I.sN,{leading:(0,r.tZ)(m.Z,{size:16}),onClick:N,children:i?d("Your private RSS feed"):d("RSS feed")})]}),l&&n&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(L.iz,{paddingY:8}),(0,r.BX)(s.tu,{gap:12,padding:8,children:[(0,r.BX)(c.xv.B4,{color:"pub-primary-text",children:[d("Copy your RSS link and paste it in your podcast app.")," ",(0,r.tZ)(T,{})]}),(0,r.BX)(s.gq,{gap:8,children:[(0,r.tZ)(x.zx,{leading:(0,r.tZ)(g.Z,{size:16}),priority:"secondary-outline",onClick:N,children:d("Copy link")}),(0,r.tZ)(x.zx,{disabled:u,leading:(0,r.tZ)(f.Z,{size:16}),priority:"secondary-outline",onClick:P,children:d("Email link")})]}),C&&(0,r.tZ)(c.xv.B4,{color:"error",children:(0,_.zx)(C)})]})]})]})},T=()=>{let{iString:e}=(0,o.M1)();return(0,r.tZ)(c.xv.B4,{as:"a",href:E.ty,target:"_blank",rel:"noopener",color:"accent",children:e("Learn about RSS.")})},S={"skip-button":"skip-button-jgLOBO","skip-icon":"skip-icon-YsbexL",playbackRate:"playbackRate-o33VkZ"};function D(){let e=(0,i._)(["Change playback speed. Current speed is "," times"]);return D=function(){return e},e}let R=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],X=e=>{var t,n;let{audioFileUrl:i,feedUrl:p,isPlaying:v,isPrivateFeed:h,playbackRate:m,sectionId:g,user:f,onChangePlaybackRate:C,onSkipBack:Z,onSkipForward:b,onTogglePlayback:y}=e,{isMobile:w}=(0,d.v9)(),_=w?28:32,{iString:k,iTemplate:x}=(0,o.M1)(),L=R.findIndex(e=>{let{value:t}=e;return t===m}),I=(null===(t=R[L])||void 0===t?void 0:t.display)?x(D(),null===(n=R[L])||void 0===n?void 0:n.display):k("Change playback speed");return(0,r.BX)(s.gq,{gap:20,alignItems:"center",justifyContent:"space-between",children:[(0,r.tZ)(s.gq,{style:{width:60},justifyContent:"center",role:"button","aria-label":I,onClick:()=>{let e=(L+1)%R.length;C(R[e].value)},children:(0,r.BX)(c.xv.B2,{className:S.playbackRate,color:"vibrance-secondary",weight:"medium","aria-hidden":!0,children:[R[L].display,"\xd7"]})}),(0,r.BX)(s.gq,{gap:w?20:32,alignItems:"center",children:[Z&&(0,r.tZ)("div",{onClick:Z,role:"button",className:S["skip-button"],"aria-label":k("Skip backward 15 seconds"),children:(0,r.tZ)(a.Z,{className:S["skip-icon"],height:_})}),(0,r.tZ)(u.DN,{size:w?56:72,isPlaying:v,onTogglePlayback:y}),b&&(0,r.tZ)("div",{onClick:b,role:"button",className:S["skip-button"],"aria-label":k("Skip forward 30 seconds"),children:(0,r.tZ)(l.Z,{className:S["skip-icon"],height:_})})]}),(0,r.tZ)(s.gq,{style:{width:60},justifyContent:"center",alignItems:"center",children:(0,r.tZ)(P,{audioFileUrl:i,feedUrl:p,isPrivateFeed:h,sectionId:g,user:f})})]})}},3486:function(e,t,n){n.d(t,{p:()=>c});var i=n(16584),r=n(94184),a=n.n(r),l=n(71068),o=n(38841),d=n(43905),s=n(24791);let c=e=>{let t,{border:n,isFreemail:r,isStatic:c,post:u,pub:p,section:v,size:h=48,url:m,useSection:g}=e,f=(0,s.sv)({post:u}),{artUrl:C,paidArtUrl:Z,url:b}=(0,d.Mv)({pub:p,section:v,useSection:g}),y=(0,l.oB)({outline:"detail"});return t=c&&f&&u?r?C:null!=Z?Z:C:g?null!=C?C:null==u?void 0:u.podcast_episode_image_url:u&&((null==u?void 0:u.podcastUpload)||(null==u?void 0:u.videoUpload)||(null==u?void 0:u.podcast_url))?u.podcast_episode_image_url:C,(0,i.tZ)(o.nZ,{className:a()(y,"pub-logo-m0IFm6",{"pub-logo--border-white-M0Tr8T":"white"===n}),href:null!=m?m:b,pub:p,logoUrl:t,size:h})}},28226:function(e,t,n){n.d(t,{Y:()=>K});var i=n(7409),r=n(99282),a=n(58865),l=n(16584),o=n(30396),d=n(94184),s=n.n(d),c=n(13639),u=n(25425),p=n(84488),v=n(98661),h=n(80569),m=n.n(h),g=n(83034),f=n(45530),C=n(95441),Z=n(56629),b=n(60807),y=n(68833),w=n(98914),_=n(98422),k=n(94874),x=n(15771),L=n(19081),I=n(58175),B=n(70379),E=n(24791),M=n(60308),P=n(47929);let N={"container--dialog":"container--dialog-IFBVqS",containerDialog:"container--dialog-IFBVqS","container--overlay":"container--overlay-NodljG",containerOverlay:"container--overlay-NodljG","container--animated":"container--animated-lBR5nE",containerAnimated:"container--animated-lBR5nE","container--animated-in":"container--animated-in-AmGha2",containerAnimatedIn:"container--animated-in-AmGha2","icon-container":"icon-container-XN2D7I",iconContainer:"icon-container-XN2D7I","content-top":"content-top-eM6ECM",contentTop:"content-top-eM6ECM","content-bottom":"content-bottom-VxiZOP",contentBottom:"content-bottom-VxiZOP",icon:"icon-k4eGDx",inlineIconContainer:"inlineIconContainer-fljw1h","restart-button":"restart-button-XCv0DP",restartButton:"restart-button-XCv0DP"};function T(){let e=(0,a._)(["Available now for iOS and Android"]);return T=function(){return e},e}function S(){let e=(0,a._)(["Continue watching this video for free in the Substack app"]);return S=function(){return e},e}function D(){let e=(0,a._)(["Continue watching this video for free, courtesy of ","."]);return D=function(){return e},e}function R(){let e=(0,a._)(["Continue listening for free in the Substack app"]);return R=function(){return e},e}function X(){let e=(0,a._)(["Continue listening for free, courtesy of ","."]);return X=function(){return e},e}function z(){let e=(0,a._)(["Watch this video for free in the Substack app"]);return z=function(){return e},e}function O(){let e=(0,a._)(["Watch this video for free, courtesy of ","."]);return O=function(){return e},e}function F(){let e=(0,a._)(["Listen to this episode for free in the Substack app"]);return F=function(){return e},e}function A(){let e=(0,a._)(["Listen to this episode for free, courtesy of ","."]);return A=function(){return e},e}function U(){let e=(0,a._)([""," episode"]);return U=function(){return e},e}function H(){let e=(0,a._)(["The full episode is only available to "," subscribers"]);return H=function(){return e},e}function V(){let e=(0,a._)(["The full episode is only available to paid subscribers of ",""]);return V=function(){return e},e}function W(){let e=(0,a._)([""," clip"]);return W=function(){return e},e}function j(){let e=(0,a._)(["This clip is only available to "," subscribers"]);return j=function(){return e},e}function q(){let e=(0,a._)(["This clip is only available to paid subscribers of ",""]);return q=function(){return e},e}let K=e=>{var t,n,a,d;let{disableButtons:h,medium:f,inlineIcon:K,isFreeSubscribed:Y,isPaidClip:G,post:Q,pub:$,variant:ee,onRestart:et,magicToken:en}=e,{iString:ei,iTemplate:er}=(0,C.M1)(),{isMobile:ea}=(0,_.v9)(),[el,eo]=(0,o.eJ)(!1),{getSettingFor:ed}=(0,Z.So)(),es=(0,b.aF)(),{popToast:ec}=(0,B.pm)(),eu=!!(ed("paywall_unlock_tokens")&&"only_paid"===Q.audience&&Q.teaser_post_eligible)&&!(null==es?void 0:es.is_subscribed)&&Y&&!(null==es?void 0:es.has_redeemed_post_unlock_token),ep=null==es?void 0:es.reader_installed_at,{modal:ev,open:eh}=(0,g.useAppModal)({utm_campaign:P.VX.paywallPostUnlockPrompt,utm_source:P.b3.substack,overrideCTA:null!==(t=ep&&ei("Open in app"))&&void 0!==t?t:void 0,overrideTitle:ep?ei("Unlock your free post in the Substack app"):ei("Get the free Substack app to unlock this post"),subTitle:er(T()),openUrl:null!==(n=ep&&(0,M.K8_)($.subdomain,Q.slug))&&void 0!==n?n:void 0}),em=(0,v.useCallback)(async()=>{(0,y.j)(y.FP.PAYWALL_UNLOCK_CTA_CLICKED,{post_id:Q.id,publication_id:$.id,medium:f});try{await m().post("/api/v1/post_unlock_token").send({post_id:Q.id,token:en}),ea?window.location.href=ep?(0,M.K8_)($.subdomain,Q.slug,{redirect:"app-store",params:{utm_campaign:P.VX.paywallPostUnlockPrompt,utm_source:P.b3.paywall,utm_medium:f}}):(0,M.D4e)({utm_campaign:P.VX.paywallPostUnlockPrompt,utm_source:P.b3.paywall,utm_medium:f}):eh()}catch(e){ec(e=>(0,l.tZ)(B.FN,(0,r._)((0,i._)({},e),{text:ei("Teaser posts are not currently available for this content")})))}},[Q.id,Q.slug,$.id,$.subdomain,f,en,ep,eh,ec,ei,ea]),eg=!!et,ef=null!==(a=(0,E.H$)($))&&void 0!==a?a:"Founding Member",eC=eu?et?"video"===f?ea?er(S()):er(D(),$.author_name||$.name):ea?er(R()):er(X(),$.author_name||$.name):"video"===f?ea?er(z()):er(O(),$.author_name||$.name):ea?er(F()):er(A(),$.author_name||$.name):"founding"===Q.audience?er(U(),ef):ei("Paid episode"),eZ="founding"===Q.audience?er(H(),ef):er(V(),$.name);2309160===$.id?(eC=ei("Watch the film"),eZ="Subscribe or purchase as a 1-month rental to continue."):G&&(eC="founding"===Q.audience?er(W(),ef):ei("Paid clip"),eZ="founding"===Q.audience?er(j(),ef):er(q(),$.name));let eb="video"===f?ei("Subscribe to watch"):ei("Subscribe to listen"),ey=eu?ei("Claim my free episode"):"video"===f?ei("Upgrade to watch"):ei("Upgrade to listen"),ew=eu?()=>{em()}:()=>{(0,w.uX)((0,M.Zs0)($,{simple:!0,next:document.location.href,utm_source:P.b3.showsPaywall,utm_medium:P.lP.web,utm_content:Q.id}),{local_navigation:!1})},e_=Y?ey:eb;return(0,o.d4)(()=>{(0,y.j)(y.FP.FREE_PREVIEW_PAYWALL_SHOWN,{post_id:Q.id,medium:f})},[Q.id,f]),(0,o.d4)(()=>{eg&&setTimeout(()=>{eo(!0)},10)},[eg]),(0,l.BX)(L.gq,{className:s()(N.container,{[N["container--dialog"]]:"dialog"===ee,[N["container--overlay"]]:"overlay"===ee,[N["container--animated"]]:eg,[N["container--animated-in"]]:el}),inset:0,justifyContent:"center",alignItems:"center",position:"absolute",onClick:e=>{e.stopPropagation(),e.preventDefault()},"data-testid":"paywall",children:[ev,"dialog"===ee?(0,l.tZ)(J,{showUnlockPrompt:eu,description:eZ,headerText:eC,post:Q,pub:$,primaryCta:e_,primaryCtaClick:ew,onRestart:et}):(0,l.BX)(L.tu,{alignItems:"center",gap:ea?12:16,paddingX:24,children:[(0,l.BX)(L.tu,{alignItems:"center",className:N["content-top"],gap:ea?12:16,children:[!K&&(eu?(0,l.tZ)(k.qE,{photoUrl:null!==(d=$.author_photo_url)&&void 0!==d?d:void 0,size:64}):(0,l.tZ)(L.gq,{className:N["icon-container"],alignItems:"center",color:"white",justifyContent:"center",radius:"sm",children:(0,l.tZ)(c.Z,{size:ea?16:24})})),(0,l.BX)(L.tu,{alignItems:"center",gap:4*!ea,children:[(0,l.BX)(L.gq,{alignItems:"center",gap:8,children:[K&&(0,l.tZ)(L.gq,{className:N.inlineIconContainer,alignItems:"center",justifyContent:"center",radius:"sm",children:(0,l.tZ)(c.Z,{size:16})}),(0,l.tZ)(I.xv.B3,{as:"h3",color:"white",weight:"semibold",fontSize:eu?20:15,textAlign:"center",children:eC})]}),!eu&&(0,l.tZ)(I.xv.B4,{color:"white",opacity:80,align:"center",children:eZ})]})]}),(0,l.BX)(L.gq,{className:N["content-bottom"],gap:16,children:[et&&(0,l.tZ)(x.zx,{className:N["restart-button"],disabled:h,priority:"secondary-outline",onClick:()=>{(0,y.j)(y.FP.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:Q.id}),et()},children:(0,l.BX)(L.gq,{alignItems:"center",gap:12,children:[(0,l.tZ)(u.Z,{size:16}),ei("Restart")]})}),(0,l.BX)(x.zx,{priority:"primary",onClick:ew,disabled:h,children:[eu&&(0,l.tZ)(p.Z,{className:"icon",size:20,stroke:"#fff",fill:"none",strokeWidth:2}),e_]})]})]})]})},J=e=>{var t;let{description:n,headerText:i,post:r,pub:a,primaryCtaClick:o,primaryCta:d,onRestart:s,showUnlockPrompt:u}=e,{iString:p}=(0,C.M1)();return(0,l.BX)(L.tu,{bg:"glass-inverted-medium",padding:16,gap:16,radius:"md",maxWidth:320,children:[(0,l.BX)(L.tu,{gap:4,alignItems:"center",children:[u&&(0,l.tZ)(k.qE,{photoUrl:null!==(t=a.author_photo_url)&&void 0!==t?t:void 0,size:64}),(0,l.BX)(L.gq,{alignItems:"center",color:"white",gap:8,children:[!u&&(0,l.tZ)(c.Z,{size:16}),(0,l.tZ)(I.xv.B2,{as:"h3",color:"white",weight:"semibold",textAlign:u?"center":"left",children:i})]}),!u&&(0,l.tZ)(I.xv.B4,{color:"white",opacity:80,align:"center",children:n})]}),(0,l.BX)(L.tu,{gap:8,children:[s&&(0,l.tZ)(x.zx,{priority:"primary-mono",onClick:()=>{(0,y.j)(y.FP.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:r.id}),s()},children:p("Replay")}),(0,l.BX)(x.zx,{onClick:o,priority:"secondary",children:[u&&(0,l.tZ)(f.Z,{size:18,className:N.icon}),d]})]})]})}},70958:function(e,t,n){n.d(t,{l:()=>l});var i=n(16584),r=n(19081),a=n(58175);let l=e=>{let{children:t,avoidBackgroundBlur:n}=e;return(0,i.tZ)(r.gq,{alignItems:"center",bg:n?void 0:"glass-inverted-medium",color:"white",gap:6,height:24,paddingX:8,radius:"sm","data-testid":"audio-player-preview-label",style:n?{background:"var(--color-light-fg-primary)"}:void 0,children:(0,i.tZ)(a.xv.B5,{weight:"medium",color:"white",children:t})})}},61404:function(e,t,n){n.d(t,{w:()=>p});var i=n(58865),r=n(16584),a=n(94184),l=n.n(a),o=n(95441),d=n(19081),s=n(58175);let c={timestamp:"timestamp-FzOPmB","track-container":"track-container-Ycx4d5","track-container-dragging":"track-container-dragging-oDgpWK","track-handle":"track-handle-Ko3Wwm",track:"track-AtNL73","track-played":"track-played-VpPIlb","track-drag-time":"track-drag-time-QOxM_w","sr-progress":"sr-progress-gt0aLk"};function u(){let e=(0,i._)([""," with "," remaining"]);return u=function(){return e},e}let p=e=>{let{containerRef:t,currentTime:n,dragTime:i,hideStartingTimestamp:a,remainingTime:p,progress:v,onMouseDown:h}=e,{iString:m,iTemplate:g}=(0,o.M1)();return(0,r.BX)(d.gq,{alignItems:"center",flex:"grow",gap:12,children:[!a&&(0,r.tZ)(s.xv.B5,{className:c.timestamp,color:"vibrance-primary",children:n}),(0,r.BX)("div",{ref:t,className:l()(c["track-container"],i&&c["track-container-dragging"]),onMouseDown:h,role:"slider","aria-label":m("Seek progress"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":100*v,"aria-valuetext":g(u(),n,p),tabIndex:0,children:[(0,r.BX)("div",{className:c["sr-progress"],"aria-hidden":!0,children:[m("Current time"),": ",n," / ",m("Total time"),": ",p]}),(0,r.tZ)("div",{className:c.track}),(0,r.tZ)("div",{className:c["track-played"],style:{width:"".concat(100*v,"%")}}),i&&(0,r.tZ)(s.xv.B5,{className:c["track-drag-time"],style:{left:"".concat(100*v,"%")},"aria-hidden":!0,children:i}),(0,r.tZ)("div",{className:c["track-handle"],style:{left:"".concat(100*v,"%")},"aria-hidden":!0})]}),(0,r.tZ)(s.xv.B5,{className:c.timestamp,color:"vibrance-secondary",children:p})]})}},4158:function(e,t,n){n.d(t,{z:()=>s});var i=n(7409),r=n(16584),a=n(3411),l=n(19081),o=n(60308);let d={backgroundImage:"backgroundImage-Eijlhi",backgroundDarkenRight:"backgroundDarkenRight-DYlB0F"},s=e=>{let{backgroundUrl:t,blurAmount:n,isBlurred:s,palette:c,radius:u="md"}=e,p="none"===u?void 0:u;return(0,r.BX)(r.HY,{children:[t&&(0,r.tZ)(l.hs,{className:d.backgroundImage,inset:0,position:"absolute",radius:p,style:t?{backgroundImage:"url(".concat((0,o.zF4)(t),")")}:void 0}),s?(0,r.tZ)(l.hs,{inset:0,position:"absolute",radius:p,style:(0,i._)({backdropFilter:"blur(".concat(n,"px)"),WebkitBackdropFilter:"blur(".concat(n,"px)"),WebkitFilter:"brightness(0.7)",filter:"brightness(0.7)"},(0,a.mX)({palette:c}))}):(0,r.tZ)(l.hs,{className:d.backgroundDarkenRight,inset:0,position:"absolute",radius:p})]})}},14283:function(e,t,n){n.d(t,{o:()=>g});var i=n(7409),r=n(99282),a=n(16584),l=n(2564),o=n(95441),d=n(68833),s=n(15771),c=n(19081),u=n(58175),p=n(3486),v=n(60308),h=n(47929);let m={header:"header-PjQum5",vibranceIcon:"vibranceIcon-a9wDjU"},g=e=>{let{explicitPodcastUrl:t,isDisabled:n,post:g,postTitle:f,pub:C,section:Z,showTitle:b,showUpgradeButton:y,variant:w}=e,{iString:_}=(0,o.M1)();return(0,a.BX)(c.gq,{className:m.header,flex:"grow",alignItems:"center",alignSelf:"start",gap:"mini"===w||"notes-embed"===w?12:16,opacity:n?20:void 0,pointerEvents:n?"none":void 0,children:[(0,a.tZ)(p.p,{post:g,pub:C,section:Z,size:"mini"===w?32:"notes-embed"===w?48:76,url:t}),(0,a.BX)(c.tu,{minWidth:0,gap:4,flex:"grow",children:["mini"!==w&&(0,a.tZ)(u.xv.B4,{color:"vibrance-secondary",ellipsis:!0,overflow:"hidden",children:b}),(0,a.tZ)(u.xv.B3,(0,r._)((0,i._)({color:"vibrance-primary",ellipsis:!0,overflow:"hidden",weight:"medium"},"mini"===w?{size:14,lineHeight:20}:null),{style:{maxWidth:460},children:f})),y&&"mini"!==w&&"notes-embed"!==w&&(0,a.tZ)(c.gq,{paddingTop:4,children:(0,a.tZ)(s.zx,{"data-testid":"free-podcast-url-cta",href:(0,v.Zs0)(C,{simple:!0,next:"undefined"!=typeof document?document.location.href:"",utm_source:h.b3.showsAudioPlayerHeader,utm_medium:h.lP.web,utm_content:null==g?void 0:g.id}),localNavigation:!1,priority:"primary-mono",size:"sm",onClick:()=>{(0,d.j)(d.FP.LISTEN_AD_FREE_CLICKED,{post_id:null==g?void 0:g.id,section_id:null==Z?void 0:Z.id,source:"audio-player"})},children:_("Listen ad-free")})})]}),"notes-embed"===w&&(0,a.tZ)(l.Z,{className:m.vibranceIcon,size:20})]})}},28797:function(e,t,n){n.d(t,{Z:()=>v});var i=n(7409),r=n(99282),a=n(16584),l=n(30396),o=n(94184),d=n.n(o),s=n(85277),c=n(48083);let u={container:"container-zAxsTa",text:"text-Mt4veX","container-full-screen":"container-full-screen-mK397L","text-full-screen":"text-full-screen-BX6VEN","highlight-word":"highlight-word-YsKp8Q","captions-small":"captions-small-CavdhE","text-small":"text-small-boKa5D"},p=new s.WebVTTParser,v=e=>{var t,n;let{videoEle:o,mediaUpload:s,handle:v,subtitles:h,showCaptions:m,withHighlight:g,size:f="md",captionsStyle:C}=e,[Z,b]=(0,l.eJ)([]),[y,w]=(0,l.eJ)({segment:null,wordIndex:-1}),{segment:_,wordIndex:k}=y,x=(0,c.Z)(o);return((0,l.d4)(()=>{if(o){let e=o.currentTime,t=Z.find(t=>e>=t.start&&e<=t.end),n=null!=t?t:null;if(!g){w({wordIndex:-1,segment:n});return}if(n){let t=-1;for(let i=0;i<n.words.length;i++){let r=n.words[i];if(r){if(e>=r.start&&e<=r.end){t=i;break}if(e<r.start)break;t=i}}w({wordIndex:t,segment:n})}else w({wordIndex:-1,segment:n})}},[o,h,Z.length,x]),(0,l.d4)(()=>{var e,t,n,a;let l=(null!==(n=null==s?void 0:null===(e=s.transcription)||void 0===e?void 0:e.signed_captions)&&void 0!==n?n:[]).find(e=>e.language===h);(null==l?void 0:l.original)?(null==s?void 0:null===(t=s.transcription)||void 0===t?void 0:t.cdn_url)&&fetch(null==s?void 0:null===(a=s.transcription)||void 0===a?void 0:a.cdn_url).then(e=>e.json()).then(e=>{b(e.map(e=>(0,r._)((0,i._)({},e),{words:e.words?e.words:[]})))}).catch(e=>console.error("Error fetching transcription:",e)):(null==l?void 0:l.url)&&fetch(l.url).then(e=>e.text()).then(e=>{b(p.parse(e,"metadata").cues.map(e=>({text:e.text,start:e.startTime,end:e.endTime,words:[]})))}).catch(e=>console.error("Error fetching transcription:",e))},[s,h,m]),m&&Z.length)?_?(0,a.tZ)("div",{className:d()(u.container,{[u["container-full-screen"]]:v.active,[u["captions-small"]]:"sm"===f}),style:C,children:_&&(0,a.tZ)("div",{className:d()(u.text,{[u["text-full-screen"]]:v.active,[u["text-small"]]:"sm"===f}),children:(null==_?void 0:null===(t=_.words)||void 0===t?void 0:t.length)?(0,a.tZ)("div",{children:null==_?void 0:_.words.map((e,t)=>(0,a.tZ)("span",{className:d()({[u["highlight-word"]]:t<=k&&g||!g}),children:e.word.startsWith(" ")?e.word:" ".concat(e.word)},t))}):(0,a.tZ)("span",{className:u["highlight-word"],children:function(e){var t;let n=e.match(/<v [^>]+>(.*?)(<\/v>|$)/);return n?null===(t=n[1])||void 0===t?void 0:t.replace(/<\/v>$/,""):""}(null!==(n=null==_?void 0:_.text)&&void 0!==n?n:"")})})}):null:null}},49233:function(e,t,n){n.d(t,{Z:()=>m});var i=n(16584),r=n(30396),a=n(7409),l=n(99282),o=n(64515);let d=e=>(0,i.tZ)(o.l,(0,l._)((0,a._)({name:"ClosedCaptionsFilledIcon",svgParams:{height:16,width:20,stroke:"#808080"}},e),{children:(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM12.6776 7.9987V8.60503C12.6776 8.91696 12.7142 9.17954 12.7874 9.3928C12.8638 9.60605 12.972 9.76837 13.1121 9.87977C13.2553 9.98799 13.4272 10.0421 13.6277 10.0421C13.8251 10.0421 13.9906 9.99436 14.1242 9.89887C14.2579 9.8002 14.3582 9.66811 14.425 9.5026C14.4919 9.3371 14.5253 9.1509 14.5253 8.94401H16.4207V9.09201V9.23524C16.4207 9.7254 16.2997 10.1535 16.0578 10.5195C15.8191 10.8824 15.4881 11.1641 15.0648 11.3646C14.6415 11.5651 14.1561 11.6654 13.6086 11.6654C12.9657 11.6654 12.4214 11.538 11.9758 11.2834C11.5334 11.0288 11.1976 10.6723 10.9684 10.214C10.7393 9.75246 10.6247 9.21137 10.6247 8.59071V8.00347C10.6247 7.37963 10.7393 6.83854 10.9684 6.38021C11.1976 5.92188 11.5334 5.56699 11.9758 5.31554C12.4214 5.06091 12.9657 4.93359 13.6086 4.93359C14.0192 4.93359 14.3964 4.99089 14.7401 5.10547C15.0839 5.21687 15.3799 5.3792 15.6281 5.59245C15.8796 5.8057 16.0737 6.06192 16.2106 6.36111C16.3507 6.6603 16.4207 6.99609 16.4207 7.36849V7.51172V7.65017H14.5253C14.5253 7.44329 14.4919 7.25709 14.425 7.09158C14.3582 6.92607 14.2579 6.79557 14.1242 6.70009C13.9906 6.6046 13.8251 6.55686 13.6277 6.55686C13.4272 6.55686 13.2553 6.61256 13.1121 6.72396C12.972 6.83218 12.8638 6.99291 12.7874 7.20616C12.7142 7.41942 12.6776 7.68359 12.6776 7.9987ZM6.23177 8.60503V7.9987C6.23177 7.68359 6.26837 7.41942 6.34158 7.20616C6.41797 6.99291 6.52619 6.83218 6.66623 6.72396C6.80946 6.61256 6.98134 6.55686 7.18186 6.55686C7.3792 6.55686 7.5447 6.6046 7.67839 6.70009C7.81207 6.79557 7.91233 6.92607 7.97917 7.09158C8.04601 7.25709 8.07943 7.44329 8.07943 7.65017H9.97483V7.51172V7.36849C9.97483 6.99609 9.9048 6.6603 9.76476 6.36111C9.62789 6.06192 9.43374 5.8057 9.18229 5.59245C8.93403 5.3792 8.63802 5.21687 8.29427 5.10547C7.95052 4.99089 7.57335 4.93359 7.16276 4.93359C6.51982 4.93359 5.97555 5.06091 5.52995 5.31554C5.08753 5.56699 4.75174 5.92188 4.52257 6.38021C4.2934 6.83854 4.17882 7.37963 4.17882 8.00347V8.59071C4.17882 9.21137 4.2934 9.75246 4.52257 10.214C4.75174 10.6723 5.08753 11.0288 5.52995 11.2834C5.97555 11.538 6.51982 11.6654 7.16276 11.6654C7.71021 11.6654 8.1956 11.5651 8.61892 11.3646C9.04225 11.1641 9.37326 10.8824 9.61198 10.5195C9.85388 10.1535 9.97483 9.7254 9.97483 9.23524V9.09201V8.94401H8.07943C8.07943 9.1509 8.04601 9.3371 7.97917 9.5026C7.91233 9.66811 7.81207 9.8002 7.67839 9.89887C7.5447 9.99436 7.3792 10.0421 7.18186 10.0421C6.98134 10.0421 6.80946 9.98799 6.66623 9.87977C6.52619 9.76837 6.41797 9.60605 6.34158 9.3928C6.26837 9.17954 6.23177 8.91696 6.23177 8.60503Z",fill:"white",strokeWidth:.25})})),s=e=>(0,i.BX)(o.l,(0,l._)((0,a._)({name:"ClosedCaptionsIcon",svgParams:{height:16,width:20,stroke:"#808080"}},e),{children:[(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM2.55814 1.37143C1.91595 1.37143 1.39535 1.8831 1.39535 2.51429V13.4857C1.39535 14.1169 1.91595 14.6286 2.55814 14.6286H17.4419C18.0841 14.6286 18.6047 14.1169 18.6047 13.4857V2.51429C18.6047 1.8831 18.0841 1.37143 17.4419 1.37143H2.55814Z",fill:"white",strokeWidth:"0.25"}),(0,i.tZ)("path",{d:"M12.1858 7.94143V8.6719C12.1858 9.03793 12.2336 9.34826 12.329 9.60289C12.4277 9.85752 12.5694 10.0501 12.754 10.1806C12.9418 10.3111 13.1661 10.3763 13.4271 10.3763C13.6563 10.3763 13.8536 10.3286 14.0192 10.2331C14.1878 10.1344 14.3183 10.0008 14.4106 9.83206C14.5029 9.66337 14.5555 9.4708 14.5682 9.25437H16.0626C16.0626 9.2862 16.0626 9.31802 16.0626 9.34985C16.0626 9.38168 16.0626 9.41192 16.0626 9.44057C16.053 9.88617 15.9321 10.2777 15.6997 10.615C15.4705 10.9492 15.1586 11.2102 14.7639 11.398C14.3693 11.5826 13.9205 11.6749 13.4176 11.6749C12.8097 11.6749 12.294 11.5524 11.8707 11.3073C11.4506 11.0622 11.1307 10.7153 10.9111 10.2665C10.6946 9.81774 10.5864 9.2846 10.5864 8.66713V7.94143C10.5864 7.32077 10.6962 6.78605 10.9159 6.33727C11.1355 5.8853 11.4553 5.53677 11.8755 5.29169C12.2988 5.04661 12.8128 4.92407 13.4176 4.92407C13.7964 4.92407 14.1449 4.97818 14.4632 5.0864C14.7814 5.19143 15.0584 5.34421 15.2939 5.54473C15.5294 5.74525 15.714 5.98556 15.8477 6.26565C15.9846 6.54256 16.0562 6.85289 16.0626 7.19664C16.0626 7.22847 16.0626 7.2603 16.0626 7.29213C16.0626 7.32077 16.0626 7.34942 16.0626 7.37807H14.5682C14.5555 7.15526 14.5014 6.95633 14.4059 6.78128C14.3136 6.60622 14.1847 6.46936 14.0192 6.37069C13.8536 6.26883 13.6563 6.21791 13.4271 6.21791C13.1661 6.21791 12.9433 6.28634 12.7587 6.4232C12.5741 6.55688 12.4325 6.75104 12.3338 7.00567C12.2352 7.2603 12.1858 7.57222 12.1858 7.94143Z",fill:"white",strokeWidth:"0.25"}),(0,i.tZ)("path",{d:"M5.87381 7.94143V8.6719C5.87381 9.03793 5.92155 9.34826 6.01704 9.60289C6.1157 9.85752 6.25734 10.0501 6.44195 10.1806C6.62974 10.3111 6.85413 10.3763 7.11513 10.3763C7.34429 10.3763 7.54163 10.3286 7.70714 10.2331C7.87583 10.1344 8.00633 10.0008 8.09863 9.83206C8.19094 9.66337 8.24345 9.4708 8.25618 9.25437H9.75054C9.75054 9.2862 9.75054 9.31802 9.75054 9.34985C9.75054 9.38168 9.75054 9.41192 9.75054 9.44057C9.74099 9.88617 9.62004 10.2777 9.3877 10.615C9.15853 10.9492 8.84661 11.2102 8.45193 11.398C8.05726 11.5826 7.60847 11.6749 7.10558 11.6749C6.49765 11.6749 5.98202 11.5524 5.5587 11.3073C5.13856 11.0622 4.81868 10.7153 4.59907 10.2665C4.38263 9.81774 4.27441 9.2846 4.27441 8.66713V7.94143C4.27441 7.32077 4.38422 6.78605 4.60384 6.33727C4.82346 5.8853 5.14334 5.53677 5.56348 5.29169C5.9868 5.04661 6.50083 4.92407 7.10558 4.92407C7.48434 4.92407 7.83286 4.97818 8.15115 5.0864C8.46944 5.19143 8.74635 5.34421 8.98188 5.54473C9.21741 5.74525 9.40202 5.98556 9.5357 6.26565C9.67256 6.54256 9.74418 6.85289 9.75054 7.19664C9.75054 7.22847 9.75054 7.2603 9.75054 7.29213C9.75054 7.32077 9.75054 7.34942 9.75054 7.37807H8.25618C8.24345 7.15526 8.18934 6.95633 8.09386 6.78128C8.00156 6.60622 7.87265 6.46936 7.70714 6.37069C7.54163 6.26883 7.34429 6.21791 7.11513 6.21791C6.85413 6.21791 6.63133 6.28634 6.44672 6.4232C6.26212 6.55688 6.12048 6.75104 6.02181 7.00567C5.92314 7.2603 5.87381 7.57222 5.87381 7.94143Z",fill:"white",strokeWidth:"0.25"})]}));var c=n(95441),u=n(84370),p=n(87077),v=n(74571),h=n(63722);let m=e=>{let{showCaptions:t,setShowCaptions:n,isFocused:a,disabled:l,disableShortcuts:o,disableTooltips:m=!1}=e,{iString:g}=(0,c.M1)(),f=e=>{n({showCaptions:e,userInitiated:!0}),e?localStorage.setItem("video_player:show_captions","true"):localStorage.removeItem("video_player:show_captions")};return(0,r.d4)(()=>{let e="true"===localStorage.getItem("video_player:show_captions");t!==e&&n({showCaptions:e,userInitiated:!1})},[]),(0,v.Kr)("c",()=>f(!t),a&&!o),(0,i.tZ)(p.u,{disabled:m,text:g("Closed captions / subtitles"),trailing:o?void 0:(0,i.tZ)(u.T,{children:"C"}),children:(0,i.tZ)(h.Z,{onClick:()=>f(!t),disabled:l,children:t?(0,i.tZ)(d,{}):(0,i.tZ)(s,{})})})}},90630:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(27299),a=n(83502),l=n(84370),o=n(87077),d=n(74571),s=n(63722);let c=e=>{let{disableShortcuts:t=!1,disableTooltips:n=!1,handle:c,isFocused:u}=e,p=()=>{c.active?c.exit():c.enter()};return(0,d.Kr)("f",p,u&&!t),(0,i.tZ)(o.u,{disabled:n,text:c.active?"Exit full screen":"Full screen",trailing:t?void 0:(0,i.tZ)(l.T,{children:"F"}),children:(0,i.tZ)(s.Z,{onClick:p,children:c.active?(0,i.tZ)(r.Z,{size:18}):(0,i.tZ)(a.Z,{size:18})})})}},63587:function(e,t,n){n.d(t,{Z:()=>b});var i=n(16584),r=n(30396),a=n(2564),l=n(33979),o=n(80569),d=n.n(o),s=n(20888),c=n(68833),u=n(98914),p=n(33870),v=n(71068),h=n(19081),m=n(58175),g=n(74571),f=n(63722),C=n(84864);let Z={fullWidth:"fullWidth-KNhzK0",container:"container-djeVTw","thumbnail-duration":"thumbnail-duration-CaP985",space:"space-NQlvsK"},b=e=>{var t,n,o,b;let{pub:y,postId:w,isFocused:_,disableShortcuts:k=!1}=e,[x,L]=(0,r.eJ)(!1),[I,B]=(0,r.eJ)(null),E=e=>{if(!I||!y)return;(0,c.j)(c.FP.VIDEO_NEXT_VIDEO_BUTTON_CLICKED,{postId:I.id,pubId:y.id});let t=(0,p.zV)({linkToComments:!1,post:I,pub:y,utm:"next-episode"});(0,u.uX)(t,{event:e})};(0,r.d4)(()=>{(async()=>{var e,t,n;let i=await d().get("/api/v1/recent_posts").query({episodes_only:!0}),r=(null!==(t=i.body)&&void 0!==t?t:[]).findIndex(e=>e.id===w);B(null!==(n=null===(e=i.body)||void 0===e?void 0:e[r+1])&&void 0!==n?n:void 0)})()},[]),(0,g.Kr)("shift+n",()=>E(),_&&!k);let M=(null==I?void 0:I.cover_image)||(null==I?void 0:I.podcast_episode_image_url);return(0,i.BX)("div",{style:{position:"relative"},onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:[x&&M&&(0,i.BX)(h.tu,{position:"absolute",className:Z.container,children:[(0,i.BX)(h.tu,{bg:"glass-inverted-medium",radius:"sm",style:{cursor:"pointer"},paddingY:8,paddingX:12,gap:4,onClick:E,onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:[(0,i.BX)(h.gq,{gap:16,children:[(0,i.BX)(h.tu,{gap:2,flex:"grow",children:[(0,i.tZ)(m.xv.Meta,{color:"white",opacity:80,children:"Next Up"}),(0,i.tZ)(m.xv.B4,{color:"white",children:I.title})]}),(0,i.tZ)(h.gq,{alignItems:"center",children:(0,i.tZ)(a.Z,{color:"white",size:24})})]}),(0,i.BX)("div",{style:{position:"relative"},children:[(0,i.tZ)(s.e,{className:Z.fullWidth,src:M,alt:I.title,maxWidth:200,imageProps:{height:112.5,smartCrop:!0},radius:"sm"}),(0,i.tZ)(h.gq,{className:Z["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:"sm",children:(0,i.tZ)(m.xv.Meta,{color:"white",lineHeight:20,children:(0,C.secondsToHHMMSS)(null!==(b=null!==(o=null===(t=I.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==o?o:null===(n=I.podcastUpload)||void 0===n?void 0:n.duration)&&void 0!==b?b:0)})})]})]}),(0,i.tZ)(v.xu,{className:Z.space})]}),(0,i.tZ)(f.Z,{disabled:!I,children:(0,i.tZ)(l.Z,{size:18,fill:"white",onClick:E})})]})}},32782:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(30396),a=n(37474),l=n(84370),o=n(87077),d=n(74571),s=n(63722);let c=e=>{let{disableShortcuts:t,disableTooltips:n,isFocused:c,mediaRef:u}=e,[p,v]=(0,r.eJ)(!1),h=async()=>{if(u.current)try{document.pictureInPictureElement?await document.exitPictureInPicture():u.current.player&&"requestPictureInPicture"in u.current.player&&await u.current.player.requestPictureInPicture()}catch(e){console.error("Failed to toggle PiP mode:",e)}};return(0,r.d4)(()=>{let e=()=>v(!0),t=()=>v(!1);if(u.current){var n,i;null===(n=u.current.player)||void 0===n||n.addEventListener("enterpictureinpicture",e),null===(i=u.current.player)||void 0===i||i.addEventListener("leavepictureinpicture",t)}return()=>{if(u.current){var n,i;null===(n=u.current.player)||void 0===n||n.removeEventListener("enterpictureinpicture",e),null===(i=u.current.player)||void 0===i||i.removeEventListener("leavepictureinpicture",t)}}},[u]),(0,d.Kr)("i",h,c&&!t),(0,i.tZ)(o.u,{disabled:n,text:"Picture-in-picture",trailing:t?void 0:(0,i.tZ)(l.T,{children:"I"}),children:(0,i.tZ)(s.Z,{onClick:h,children:(0,i.tZ)(a.Z,{size:18})})})}},76671:function(e,t,n){n.d(t,{Z:()=>u});var i=n(16584),r=n(44276),a=n(77475),l=n(53030),o=n(84370),d=n(87077),s=n(74571),c=n(63722);let u=e=>{let{mediaRef:t,isFocused:n,disableShortcuts:u,disableTooltips:p=!1}=e,v=(0,l.On)(t),h=()=>{var e,n;return null===(n=t.current)||void 0===n?void 0:null===(e=n.player)||void 0===e?void 0:e.play()},m=()=>{var e,n;return null===(n=t.current)||void 0===n?void 0:null===(e=n.player)||void 0===e?void 0:e.pause()},g=()=>v?m():h();return(0,s.Kr)("k",g,n&&!u),(0,s.Kr)(" ",g,n&&!u),(0,i.tZ)(d.u,{disabled:p,text:v?"Pause":"Play",trailing:u?void 0:(0,i.tZ)(o.T,{children:"K"}),children:(0,i.tZ)(c.Z,{onClick:g,children:v?(0,i.tZ)(r.Z,{fill:"white",size:18}):(0,i.tZ)(a.Z,{fill:"white",size:18})})})}},63722:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),a=n(98848),l=n(16584),o=n(94184),d=n.n(o),s=n(15771);let c=e=>{var{children:t,className:n}=e,o=(0,a._)(e,["children","className"]);return(0,l.tZ)(s.kG,(0,r._)((0,i._)({resetCss:!0,className:d()("playerButton-qCsqQJ",n)},o),{children:t}))}},84945:function(e,t,n){n.d(t,{L:()=>c,Z:()=>u});var i=n(16584),r=n(30396),a=n(19081),l=n(58175),o=n(43905);let d=e=>{let{startTime:t,mediaRef:n}=e,[a,d]=(0,r.eJ)(0);return(0,r.d4)(()=>{let e;let t=()=>{var i;(null===(i=n.current)||void 0===i?void 0:i.player)&&(d(n.current.player.currentTime),e=requestAnimationFrame(t))};return n.current&&(e=requestAnimationFrame(t)),()=>{cancelAnimationFrame(e)}},[n]),(0,i.tZ)(l.xv.Digit,{size:14,color:"white",children:t?a-t<0?null:(0,o.mr)(a-t):(0,o.mr)(a)})},s=e=>{var t;let{duration:n,mediaRef:a}=e,d=null==a?void 0:null===(t=a.current)||void 0===t?void 0:t.player,[s,c]=(0,r.eJ)(null!=n?n:(null==d?void 0:d.duration)?d.duration:0);return(0,r.d4)(()=>{let e=()=>{var e;(null==a?void 0:null===(e=a.current)||void 0===e?void 0:e.player)&&!isNaN(a.current.player.duration)&&c(a.current.player.duration)};if(null==a?void 0:a.current){var t,n;null===(n=a.current)||void 0===n||null===(t=n.player)||void 0===t||t.addEventListener("durationchange",e)}return e(),()=>{if(null==a?void 0:a.current){var t,n;null===(n=a.current)||void 0===n||null===(t=n.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[d]),(0,i.tZ)(l.xv.Digit,{size:14,color:"white",children:(0,o.mr)(s)})},c=e=>{let{startTime:t,duration:n,mediaRef:r}=e;return(0,i.BX)(a.gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,i.tZ)(d,{mediaRef:r,startTime:t}),(0,i.tZ)(l.xv.Digit,{size:14,color:"white",children:"/"}),(0,i.tZ)(s,{duration:n})]})},u=e=>{let{duration:t,mediaRef:n}=e;return(0,i.BX)(a.gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,i.tZ)(d,{startTime:null,mediaRef:n}),(0,i.tZ)(l.xv.Digit,{size:14,color:"white",children:"/"}),(0,i.tZ)(s,{duration:t,mediaRef:n})]})}},68260:function(e,t,n){n.d(t,{Z:()=>d});var i=n(16584),r=n(2647),a=n(95441),l=n(87077),o=n(63722);let d=e=>{let{disableTooltips:t=!1,isSettingsOpen:n,setIsSettingsOpen:d}=e,{iString:s}=(0,a.M1)();return n?(0,i.tZ)(o.Z,{children:(0,i.tZ)(r.Z,{size:18,onClick:()=>d(!n)})}):(0,i.tZ)(l.u,{disabled:t,text:s("Settings"),children:(0,i.tZ)(o.Z,{children:(0,i.tZ)(r.Z,{size:18,onClick:()=>d(!n)})})})}},30730:function(e,t,n){n.d(t,{Z:()=>L});var i=n(7409),r=n(16584),a=n(6400),l=n(30396),o=n(94184),d=n.n(o),s=n(25380),c=n(53961),u=n(48619),p=n(31131),v=n(48083),h=n(14068),m=n(75697),g=n(95441),f=n(68833),C=n(19081),Z=n(58175),b=n(40949);let y={seetingsMenu:"seetingsMenu-zc8kI3",menuItem:"menuItem-Z86vY3"},w=e=>{let{mediaRef:t,dismiss:n}=e,i=e=>{var i;(null===(i=t.current)||void 0===i?void 0:i.player)&&(t.current.player.playbackRate=e,localStorage.setItem("video_player:playbackRate",e.toString())),n()};return(0,r.tZ)(C.tu,{gap:4,flex:"grow",children:[.25,.5,.75,1,1.25,1.5,1.75,2].map(e=>{var n,a;return(0,r.BX)(C.gq,{className:y.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:()=>i(e),children:[(0,r.BX)(Z.xv.B4,{font:"text",size:12,lineHeight:16,weight:"regular",color:"white",children:[e,"\xd7"]}),e===(null===(a=t.current)||void 0===a?void 0:null===(n=a.player)||void 0===n?void 0:n.playbackRate)&&(0,r.tZ)(s.Z,{size:16,color:"white"})]})})})},_={en:"English",es:"Spanish",it:"Italian",de:"German",pt:"Portuguese",fr:"French"},k=e=>{let{options:t=[],subtitles:n,setSubtitles:i,dismiss:a}=e,l=e=>{i(e),localStorage.setItem("video_player:subtitles",e||""),a()};return(0,r.tZ)(C.tu,{gap:4,flex:"grow",children:[null,...t].map(e=>{var t;return(0,r.BX)(C.gq,{className:y.menuItem,paddingY:8,paddingX:16,justifyContent:"space-between",alignItems:"center",onClick:()=>l(e),children:[(0,r.tZ)(Z.xv.B4,{font:"text",size:12,lineHeight:16,weight:"regular",color:"white",children:null!==(t=_[null!=e?e:""])&&void 0!==t?t:"None"}),n===e&&(0,r.tZ)(s.Z,{size:16,color:"white"})]})})})},x=e=>{let{title:t,icon:n,selection:i,onClick:a}=e;return(0,r.BX)(C.gq,{className:y.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:a,children:[(0,r.BX)(C.gq,{gap:8,alignItems:"center",children:[n,(0,r.tZ)(Z.xv.B4,{color:"white",font:"text",size:12,lineHeight:16,weight:"regular",children:t})]}),(0,r.tZ)(C.gq,{children:(0,r.tZ)(Z.xv.B4,{color:"white",font:"text",size:12,lineHeight:16,weight:"regular",children:i})})]})},L=e=>{var t,n,o;let{hideSharePostAtCurrentTime:s,mediaRef:Z,post:L,pub:I,podcastUpload:B,subtitles:E,setSubtitles:M,setIsSettingsOpen:P}=e,{iString:N}=(0,g.M1)(),[T,S]=(0,l.eJ)(!1),[D,R]=(0,l.eJ)(!1),X=(0,a.createRef)(),z=(0,v.Z)(null===(t=Z.current)||void 0===t?void 0:t.player),O=(0,b.y)(),[F,A]=(0,l.eJ)([]);return(0,l.d4)(()=>{M(localStorage.getItem("video_player:subtitles")||null)},[]),(0,l.d4)(()=>{var e,t;if(null==B?void 0:null===(e=B.transcription)||void 0===e?void 0:e.signed_captions){let e=(null!==(t=B.transcription.signed_captions)&&void 0!==t?t:[]).map(e=>e.language);A(e),E&&!e.includes(E)&&M(null)}},[B,E]),(0,l.d4)(()=>{var e,t;let n=parseFloat(localStorage.getItem("video_player:playbackRate")||"1"),i=()=>{var e;(null===(e=Z.current)||void 0===e?void 0:e.player)&&(Z.current.player.playbackRate=n)};return(null===(e=Z.current)||void 0===e?void 0:e.player)&&(null===(t=Z.current.player)||void 0===t||t.addEventListener("loadedmetadata",i)),()=>{if(Z.current){var e;null===(e=Z.current.player)||void 0===e||e.removeEventListener("loadedmetadata",i)}}},[Z]),(0,h.Z)(X,()=>{S(!1),R(!1),P(!1)}),(0,r.BX)(C.tu,{paddingY:8,ref:X,gap:4,flex:"grow",className:d()(y.seetingsMenu,{[y.slideOut]:T}),children:[T&&(0,r.tZ)(w,{mediaRef:Z,dismiss:()=>S(!1)}),D&&(0,r.tZ)(k,{options:F,subtitles:E,setSubtitles:M,dismiss:()=>R(!1)}),!T&&!D&&(0,r.BX)(C.tu,{gap:4,flex:"grow",children:[(0,r.tZ)(x,{title:N("Playback speed"),icon:(0,r.tZ)(c.Z,{size:16,color:"white"}),onClick:()=>S(!0),selection:(0,r.BX)(r.HY,{children:[null===(o=Z.current)||void 0===o?void 0:null===(n=o.player)||void 0===n?void 0:n.playbackRate,"\xd7"]})}),F.length>0&&(0,r.tZ)(x,{title:N("Subtitles"),icon:(0,r.tZ)(u.Z,{size:16,color:"white"}),onClick:()=>R(!0),selection:_[null!=E?E:""]}),L&&I&&(0,r.BX)(a.Fragment,{children:[(0,r.tZ)(x,{title:N("Share post"),icon:(0,r.tZ)(p.Z,{size:16,color:"white"}),onClick:()=>{L&&I&&(O((0,m.O1)(null,{post:L,pub:I,useCustomDomainOverOpen:!0})),(0,f.j)(f.FP.SHARE_LINK_CLICKED,{name:"copy",source:"player",post_id:L.id}))}}),!s&&(0,r.tZ)(x,{title:N("Share post at current time"),icon:(0,r.tZ)(p.Z,{size:16,color:"white"}),onClick:()=>{if(!L||!I)return;let e=z?{timestamp:z.toFixed(1)}:{};O((0,m.O1)(null,{post:L,pub:I,useCustomDomainOverOpen:!0,params:e})),(0,f.j)(f.FP.SHARE_LINK_CLICKED,(0,i._)({name:"copy",source:"player",post_id:L.id},e))}})]})]})]})}},27420:function(e,t,n){n.d(t,{T:()=>W});var i=n(16584),r=n(30396),a=n(94184),l=n.n(a),o=n(74691),d=n.n(o),s=n(31131),c=n(61649),u=n(95441),p=n(53030),v=n(68833),h=n(19081),m=n(58175),g=n(74571),f=n(43905);let C=()=>{let e=new URL(window.location.href);e.searchParams.delete("t"),e.searchParams.delete("d"),window.history.replaceState({},"",e.toString())},Z=()=>{if("undefined"==typeof window)return null;let e=new URLSearchParams(window.location.search),t=e.get("t"),n=e.get("d");if(!t||!n)return null;let i=parseInt(t),r=parseInt(n);return isNaN(i)||isNaN(r)?(C(),null):{start:i,end:i+d()(r,c.AT,c.ar)}},b=()=>{let[e]=(0,r.eJ)(Z());return{clipTimes:e}};var y=n(40423),w=n(93370);let _=e=>{let{clipDuration:t,isMinimized:n,onClick:r}=e;return n?(0,i.tZ)(k,{onClick:r}):(0,i.BX)(h.gq,{alignItems:"center",bg:"glass-inverted-thick",gap:6,padding:6,paddingRight:8,radius:"full",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),r()},children:[(0,i.tZ)("div",{className:"iconContainer-RgovDu",children:(0,i.tZ)(y.Z,{size:12,color:"white"})}),(0,i.tZ)(m.xv.Meta,{color:"white",children:(0,w.DL)(t)})]})},k=e=>{let{onClick:t}=e;return(0,i.tZ)("div",{className:"iconContainerMarker-qBRnT3",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),t()},children:(0,i.tZ)(y.Z,{size:12,color:"white"})})};var x=n(7409),L=n(39693),I=n.n(L),B=n(71212),E=n(42042),M=n(67203),P=n(75697),N=n(15771),T=n(61254),S=n(44424),D=n(43681),R=n(33884);function X(e){var t,n,a,l;let{duration:o,pub:d,post:s,trigger:p,timestamp:h,onShareMenuOpen:m,onShareMenuClose:g,size:f}=e,[C,Z]=(0,r.eJ)(h),{onStartClipping:b}=(0,c.Sr)(),y=C&&o,w=y?{t:C.toFixed(1),d:o.toFixed(1)}:C?{timestamp:C.toFixed(1)}:{};(0,r.d4)(()=>{Z(h)},[h]);let _=(0,P.O1)(null,{post:s,pub:null!=d?d:void 0,useCustomDomainOverOpen:!0,params:w}),{iString:k}=(0,u.M1)(),L={variant:"menu",url:_,onLinkClicked:e=>{(0,v.j)(v.FP.SHARE_LINK_CLICKED,(0,x._)({is_clip:y,type:e,post_id:null==s?void 0:s.id},w)),(0,v.j)(v.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"share_to_".concat(e),source:"playback timeline"})}},E=(0,D.LM)(L),N=(0,D.gY)(L),R=(0,D.oy)(L),X=(0,D.Wh)(L),O=z(L),F=I()([X,"sm"!==f?(0,i.tZ)(S.sN,{leading:(0,i.tZ)(B.Z,{}),onClick:()=>{(0,v.j)(v.FP.SHARE_LINK_CLICKED,(0,x._)({is_clip:y,type:"download_clip",post_id:null==s?void 0:s.id},w)),(0,v.j)(v.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"create",source:"playback timeline"}),b({source:"video-timeline",title:null})},children:k("Download clip")}):null,(0,i.tZ)(M.O0,{url:L.url,onShare:()=>{var e;null===(e=L.onLinkClicked)||void 0===e||e.call(L,"chat")}}),(0,i.tZ)(T.iz,{paddingX:8}),O,E,N,R]);return(0,i.BX)(S.v2,{trigger:p,title:k("Share"),maxHeight:350,layerOptions:{placement:"top-center"},onOpen:m,onClose:g,children:[F,!y&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(T.iz,{}),(0,i.tZ)(M.YY,{initialTime:null!=C?C:0,onChange:Z,maxTime:null!==(l=null!==(a=null==s?void 0:null===(t=s.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==a?a:null==s?void 0:null===(n=s.podcastUpload)||void 0===n?void 0:n.duration)&&void 0!==l?l:null})]})]})}let z=e=>{let{variant:t,url:n,onLinkClicked:r}=e,{iString:a}=(0,u.M1)(),l=()=>{window.open((0,R.TK)({message:null!=n?n:""}),"_blank"),null==r||r("notes")};return"icon"===t?(0,i.tZ)(N.hU,{onClick:l,children:(0,i.tZ)(E.Z,{})}):(0,i.tZ)(S.sN,{leading:(0,i.tZ)(E.Z,{}),onClick:l,children:a("Share to Notes")})};var O=n(40297);let F={timelineThumbnail:"timelineThumbnail-sJc0Xj",timelineThumbnailSmall:"timelineThumbnailSmall-FCvVQ9"},A=e=>{var t;let{children:n,showTooltip:r,size:a,setIsHovering:o,storyboard:d,videoTime:s}=e,c="sm"===a?75:100,u=null!==(t=null==d?void 0:d.tiles)&&void 0!==t?t:[],p=u.length?(0,O.wb)(u,s):null;return(0,i.BX)(h.tu,{bg:r?"glass-inverted-medium":void 0,radius:"sm"===a?"xs":"sm",padding:8*("sm"!==a),gap:4,opacity:100*!!r,children:[(0,i.tZ)(h.gq,{justifyContent:"center",alignItems:"center",onMouseEnter:()=>o(!1),children:(0,i.tZ)("div",{style:{position:"relative"},children:d&&p&&(0,i.tZ)(O.RF,{storyboard:d,imageUrl:d.url,displayHeight:c,displayWidth:d.tile_width/d.tile_height*c,x:p.x,y:p.y,className:l()(F.timelineThumbnail,{[F.timelineThumbnailSmall]:"sm"===a})})})}),n]})},U={container:"container-S0aAZ3",track:"track-FYojQC",trackClippedPlayed:"trackClippedPlayed-cnYlGh",trackClippedUnplayed:"trackClippedUnplayed-km4zul",trackFilled:"trackFilled-gbOxAX",trackExpanded:"trackExpanded-_EdObk"},H=e=>{let{clipTimes:t,duration:n,isHovering:a,isPlayingClippedSegment:o,post:d,pub:c,progress:p,setIsHovering:g,storyboard:f,onClickBubble:C,onPause:Z,onShareMenuOpen:b,onShareMenuClose:y}=e,{iString:w}=(0,u.M1)(),[k,x]=(0,r.eJ)(!1),[L,I]=(0,r.eJ)(!0),B=!o&&p>t.start/n*100,E=!o&&p>t.end/n*100;return(0,r.d4)(()=>{(0,v.j)(v.FP.MEDIA_CLIP_SEEN,{start_time:t.start,duration:t.end-t.start})},[t.end,t.start]),(0,i.BX)("div",{className:U.container,children:[(0,i.tZ)("div",{className:l()(U.track,U.trackUnclipped,{[U.trackFilled]:B,[U.trackExpanded]:B&&a}),style:{left:0,width:"calc(".concat(t.start/n*100,"% - 2px)")}}),(0,i.tZ)("div",{className:l()(U.track,{[U.trackClippedUnplayed]:o,[U.trackFilled]:E,[U.trackExpanded]:E&&a}),style:{left:"".concat(t.start/n*100,"%"),width:"".concat((t.end-t.start)/n*100,"%")}}),(0,i.tZ)("div",{className:l()(U.track),style:{right:0,width:"calc(".concat((1-t.end/n)*100,"% - 2px)")}}),o?(0,i.tZ)("div",{className:l()(U.track,U.trackClippedPlayed,{[U.trackExpanded]:a}),style:{left:"".concat(t.start/n*100,"%"),width:"".concat(p-t.start/n*100,"%")}}):p<t.start/n*100?(0,i.tZ)("div",{className:l()(U.track,U.trackFilled,{[U.trackExpanded]:a}),style:{left:0,width:"".concat(p,"%")}}):(0,i.tZ)("div",{className:l()(U.track,U.trackFilled,{[U.trackExpanded]:a}),style:{left:"calc(".concat(t.end/n*100,"% + 2px)"),width:"calc(".concat(p-t.end/n*100,"% - 2px)")}}),(0,i.BX)(h.tu,{alignItems:"center",position:"absolute",gap:8,style:{bottom:16,left:o?"".concat(Math.max(t.start/n*100,3.5),"%"):"".concat(Math.max(.5*(t.start+t.end)/n*100,1.5),"%"),transform:"translateX(-50%)"},onMouseEnter:()=>{x(!0)},onMouseLeave:()=>{L&&(I(!0),x(!1))},children:[k&&(0,i.tZ)(A,{setIsHovering:g,showTooltip:L,size:"md",storyboard:f,videoTime:t.start,children:(0,i.tZ)(X,{onShareMenuOpen:()=>{I(!1),null==b||b(),(0,v.j)(v.FP.POST_SHARE_BUTTON_CLICKED,{position:"video_timeline",post_id:null==d?void 0:d.id})},onShareMenuClose:()=>{I(!0),null==y||y()},timestamp:t.start,duration:t.end-t.start,pub:c,post:d,size:"md",trigger:(0,i.tZ)("div",{onMouseDown:e=>e.stopPropagation(),children:L&&(0,i.BX)(h.gq,{cursor:"pointer",gap:8,flex:"grow",paddingY:4,onClick:Z,justifyContent:"center",children:[(0,i.tZ)(s.Z,{color:"white",size:20}),(0,i.tZ)(m.xv.B4,{color:"white",weight:"semibold",children:w("Share clip")})]})})})}),(0,i.tZ)(_,{clipDuration:t.end-t.start,isMinimized:!o,onClick:C})]})]})},V={timelineContainer:"timelineContainer-QAunx2",timeline:"timeline-nCVBQY",timelineHover:"timelineHover-G7eFow",progress:"progress-K0IenH",progressHover:"progressHover-Cm9xTr",thumbnailContainer:"thumbnailContainer-vAgzNA"},W=e=>{var t;let{disableSharing:n,mediaRef:a,mediaUpload:o,post:C,pub:Z,size:y,startTime:w=0,endTime:_,onShareMenuOpen:k,onShareMenuClose:x}=e,{iString:L}=(0,u.M1)(),{isClipping:I}=(0,c.Sr)(),{currentTime:B}=(0,p.FI)(a),{clipTimes:E}=b(),M=!!(E&&B>=E.start&&B<=E.end),[P,N]=(0,r.eJ)(!0),[T,S]=(0,r.eJ)(null),[D,R]=(0,r.eJ)(0),[z,O]=(0,r.eJ)(!1),[F,U]=(0,r.eJ)(!1),[W,j]=(0,r.eJ)(0),[q,K]=(0,r.eJ)(0),[J,Y]=(0,r.eJ)(0),[G,Q]=(0,r.eJ)(0),$=(0,r.sO)(null),ee=(0,r.sO)(null),et=(0,r.sO)(null),en=(0,g.lg)(o),ei=(_||W)-w,er=(0,r.I4)(()=>{var e;if(null===(e=a.current)||void 0===e?void 0:e.player){let e=a.current.player;R(d()(e.currentTime-w,0,null!=ei?ei:e.duration-w)/(null!=ei?ei:e.duration)*100),_&&e.currentTime>=_&&(e.currentTime=w,e.pause())}$.current=requestAnimationFrame(er)},[a,w,ei,_]),ea=(0,r.I4)(e=>{var t;if(et.current&&(null===(t=a.current)||void 0===t?void 0:t.player)){let t=et.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;a.current.player.currentTime=d()(w+n*ei,0,W),R(100*n)}},[a,w,W,ei]),el=(0,r.I4)(e=>{ea(e)},[ea]),eo=(0,r.I4)(e=>{z&&e.preventDefault()},[z]),ed=(0,r.I4)(()=>{O(!1),document.removeEventListener("mousemove",el),document.removeEventListener("selectstart",eo)},[el,eo]),es=(0,r.I4)(e=>{e.preventDefault(),O(!0),ea(e),document.addEventListener("mousemove",el),document.addEventListener("mouseup",ed),document.addEventListener("selectstart",eo)},[ea,el,ed,eo]),ec=()=>{Math.abs(q-G)>.1?(Q(e=>e+(q-e)*.1),ee.current=window.requestAnimationFrame(ec)):(Q(q),ee.current&&window.cancelAnimationFrame(ee.current))};(0,r.d4)(()=>($.current=window.requestAnimationFrame(er),()=>{null!==$.current&&window.cancelAnimationFrame($.current),null!==ee.current&&window.cancelAnimationFrame(ee.current)}),[er]),(0,r.d4)(()=>{let e=()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.player)&&!isNaN(a.current.player.duration)&&j(a.current.player.duration)};if(a.current){var t;null===(t=a.current.player)||void 0===t||t.addEventListener("durationchange",e)}return e(),()=>{if(a.current){var t;null===(t=a.current.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[null===(t=a.current)||void 0===t?void 0:t.player]);let eu=T?T/ei*100:q*ei/100;return(0,i.BX)(h.gq,{ref:et,onMouseDown:es,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),onClick:ed,onMouseMove:e=>{var t,n,i,r;let{x:a,width:l}=null!==(i=null===(t=et.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==i?i:{x:0,width:0};K((e.clientX-a)/l*100);let o=en?en.tile_width/en.tile_height*100:100,s=((null!=o?o:0)+10)/2/(null!==(r=null===(n=et.current)||void 0===n?void 0:n.getBoundingClientRect().width)&&void 0!==r?r:1)*100,c=T?T/ei*100:null;Y(d()(null!=c?c:q,s,100-s)),ee.current||ec()},flex:"grow",position:"relative",className:V.timelineContainer,cursor:"pointer",children:[E&&W&&C&&Z&&!I?(0,i.tZ)(H,{clipTimes:E,duration:W,isHovering:F,isPlayingClippedSegment:null!=M&&M,post:C,pub:Z,progress:D,setIsHovering:U,storyboard:en,onClickBubble:()=>{var e,t,n;(null===(e=a.current)||void 0===e?void 0:e.player)&&E&&(a.current.player.currentTime=E.start,a.current.player.paused&&(null===(t=(n=a.current.player).play)||void 0===t||t.call(n)))},onPause:()=>{var e,t,n;(null===(e=a.current)||void 0===e?void 0:e.player)&&(null===(t=(n=a.current.player).pause)||void 0===t||t.call(n))},onShareMenuOpen:k,onShareMenuClose:x}):(0,i.BX)("div",{className:V.timeline,children:[F&&(0,i.tZ)("div",{className:V.timelineHover,style:{width:"".concat(q,"%"),height:"100%"}}),(0,i.tZ)("div",{className:l()(V.progress,{[V.progressHover]:F&&!E}),style:{width:"".concat(D,"%"),height:"100%"}})]}),!I&&!n&&!E&&C&&Z&&x&&k&&(0,i.tZ)(h.tu,{position:"absolute",className:V.thumbnailContainer,style:{position:"absolute",left:"".concat(J,"%"),opacity:+!!F},children:(0,i.tZ)(A,{setIsHovering:U,showTooltip:P,size:null!=y?y:"md",storyboard:en,videoTime:eu,children:"sm"!==y&&(0,i.tZ)(X,{onShareMenuOpen:()=>{N(!1),null==k||k(),(0,v.j)(v.FP.POST_SHARE_BUTTON_CLICKED,{position:"video_timeline",post_id:null==C?void 0:C.id})},onShareMenuClose:()=>{N(!0),S(null),null==x||x()},timestamp:T,pub:Z,post:C,size:y,trigger:(0,i.tZ)(h.gq,{children:P&&(0,i.BX)(h.gq,{cursor:"pointer",gap:8,flex:"grow",paddingY:4,onClick:()=>{var e,t,n,i;(null===(t=a.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.paused)||null===(i=a.current)||void 0===i||null===(n=i.player)||void 0===n||n.pause(),S(eu)},justifyContent:"center",children:[(0,i.tZ)(s.Z,{color:"white",size:20}),(0,i.BX)(m.xv.B4,{color:"white",weight:"semibold",children:[L("Share from "),(0,f.mr)(eu)]})]})})})})})]})}},91189:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(56687),a=n(95441),l=n(84370),o=n(87077),d=n(74571),s=n(63722);let c=e=>{let{isFocused:t,disabled:n,disableShortcuts:c,disableTooltips:u=!1,onToggleShowTranscript:p}=e,{iString:v}=(0,a.M1)();return(0,d.Kr)("t",p,t&&!c),(0,i.tZ)(o.u,{disabled:u,text:v("Transcripts"),trailing:c?void 0:(0,i.tZ)(l.T,{children:"T"}),children:(0,i.tZ)(s.Z,{onClick:p,disabled:n,children:(0,i.tZ)(r.Z,{size:18})})})}},76820:function(e,t,n){n.d(t,{Jl:()=>C,PJ:()=>f,Qz:()=>m,YQ:()=>g});var i=n(7409),r=n(16584),a=n(30396),l=n(12281),o=n(60807),d=n(27625),s=n(98422),c=n(71068),u=n(19081),p=n(75822),v=n(18618),h=n(95738);function m(e,t){let[n,i]=(0,a.eJ)(null);return(0,a.d4)(()=>{let n=new ResizeObserver(e=>{if(!e||0===e.length)return;let n=e[0];if(n&&n.target){let{width:e}=n.contentRect;t?i(Math.min(e,t)):i(e)}}),r=e.current;return r&&n.observe(r),()=>{n.disconnect()}},[e]),n}let g=295,f=520;function C(e){let{mediaUpload:t,composing:n,maxWidth:C,videoPlayerProps:b,tag:y}=e,w=(0,o.Fl)().autoPlayVideo,{isMobile:_}=(0,s.v9)(),k=(0,a.sO)(null),x=(0,a.sO)(null),L=m(x,C);(0,p.KS)({videoPlayerRef:k,showPaywall:!1,disable:!1});let{isHidden:I,onShow:B}=(0,d.Sl)(!!t.explicit),E=null;null!==t.width&&null!==t.height&&(E=t.width/t.height);let M={};if(_){let e=null!=L?L:g;M=E?E>1?{width:"".concat(e,"px"),height:"".concat(e/E,"px")}:{height:"".concat(400,"px"),width:"".concat(400*E,"px")}:{}}else if(E){let e=null!=L?L:f;M=E?E>1?{width:"".concat(e,"px"),height:"".concat(e/E,"px")}:{height:"".concat(400,"px"),width:"".concat(400*E,"px")}:{}}return(0,r.tZ)(u.tu,{ref:x,children:(0,r.BX)(u.tu,{style:M,radius:"md",overflow:"hidden",position:"relative",className:h.Z.videoPlayerContainer,children:[(0,r.tZ)(l.Z,(0,i._)({ref:k,mediaUpload:t,startMuted:w,autoPlay:w&&n,renderPlayButton:()=>(0,r.tZ)(v.fI,{isPlaying:!1,size:_?40:56}),pub:null,videoPlayerClassName:h.Z.videoPlayer,videoClassName:h.Z.video,omitBackgroundColor:!0,stopPropagation:!0,noKeyboardShortcuts:!0},b)),!n&&I&&(0,r.tZ)(d.cD,{radius:"md",onShow:B,itemName:"video"}),(0,r.tZ)(c.xu,{position:"absolute",inset:0,radius:"md",outline:"detail",pointerEvents:"none"}),y&&(0,r.tZ)(Z,{children:y})]})})}let Z=(0,c.zo)({display:"flex",padding:8,position:"absolute",alignItems:"start",justifyContent:"start"})},38927:function(e,t,n){n.d(t,{t:()=>i});let i=["listItem","codeBlock","heading","paragraph"]},23854:function(e,t,n){n.d(t,{bP:()=>a,sC:()=>r});var i,r=((i={}).Removed="removed",i.Unavailable="unavailable",i.BlockedYou="blocked-you",i.YouBlocked="you-blocked",i.YouMuted="you-muted",i);function a(e){return"missing"===e.type}},18925:function(){}}]);