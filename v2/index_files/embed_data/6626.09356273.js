"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["6626"],{37430:function(e,t,r){r.d(t,{Z:()=>i});let i={avatar:"avatar-KIJVyG",avatarOther:"avatarOther-uvAI8g",avatarOtherIcon:"avatarOtherIcon-FpqVMX",link:"link-OtwxxI",column:"column-ADckUl",row:"row-rF9rT4",button:"button-teBUKU",textFace:"textFace-jeUWz6"}},2180:function(e,t,r){r.d(t,{Z:()=>i});let i={container:"container-u4XWUV",label:"label-gARrM9",input:"input-rLnHxk",selectedInput:"selectedInput-RGkQnW"}},25390:function(e,t,r){r.d(t,{Z:()=>i});let i={personYouMayKnow:"personYouMayKnow-g7Alxo",personYouMayKnowFeed:"personYouMayKnowFeed-bb1Yh4",withSocialContext:"withSocialContext-bZjv3u",personYouMayKnowFeedButton:"personYouMayKnowFeedButton-JiQmpP",personYouMayKnowImage:"personYouMayKnowImage-peGMNI",personYouMayKnowMutuals:"personYouMayKnowMutuals-ZOuD6k",facepileLink:"facepileLink-N3nvHV",facepileFace:"facepileFace-_GchsT",shareProfile:"shareProfile-nfq3_a",fbConnect:"fbConnect-U6M5tm",avatarContainer:"avatarContainer-Bsasck",close:"close-kHICWg",badge:"badge-S8RI6g",badgeIcon:"badgeIcon-jk16vG"}},50012:function(e,t,r){r.d(t,{C:()=>g,l:()=>Z});var i=r(7409),o=r(99282),n=r(98848),l=r(16584),a=r(30396),s=r(94184),d=r.n(s),c=r(85685),u=r(93252),h=r(63018),f=r(32700),p=r(63651),m=r(81821),v=r(90271);function g(e){var{children:t,disabled:r}=e,a=(0,n._)(e,["children","disabled"]);return r||(0,m.tq)()||(0,u.P)()?(0,l.tZ)(l.HY,{children:t}):(0,l.tZ)(C,(0,o._)((0,i._)({},a),{children:t}))}function C(e){var t,r,s,d,u,{className:m,children:g,subject:C,placement:_="right-center",utmSource:k}=e,b=(0,n._)(e,["className","children","subject","placement","utmSource"]);let[w,y]=(0,a.eJ)(!1),M=(t=null!==(u=null!==(d=C.slug)&&void 0!==d?d:C.handle)&&void 0!==u?u:(0,p._IO)(C),r={auto:w},(0,h._I)("/api/v1/user/".concat(t,"/public_profile"),r)),L=M.data,F=(0,f.o)((0,i._)({className:v.Z.profileHoverCard,loading:M.isLoading,hideOnScroll:!0,onOpen:()=>{y(!0)},layerOptions:{placement:_},content:L?(0,l.tZ)(c.ProfileCard,{profile:L,subject:C,utmSource:k,forceRefresh:()=>M.mutate()}):null},b));return(0,l.BX)(Z,(0,o._)((0,i._)({className:m},F.hoverProps),{forwardRef:null===(s=F.triggerProps)||void 0===s?void 0:s.ref,children:[g,F.layer]}))}function Z(e){var{inline:t,className:r,forwardRef:o}=e,a=(0,n._)(e,["inline","className","forwardRef"]);return(0,l.tZ)("div",(0,i._)({className:d()("profile-hover-card-target",v.Z.profileHoverCardTarget,t&&v.Z.inline,r),ref:o},a))}},43389:function(e,t,r){r.d(t,{Z:()=>s});var i=r(7409),o=r(99282),n=r(16584),l=r(66298),a=r(64515);let s=e=>(0,n.tZ)(a.l,(0,o._)((0,i._)({},e),{name:"LucideArrowUpRight",svgParams:{height:24,width:24},children:(0,n.tZ)(l.Z,{height:24,stroke:e.stroke,fill:e.fill,strokeWidth:e.strokeWidth})}))},25265:function(e,t,r){r.d(t,{Z:()=>s});var i=r(7409),o=r(99282),n=r(16584),l=r(7617),a=r(64515);let s=e=>(0,n.tZ)(a.l,(0,o._)((0,i._)({},e),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0},children:(0,n.tZ)(l.Z,{height:24,stroke:e.stroke,fill:e.fill,strokeWidth:e.strokeWidth})}))},666:function(e,t,r){r.d(t,{Z:()=>s});var i=r(7409),o=r(99282),n=r(16584),l=r(8618),a=r(64515);let s=e=>(0,n.tZ)(a.l,(0,o._)((0,i._)({},e),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0},children:(0,n.tZ)(l.Z,{height:24,stroke:e.stroke,fill:e.fill,strokeWidth:e.strokeWidth})}))},95398:function(e,t,r){r.d(t,{Z:()=>a});var i=r(7409),o=r(99282),n=r(16584),l=r(64515);let a=e=>(0,n.tZ)(l.l,(0,o._)((0,i._)({},e),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0},children:(0,n.tZ)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.tZ)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z",strokeWidth:e.strokeWidth,fill:e.fill,className:"lucide",strokeLinecap:"round",strokeLinejoin:"round"})})}))},38457:function(e,t,r){r.d(t,{Z:()=>s});var i=r(7409),o=r(99282),n=r(98848),l=r(16584),a=r(64515);let s=e=>{var{size:t=24,color:r="var(--color-fg-primary)"}=e,s=(0,n._)(e,["size","color"]);return(0,l.tZ)(a.l,(0,o._)((0,i._)({},s),{name:"NoteQuoteForwardIcon",svgParams:{viewBox:"0 0 24 24"},width:t,height:t,stroke:r,strokeWidth:2,fill:"none",children:(0,l.tZ)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z",strokeLinecap:"round","stroke-linejoin":"round"})}))}},42970:function(e,t,r){r.d(t,{Z:()=>s});var i=r(7409),o=r(99282),n=r(98848),l=r(16584),a=r(64515);let s=e=>{var{size:t=24,fill:r="var(--color-fg-primary)"}=e,s=(0,n._)(e,["size","fill"]);return(0,l.tZ)(a.l,(0,o._)((0,i._)({},s),{name:"CommentBadgePinIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:r,children:(0,l.tZ)("path",{stroke:"none",d:"M4.62891 12.2131C4.62891 11.7253 4.75199 11.2486 4.99817 10.7831C5.24434 10.3131 5.5957 9.88566 6.05225 9.50073C6.51326 9.11133 7.05933 8.79801 7.69043 8.56079L7.91199 5.4187C7.57182 5.22624 7.26074 5.03153 6.97876 4.83459C6.69678 4.63765 6.45284 4.44967 6.24695 4.27063C6.04106 4.08712 5.87992 3.92151 5.76355 3.7738C5.57556 3.5321 5.48157 3.29041 5.48157 3.04871C5.48157 2.81596 5.56213 2.62349 5.72327 2.47131C5.88888 2.31466 6.10372 2.23633 6.3678 2.23633H13.6322C13.8963 2.23633 14.1089 2.31466 14.27 2.47131C14.4356 2.62349 14.5184 2.81596 14.5184 3.04871C14.5184 3.29041 14.4244 3.5321 14.2365 3.7738C14.1201 3.92151 13.9567 4.08712 13.7463 4.27063C13.5404 4.44967 13.2965 4.63765 13.0145 4.83459C12.737 5.02706 12.4282 5.22176 12.088 5.4187L12.3029 8.56079C12.9384 8.79801 13.4845 9.11133 13.941 9.50073C14.3976 9.88566 14.7489 10.3131 14.9951 10.7831C15.2413 11.2486 15.3644 11.7253 15.3644 12.2131C15.3644 12.5309 15.2659 12.7883 15.069 12.9852C14.872 13.1777 14.608 13.2739 14.2767 13.2739H10.7117V16.4697C10.7117 16.689 10.6848 16.9128 10.6311 17.1411C10.5774 17.3694 10.5103 17.5753 10.4297 17.7588C10.3491 17.9468 10.2686 18.0967 10.188 18.2086C10.1119 18.325 10.0492 18.3832 10 18.3832C9.95076 18.3832 9.88586 18.325 9.8053 18.2086C9.72473 18.0967 9.64417 17.9468 9.5636 17.7588C9.48303 17.5753 9.41589 17.3694 9.36218 17.1411C9.30847 16.9128 9.28162 16.689 9.28162 16.4697V13.2739H5.72327C5.39205 13.2739 5.12573 13.1777 4.92432 12.9852C4.72738 12.7883 4.62891 12.5309 4.62891 12.2131Z"})}))}},74648:function(e,t,r){r.d(t,{Q:()=>a});var i=r(16584),o=r(74626),n=r(95441),l=r(19081);let a=e=>{let{post:t,ctaUrl:r,ctaText:a,hidden:s}=e,{iString:d}=(0,n.M1)(),c=a;return s||"podcast"!==t.type?s||"newsletter"!==t.type||(c=d("Back to article")):c=d("Back to episode"),(0,i.tZ)(l.tu,{alignItems:"start",paddingY:8,children:(0,i.tZ)(o._,{href:r,leadingIcon:"chevron-left",native:!0,size:"md",variant:"tertiary",children:c})})}},32261:function(e,t,r){r.d(t,{FI:()=>g,fi:()=>Z});var i=r(27412),o=r(7409),n=r(98848),l=r(16584),a=r(6400),s=r(94184),d=r.n(s),c=r(70149),u=r(93666),h=r(48980),f=r(98012),p=r(60308),m=r(84864);class v extends a.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(e){this.props.manualLoad||e.profileUser.id===this.props.profileUser.id||(this.setState({profileUser:null}),this.loadProfileUser())}async loadProfileUser(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{let e=await (0,h.rd)("/api/v1/user/".concat(this.props.profileUser.id,"/profile"));this.setState({profileUser:e})}catch(e){console.error("Failed to load profile:",e)}this.setState({loadingProfile:!1})}}getProfileUser(){return this.state.profileUser||this.props.profileUser}render(e){var t,r;let{pub:i}=e,o=this.getProfileUser(),n="publications"in o&&i&&(null===(t=o.publications)||void 0===t?void 0:t.filter(e=>e.id!==i.id))||[];return(0,l.BX)("div",{className:"user-profile ".concat(this.props.isBanned?"banned":""),children:[(0,l.tZ)(Z,{photo_url:(0,p.SMH)(o),banned:this.props.isBanned,email:"email"in o?o.email:void 0,pub:i}),(0,l.tZ)("div",{className:"user-profile-name",children:"name"in o?o.name:""}),(0,l.tZ)("div",{className:"user-profile-status",children:i&&o.id===i.author_id?(0,l.BX)("b",{children:["Author of ",i.name]}):i&&"subscribed_at"in o&&o.subscribed_at?"Subscriber to ".concat(i.name," since ").concat((0,f.Z)(o.subscribed_at).standardDate()):"\xa0"}),n.length>0&&(0,l.BX)("div",{className:"user-profile-publication",children:["Author of"," ",(0,m.oxfordComma)(n.map(e=>(0,l.tZ)("a",{href:e.base_url,native:!0,children:e.name})))]}),this.props.isBanned&&(0,l.BX)("div",{className:"user-profile-banned",children:["Banned from commenting on ",null!==(r=null==i?void 0:i.name)&&void 0!==r?r:""]})]})}}class g extends u.p{onBeforeOpen(){var e;null===(e=this.profile)||void 0===e||e.loadProfileUser()}renderChildren(){let e=this.props,{ref:t}=e,r=(0,n._)(e,["ref"]);return(0,l.tZ)("div",{className:"user-profile-modal",children:(0,l.tZ)(v,(0,o._)({ref:this.assignProfile,manualLoad:!0},r))})}constructor(...e){super(...e),(0,i._)(this,"profile",void 0),(0,i._)(this,"assignProfile",e=>{this.profile=e})}}let C=e=>{let{children:t,email:r,pub:i}=e;return(0,l.tZ)("a",{target:"_blank",href:(0,p.pN7)(i,r),children:t})},Z=e=>{let{photo_url:t,size:r=92,banned:i=!1,email:o="",className:n="",pub:a=null,children:s}=e,u=(0,l.tZ)("img",{className:"user-profile-head",height:r,width:r,src:(0,p.zF4)(null!=t?t:"",2*r,{height:2*r,crop:"fill"})});return(0,l.BX)("div",{className:d()(n,"profile-image-wrapper"),children:[o&&a?(0,l.tZ)(C,{email:o,pub:a,children:u}):u,i&&(0,l.tZ)(c.Z,{height:r}),s]})}},12461:function(e,t,r){r.d(t,{$:()=>u});var i=r(16584),o=r(35543),n=r(60807),l=r(80878),a=r(15771),s=r(3021),d=r(63651),c=r(47929);function u(e){let{person:t,surface:r="suggestion"}=e,u=(0,n.aF)(),{primary_publication:h}=t,f=(0,o.Sv)(t,r),p=f.isFollowing?"Following":"Follow",m=f.isFollowing?"secondary-outline":"secondary";return(0,i.tZ)(s.kJ,{user:t,publication:h,label:h?h.name:"",source:r,onClick:e=>(0,l.Q)(e,(0,d.NNq)(t,{utm_source:c.b3.substack,utm_content:c.fZ.resackerItem}),{state:{showBack:!0}}),cta:t.id===(null==u?void 0:u.id)?null:(0,i.tZ)(a.zx,{priority:m,size:"sm",onClick:e=>{e.preventDefault(),f.toggle()},children:p})})}},65252:function(e,t,r){r.d(t,{FG:()=>a,mr:()=>n,ol:()=>l});var i,o=r(95441);let n=()=>{let{iString:e}=(0,o.M1)();return[["1d",e("For 1 day")],["30d",e("For 30 days")],["90d",e("For 90 days")],["1y",e("For 1 year")],["1000y",e("Forever")]]};var l=((i={}).VISIBLE="visible",i.DELETE_THIS_COMMENT="delete_this_comment",i.DELETE_ALL_COMMENTS="delete_all_comments",i);let a=()=>{let{iString:e}=(0,o.M1)();return[["visible",e("Do not delete comments")],["delete_this_comment",e("Delete this comment")],["delete_all_comments",e("Also delete all comments")]]}},4953:function(e,t,r){r.d(t,{w:()=>i});function*i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;for(let i=e;i<t;i+=r)yield i}}}]);