"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["958"],{73909:function(e,t,n){n.d(t,{Z:()=>r});let r={textarea:"textarea-Ohqcz2",textareaWithIcon:"textareaWithIcon-kncL3t",iconContainer:"iconContainer-aheBDP"}},89043:function(e,t,n){n.d(t,{Z:()=>r});let r={container:"container-PNh5cP",containerBulwark:"containerBulwark-Y0wz4B",noPodcasts:"noPodcasts-reia2s"}},62126:function(e,t,n){n.d(t,{m:()=>ee});var r=n(16584),i=n(30396),l=n(80569),a=n.n(l),o=n(95441),c=n(15771),d=n(19081),u=n(6490),s=n(58175);let p=e=>{let{isOpen:t,onContinue:n}=e,{iString:l}=(0,o.M1)(),[a,p]=(0,i.eJ)(!1);return(0,r.BX)(u.u_,{isOpen:t,children:[(0,r.tZ)(u.xB,{title:l("Switch to Bitcoin"),showClose:!1}),(0,r.tZ)(u.fe,{children:(0,r.BX)(d.tu,{gap:24,children:[(0,r.BX)(d.tu,{gap:16,children:[(0,r.tZ)(s.xv.B4,{translated:!0,children:"Switching to Bitcoin will end your auto-renewing credit card payments."}),(0,r.BX)(s.xv.B4,{translated:!0,children:["Please note that Substack cannot process refunds or auto-renewals for Bitcoin payments. You will now be sent to"," ",(0,r.tZ)("a",{href:"https://opennode.com",target:"_blank",rel:"noopener",children:"OpenNode"})," ","to complete your checkout."]})]}),(0,r.tZ)(c.zx,{onClick:()=>{p(!0),n()},disabled:a,children:l("Continue")})]})})]})};var h=n(25469),m=n(17876),g=n(94184),v=n.n(g),f=n(51776);let b="themed-qm5g5y",Z=e=>{let{placeholder:t,maxLength:n,value:i,symbol:l,themed:a=!1,onChange:o}=e;return(0,r.BX)(d.gq,{alignItems:"center",justifyContent:"start",className:v()("inputContainer-JJXl4U",{[b]:a}),children:[(0,r.tZ)(s.xv.B3,{as:"span",color:a?"pub-secondary-text":"secondary",weight:"semibold",className:"currencyInput-n4aG03",children:l}),(0,r.tZ)(f.oi,{name:"Confirm Founding Price","aria-label":"Confirm founding price",value:i,placeholder:t,maxLength:n,onChange:e=>o(e.currentTarget.value),onInput:e=>o(e.currentTarget.value),className:v()("inputField-ZlLLCs",{[b]:a})})]})};var y=n(68833),w=n(84864);let _=e=>{let{currency:t,isValid:n,newUpgradeModal:l,planName:a,price:c,setValidationState:u}=e,[p,g]=(0,i.eJ)(""),v=parseInt(c);(0,i.d4)(()=>((0,y.j)(y.FP.FOUNDING_PRICE_CONFIRMATION_REQUIRED,{price:c,source:"upgrade modal"}),()=>{n||(0,y.j)(y.FP.FOUNDING_PRICE_CONFIRMATION_DISMISSED,{price:c,source:"upgrade modal"})}),[]);let{iString:f}=(0,o.M1)(),b=(0,w.isZeroDecimalCurrency)(t)?1:100;return(0,r.BX)(d.tu,{font:l?"text":void 0,gap:8,paddingTop:8*!l,borderTop:l?void 0:"detail",alignItems:"start",justifyContent:"start",children:[(0,r.BX)(s.xv,{translated:!0,as:"p",size:l?14:17,color:"secondary",children:["Please confirm you want to pay"," ",(0,r.tZ)(s.xv,{as:"span",color:"primary",weight:"semibold",children:I18N.p(v?(0,w.centsToPriceString)(v*b,t):c)})," ","per year for a ",I18N.p(null!=a?a:f("Founding Member"))," subscription by typing the price below."]}),(0,r.BX)(d.gq,{alignItems:"center",justifyContent:"start",gap:8,style:{width:"100%"},children:[(0,r.tZ)(Z,{placeholder:c,symbol:(0,w.currencySymbol)(t),maxLength:c.length,value:p,themed:!1,onChange:e=>{e===c?(u(!0),g(e)):e!==p&&(u(!1),g(e))}}),n?(0,r.tZ)(h.Z,{size:24,style:{color:"var(--color-accent-fg-green)"}}):(0,r.tZ)(m.Z,{size:24,style:{color:"var(--color-accent-fg-red)"}})]})]})};var B=n(89734),C=n.n(B),x=n(58865),N=n(7409),S=n(99282),I=n(64515);let X=e=>(0,r.tZ)(I.l,(0,S._)((0,N._)({},e),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"},children:(0,r.tZ)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})}));var k=n(87077),P=n(31582);let F={outlineWrapper:"outlineWrapper-MqmfKS",outlineWrapperWithWarning:"outlineWrapperWithWarning-x5ALXu",warningContainer:"warningContainer-lQlVcA",outlineWrapperSelected:"outlineWrapperSelected-KXkgz5",amountInput:"amountInput-pcn7kh",amountInputDeselected:"amountInputDeselected-W75Nrd"};function U(){let e=(0,x._)([" per ",""]);return U=function(){return e},e}function M(){let e=(0,x._)(["Amount must be greater than ",""]);return M=function(){return e},e}let A=e=>{var t;let{amount:n,currency:l,isSelected:a,outlineOnSelect:c,plan:d,usePer:u,showDuration:s=!0,disableInput:p=!1,className:h,disableWarning:m,onChangeAmount:g}=e,f=(0,i.sO)(null),[b,Z]=(0,i.eJ)(!1),y=(0,i.I4)(e=>{g(e.toString().replace(/[^\d.]/g,""))},[g]);l||(l=d.currency),(0,i.d4)(()=>{let e=(0,P.vq)(d,l);Z(!!(!m&&e&&null!==n&&l&&parseFloat(Number((0,w.isZeroDecimalCurrency)(l)?n:100*Number(n)).toFixed(2))<e&&a))},[n,l,m,a,d]),(0,i.bt)(()=>{setTimeout(()=>{f.current&&(f.current.style.width="1px",f.current.style.width="".concat(f.current.scrollWidth,"px"),f.current.scrollLeft=0)},0)},[n,f]),(0,i.d4)(()=>{a&&(f.current.focus(),f.current.select())},[f,a]);let{iTemplate:_,iString:B}=(0,o.M1)();return(0,r.BX)("span",{className:v()(F.outlineWrapper,h,{[F.outlineWrapperSelected]:c&&a,[F.outlineWrapperWithWarning]:b}),children:[(0,w.centsToPriceString)(100,l).replace("1",""),(0,r.tZ)("input",{disabled:p,ref:f,className:v()(F.amountInput,{[F.amountInputDeselected]:!a}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:"string"==typeof n?n:d.amount/100,onKeyDown:e=>{"ArrowUp"===e.key?(y(Number(n||d.amount/100)+5),setTimeout(()=>{f.current.selectionStart=f.current.selectionEnd=f.current.value.length},0)):"ArrowDown"===e.key&&(!n||Number(n)>=5)&&(y(Number(n||d.amount/100)-5),setTimeout(()=>{f.current.selectionStart=f.current.selectionEnd=f.current.value.length},0))},onInput:e=>{y(e.target.value)}}),(0,r.tZ)("input",{name:"amount",type:"hidden",value:"string"==typeof n?100*(Number(n)||0):d.amount}),s&&"forever"!==d.interval&&(u?_(U(),B(d.interval)):"/".concat(B(d.interval))),b&&(0,r.tZ)("div",{className:F.warningContainer,children:(0,r.tZ)(k.u,{text:_(M(),(0,w.centsToPriceString)(null!==(t=(0,P.vq)(d,l))&&void 0!==t?t:0,l)),children:(0,r.tZ)(X,{stroke:"white",height:20,fill:"red",strokeWidth:1})})})]})};var D=n(43570);let E=e=>{let{currency:t,foundingAmount:n,foundingName:i,isSelected:l,isCurrent:a,plan:c,onChangeAmount:u}=e,{iString:p}=(0,o.M1)();return(0,r.BX)(d.gq,{alignItems:"center",flex:"grow",gap:16,justifyContent:"space-between",children:[(0,r.tZ)(s.xv.B4,{weight:l?"semibold":"regular",children:(0,r.BX)(d.tu,{children:[(0,r.tZ)("div",{children:i}),(0,r.tZ)(A,{amount:n?n.toString():"",currency:t,isSelected:l,plan:c,usePer:!0,onChangeAmount:e=>{u(Number(e))}})]})}),a&&(0,r.tZ)(D.Vp,{priority:"primary",theme:"default",children:p("Current")})]})};var L=n(10656);let T=e=>{let{currency:t,plan:n,isCurrent:i,isSelected:l,language:a}=e,{iString:c}=(0,o.M1)();return(0,r.BX)(d.gq,{alignItems:"center",flex:"grow",gap:8,justifyContent:"space-between",children:[(0,r.tZ)(s.xv.B4,{weight:l?"semibold":"regular",children:(0,L.tS)(n,{currency:t,noTrial:!0,recurring:!0,language:a})}),i&&(0,r.tZ)(D.Vp,{priority:"primary",theme:"default",children:c("current")})]})};var z=n(57640),O=n(51699);let q=e=>{let{currency:t,foundingAmount:n,foundingName:i,isCurrent:l,language:a,plan:o,isSelected:c,onChangePlan:u,onChangeFoundingAmount:s}=e;return(0,r.BX)(d.gq,{alignItems:"center",as:"label",border:c?"accent":"detail-themed",gap:8,padding:16,radius:"sm",children:[(0,r.tZ)(z.Y,{checked:c,name:"plan",value:o.id,onClick:e=>{u({planId:e.target.value})}}),(0,O.F)({plan:o})?(0,r.tZ)(E,{currency:t,foundingAmount:n,foundingName:i,isCurrent:l,isSelected:c,plan:o,onChangeAmount:s}):(0,r.tZ)(T,{currency:t,plan:o,isCurrent:l,isSelected:c,language:a})]})},W=e=>{let{currency:t,foundingAmount:n,foundingName:i,getIsCurrentPlan:l,language:a,plans:o,selectedPlanId:c,onChangeFoundingAmount:u,onChangePlan:s}=e,p=C()(o,"amount").filter(e=>{var t;return!(null===(t=e.metadata)||void 0===t?void 0:t.bitcoin)}),h=null!=c?c:"";return(0,r.tZ)(d.tu,{gap:8,children:p.map(e=>(0,r.tZ)(q,{currency:t,foundingAmount:n,foundingName:i,isCurrent:l(e),isSelected:e.id===h,language:a,plan:e,onChangePlan:s,onChangeFoundingAmount:u}))})};var j=n(61254),V=n(24791);let R=e=>{let{currency:t,foundingAmount:n,foundingAmountLessThanMinimum:i,foundingName:l,hasChanges:a,sub:c,isNewPlanClassicFounding:u,newPlan:p}=e,{iString:h,language:m}=(0,o.M1)(),g=(0,w.isZeroDecimalCurrency)(t)?1:100,v=a&&p&&(!u||!i),f=v?u?"".concat((0,w.centsToPriceString)((null!=n?n:0)*g,t)," ").concat(h("per year")):(0,L.tS)(p,{language:m,currency:t}):h("N/A");return(0,r.BX)(d.tu,{gap:24,children:[(0,r.tZ)(s.xv.H4,{translated:!0,children:"Summary"}),(0,r.BX)("div",{className:"table-tzqeVd",children:[c.plan&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.xv.B4,{color:"secondary",translated:!0,children:"Current plan"}),(0,r.BX)(d.tu,{"data-testid":"upgrade-summary-current-plan",gap:4,children:[(0,r.tZ)(s.xv.B4,{color:"secondary",align:"right",children:(0,V.sM)({sub:c})?l:H({plan:c.plan,language:m,currency:t})}),(0,V.sM)({sub:c})&&(0,r.tZ)(s.xv.B4,{color:"secondary",align:"right",children:(0,L.tS)(c.plan,{language:m,currency:t})})]})]}),(0,r.tZ)(s.xv.B4,{translated:!0,children:"New plan"}),(0,r.BX)(d.tu,{"data-testid":"upgrade-summary-new-plan",gap:4,children:[(0,r.tZ)(s.xv.B4,{align:"right",weight:v?"semibold":"regular",children:v?H({plan:p,language:m,currency:t}):h("N/A")}),u&&v&&(0,r.tZ)(s.xv.B4,{align:"right",weight:"semibold",children:f})]}),(0,r.tZ)(j.iz,{className:"table-divider-O5XQ7c"}),(0,r.tZ)(s.xv.B4,{translated:!0,children:"Total"}),(0,r.tZ)(s.xv.B4,{"data-testid":"upgrade-summary-total",align:"right",weight:v?"semibold":"regular",children:f})]})]})},H=e=>{var t,n,r;let{plan:i,language:l,currency:a}=e;return(null===(t=i.metadata)||void 0===t?void 0:t.founding)==="yes"?null!==(r=null===(n=i.metadata)||void 0===n?void 0:n.short_description)&&void 0!==r?r:"Founding membership":(0,L.tS)(i,{language:l,currency:a})};var J=n(98914),G=n(26111);let Y={"left-column":"left-column-RH66AP"},K=e=>{var t,n;let{pub:r,sub:i}=e,l=(0,V.MO)(r);if(!l)return 0;let a=(0,P.$e)(l,i.currency),o=i.is_founding&&i.plan&&(0,V.sM)({sub:i})&&l.interval===i.plan.interval?(0,P.$e)(i.plan,i.currency):null,c=(0,w.isZeroDecimalCurrency)(null!==(t=i.currency)&&void 0!==t?t:"usd")?1:100;return(null!==(n=null!=o?o:a)&&void 0!==n?n:0)/c},Q=e=>{let{pub:t,sub:n}=e,r=null==n?void 0:n.plan;if(!r)return null;if((0,V.sM)({sub:n})){let e=(0,V.MO)(t);if(e&&e.interval===r.interval)return e}return r},$=e=>{var t,n;let{plan:r,sub:i}=e;return!!r&&!!i.plan&&(!!(r.id===i.plan.id||(0,V.sM)({sub:i})&&(0,O.F)({plan:r})&&r.interval===i.plan.interval)||r.amount===i.plan.amount&&r.interval===i.plan.interval&&r.currency===i.plan.currency&&(null===(t=r.metadata)||void 0===t?void 0:t.bitcoin)===(null===(n=i.plan.metadata)||void 0===n?void 0:n.bitcoin))},ee=e=>{var t,n,l;let{isOpen:h,preselectedPlan:m,pub:g,sub:v,onClose:f}=e,{iString:b,language:Z}=(0,o.M1)(),[B,C]=(0,i.eJ)(!1),[x,N]=(0,i.eJ)(Q({pub:g,sub:v})),[S,I]=(0,i.eJ)(K({pub:g,sub:v})),[X,k]=(0,i.eJ)(!1),[P,F]=(0,i.eJ)(!1),[U,M]=(0,i.eJ)(null),A=(0,i.Ye)(()=>(g.plans||[]).filter(e=>{if(g.disable_annual_subscriptions){var t;return"year"!==e.interval||(null===(t=e.metadata)||void 0===t?void 0:t.founding)}return!g.disable_monthly_subscriptions||"month"!==e.interval}),[g.plans]),D=A.some(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.bitcoin}),E=null!==(t=(0,V.H$)(g))&&void 0!==t?t:"",L=null!==(n=v.currency)&&void 0!==n?n:"usd",T=(0,w.isZeroDecimalCurrency)(L),z=T?1:100,q=x&&!$({plan:x,sub:v}),j=S!==K({pub:g,sub:v}),H=q||j,ee=parseFloat((S*z).toFixed(2))<(null!==(l=(0,V.rm)({pub:g,currency:L}))&&void 0!==l?l:0),et=x&&(0,O.F)({plan:x}),en=et&&j&&(null!=S?S:0)>=(T?1e6:1e4),er=!!(B||!H||en&&!X||et&&ee||U);(0,i.d4)(()=>{if(h&&m){if("yearly"===m){let e=A.find(e=>"year"===e.interval&&1===e.interval_count);e&&N(e)}else if("founding"===m){let e=(0,V.MO)(g);e&&N(e)}}},[h,A,m,g]);let ei=(0,i.I4)(()=>{N(Q({pub:g,sub:v})),I(K({pub:g,sub:v}))},[g,v]),el=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&ei(),(0,y.j)(y.FP.UPGRADE_PLAN_MODAL_DISMISSED,{plan:x}),f()},ea=async function(){let{quantity:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!x)return;C(!0);let t=S&&et?S*z:void 0;if(en&&!X){C(!1);return}try{var n;let r=await a().post("/api/v1/subscription/change_plan").send({planId:x.id,foundingAmount:t,quantity:e,token:(0,G.x)(window._preloads.original_url,"token")});(null===(n=r.body)||void 0===n?void 0:n.opennodePaymentUrl)?setTimeout(()=>{window.location.href=r.body.opennodePaymentUrl},30):(C(!1),alert(b("Success! You've changed your plan")),(0,y.j)(y.FP.UPGRADE_PLAN_MODAL_SUBMITTED,{plan:x,amount:null!=t?t:null}),(0,G.x)("redirect")?(0,J.uX)((0,G.x)("redirect"),{local_navigation:!1}):((0,J.iO)("change_plan"),window.location.reload()))}catch(e){C(!1),M((0,J.zx)(e))}},eo=e=>{k(e),e&&(0,y.j)(y.FP.FOUNDING_PRICE_CONFIRMATION_SUBMITTED,{price:S,source:"upgrade modal"})};return A.length?(0,r.BX)("div",{children:[D&&(0,r.tZ)(p,{isOpen:P,onContinue:()=>ea()}),(0,r.tZ)(u.u_,{isOpen:h,testId:"upgrade-plan-modal",width:700,onClose:B?()=>{}:f,fullscreenMobile:!0,children:(0,r.BX)(d.gq,{direction:{desktop:"row",mobile:"column"},children:[(0,r.BX)(d.tu,{className:Y["left-column"],gap:16,padding:24,children:[(0,r.tZ)(s.xv.H3,{translated:!0,children:"Change Plan"}),(0,r.tZ)(W,{currency:L,foundingAmount:S,foundingName:E,getIsCurrentPlan:e=>$({plan:e,sub:v}),language:Z,plans:A,selectedPlanId:null==x?void 0:x.id,onChangeFoundingAmount:e=>{I(e),M(null),k(!1)},onChangePlan:e=>{let{planId:t}=e,{plans:n}=g,r=null==n?void 0:n.find(e=>e.id===t);r&&((0,y.j)(y.FP.UPGRADE_PLAN_MODAL_PLAN_CHANGED,{oldPlan:x,newPlan:r}),N(r),M(null))}})]}),(0,r.BX)(d.tu,{padding:24,flex:"grow",gap:80,children:[(0,r.BX)(d.tu,{flex:"grow",gap:40,children:[(0,r.tZ)(R,{currency:L,foundingAmount:S,foundingAmountLessThanMinimum:ee,foundingName:E,hasChanges:H,isNewPlanClassicFounding:!!et,newPlan:x,sub:v}),en&&(0,r.tZ)(_,{price:S?S.toString():"",isValid:X,planName:E,currency:L,setValidationState:e=>eo(e),newUpgradeModal:!0}),U&&(0,r.tZ)(s.xv,{color:"error",size:14,font:"text",children:U})]}),(0,r.BX)(d.gq,{gap:12,justifyContent:"end",children:[(0,r.tZ)(c.zx,{priority:"secondary",onClick:()=>el(),disabled:B,children:b("Cancel")}),(0,r.tZ)(c.zx,{priority:"primary",className:"confirm",onClick:()=>{var e;(null==x?void 0:null===(e=x.metadata)||void 0===e?void 0:e.bitcoin)?(el(!1),F(!0)):ea()},disabled:er,children:B?b("Loading..."):b("Change plan")})]})]})]})})]}):null}},95031:function(e,t,n){n.d(t,{_:()=>a});var r=n(16584),i=n(75744),l=n(58175);let a=e=>{let{hideTerms:t,pub:n,showIntrinioAttrib:a}=e,o=n.has_custom_tos||n.has_custom_privacy,c=(0,r.BX)("div",{className:"footer-copyright-blurb",children:["\xa9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"]}),d=(0,r.BX)(r.HY,{children:[a&&(0,r.BX)(l.xv,{translated:!0,as:"div",className:"footer-copyright-blurb",children:["Market data by ",(0,r.tZ)("a",{href:"https://intrinio.com/",children:"Intrinio"})]}),!t&&(0,r.tZ)("div",{className:"footer-terms-blurb",children:(0,r.tZ)(i.nO,{publication:n})})]});return o?(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{className:"footer-blurbs",children:[c,!t&&(0,r.tZ)("div",{className:"footer-terms-blurb",children:(0,r.tZ)(i.Ug,{pub:n})})]}),(0,r.BX)("div",{className:"footer-blurbs",children:[(0,r.tZ)("div",{className:"footer-copyright-blurb",children:"Substack"}),d]})]}):(0,r.BX)("div",{className:"footer-blurbs",children:[c,d]})}},34288:function(e,t,n){n.d(t,{$:()=>b});var r=n(16584),i=n(98661);n(30396);var l=n(94184),a=n.n(l),o=n(95031),c=n(55438);n(97742);var d=n(58319),u=n(95441),s=n(45261),p=n(68833),h=n(58175),m=n(60308);n(6911);var g=n(81821),v=n(47929),f=n(8525);let b=(0,i.memo)(e=>{let{publication:t,user:n,path:i,hideTerms:l,showIntrinioAttrib:b}=e,{iString:Z}=(0,u.M1)();void 0===l&&(l=!1);let y=(0,s.Tf)(),w=(0,g.tq)(),_=(0,g.s)(),B=(0,g.Dt)(),C=n&&!n.reader_installed_at,x=w&&(_||B)&&C;return(0,r.BX)("div",{className:"footer-wrap publication-footer",children:[(0,r.tZ)(d.Z,{onVisible:()=>{var e;(0,p.j)(p.FP.PUBLICATION_FOOTER_SEEN,{publication_id:null==t?void 0:t.id,user_id:null==n?void 0:n.id,source:(e=i)?"/"===e?"pub-homepage":e.startsWith("/p")?"pub-post":e:"unknown"})}}),(0,r.tZ)("div",{className:a()("footer",{"themed-background":y}),children:(0,r.BX)("div",{className:"container",children:[(0,r.tZ)(o._,{hideTerms:l,pub:t,showIntrinioAttrib:null!=b&&b}),(0,r.BX)("div",{className:"footer-buttons",children:[(0,r.BX)("a",{className:a()("footer-substack-cta","start-publishing",x&&"app-upsell"),native:!0,href:(null==n?void 0:n.has_publication)?"".concat((0,m.SVA)({subdomain:"your"}),"/publish"):"".concat((0,m.ZJn)(),"/signup?").concat((0,m.Y$Q)({utm_source:v.b3.substack,utm_medium:v.lP.web,utm_content:v.fZ.footer})),children:[(0,r.tZ)(c.Z,{})," ",Z("Start writing")]}),!x&&(0,r.tZ)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,m.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.webFooterButton}),children:Z("Get the app")}),x&&_&&(0,r.tZ)("a",{className:f.Z.appBadge,href:(0,m.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.webFooterButton,force:"ios"}),children:(0,r.tZ)("img",{className:"app-upsell",src:(0,m.zF4)("/img/app_page/app-store.png",320)})}),x&&B&&(0,r.tZ)("a",{className:f.Z.appBadge,href:(0,m.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.webFooterButton,force:"android"}),children:(0,r.tZ)("img",{className:"app-upsell",src:(0,m.zF4)("/img/app_page/google-play.png",320)})})]}),(0,r.BX)(h.xv,{translated:!0,as:"div",className:"footer-slogan-blurb",children:[(0,r.tZ)("a",{href:"".concat((0,m.ZJn)()),native:!0,children:"Substack"})," ","is the home for great culture"]})]})})]})})},13561:function(e,t,n){n.d(t,{A:()=>f});var r=n(16584),i=n(6400),l=n(19425),a=n(12048),o=n(94184),c=n.n(o),d=n(50308),u=n.n(d),s=n(71375),p=n(347),h=n(15771),m=n(19081),g=n(27190),v=n(88e3);let f=e=>{let{children:t,disableCloseOnBackdropClick:n=!1,fullscreenMobile:o,hideCloseButton:d,initialFocus:f,isOpen:b,maxFullscreenMobile:Z,overflow:y,testId:w="modal",width:_=660,onClose:B=()=>void 0,onEscape:C}=e;return(0,r.tZ)(p.h,{children:(0,r.tZ)(l.u,{as:i.Fragment,show:b,children:(0,r.tZ)(a.V,{as:"div",className:"modal-Suw4en","data-testid":w,initialFocus:f,onClick:e=>e.stopPropagation(),onClose:n?u():B,onKeyDown:C?e=>{let{code:t}=e;C&&"Escape"===t&&C(e)}:void 0,onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),children:(0,r.BX)(g.Uv,{children:[(0,r.tZ)(g.sc,{children:(0,r.tZ)(g._n,{})}),(0,r.tZ)(v.Q,{children:(0,r.tZ)(v.l,{className:c()("modalBody-s4SL_V","the-free-press-theme"),fullscreenMobile:o,maxFullscreenMobile:Z,overflow:y,width:_,children:(0,r.tZ)(p.h,{children:(0,r.BX)(m.tu,{paddingTop:d?24:8,children:[!d&&(0,r.tZ)(m.gq,{justifyContent:"end",children:(0,r.tZ)(h.hU,{priority:"quaternary",onClick:B,children:(0,r.tZ)(s.Z,{})})}),t]})})})})]})})})})}},59480:function(e,t,n){n.d(t,{Uu:()=>c});var r=n(68833);let i=["sort"],l=["sort","selection"],a=[];function o(e,t){let n;try{n=new URL("".concat(location.protocol,"//").concat(location.host).concat(e))}catch(t){n=new URL(e)}for(let e of n.searchParams.keys())(t?l:i).includes(e)||n.searchParams.delete(e);return n.toString()}function c(e){setTimeout(()=>(function(e){var t,n;let{previous:i,url:l}=e;if("undefined"==typeof window)return;let c=o(l,!1),d=o(l,!0),{head:u}=document;null===(t=u.querySelector("link[rel=canonical]"))||void 0===t||t.setAttribute("href",c),null===(n=u.querySelector('meta[property="og:url"]'))||void 0===n||n.setAttribute("content",d),a.push(l),setTimeout(()=>{(0,r.jA)({previous:i,url:l})},100)})(e),0)}},71e3:function(e,t,n){n.d(t,{A:()=>M});var r=n(16584),i=n(94184),l=n.n(i),a=n(30998),o=n.n(a),c=n(89734),d=n.n(c),u=n(55480),s=n(67749),p=n(20888),h=n(95441),m=n(68833),g=n(98422),v=n(71068),f=n(15771),b=n(19081),Z=n(58175),y=n(63651);let w={containerVertical:"containerVertical-L_u6LQ",logoVertical:"logoVertical-p9LsNy",listenLink:"listenLink-UqdzU4"},_=e=>{var t;let{label:n,openInNewTab:i,podcastSettings:a,section:o,sectionUrl:c,setupUrl:d,subscribeUrl:u,trackingSource:_,user:B}=e,{iString:x}=(0,h.M1)(),{isMobile:N}=(0,g.v9)(),S=N?80:160,I=(0,v.oB)({radius:"md",width:S}),X=(null==B?void 0:B.is_subscribed)&&null!==(t=a.paidEpisodeArtUrl)&&void 0!==t?t:a.artUrl;return(0,r.BX)(b.gq,{direction:N?"column":"row",gap:N?12:24,children:[X&&(0,r.tZ)(p.e,{className:l()(I),src:(0,y.zF4)(X,2*S),maxWidth:S,useRetinaSizing:!0,imageIsFixedWidth:!0}),(0,r.BX)(b.tu,{gap:8,children:[(0,r.BX)(b.gq,{alignItems:"center",justifyContent:"space-between",children:[(0,r.tZ)(Z.xv.B1,{as:"a",color:"pub-primary-text",font:"pub-headings",weight:"bold",href:c,rel:"noopener noreferrer",target:"_blank",children:a.title}),d&&(0,r.tZ)(f.zx,{priority:"secondary",size:"sm",href:d,newTab:i,onClick:()=>{(0,m.j)(m.FP.SET_UP_FEED_CLICKED,{section_id:o.id,source:_})},children:x("Set up")})]}),n&&(0,r.BX)(b.gq,{gap:8,alignItems:"center",children:[(0,r.tZ)(C,{label:n}),"free-with-ads"===n&&u&&(0,r.tZ)(Z.xv,{className:w.listenLink,color:"accent",font:"text",size:12,onClick:()=>{(0,m.j)(m.FP.LISTEN_AD_FREE_CLICKED,{section_id:o.id,source:_}),i?window.open(u,"_blank","noopener,noreferrer"):window.location.href=u},children:"Listen ad-free"})]}),(0,r.tZ)(Z.xv.B3,{color:"pub-secondary-text",font:"text",children:a.description}),(0,r.tZ)("div",{children:(0,r.BX)(Z.xv,{alignItems:"center",color:"accent",display:"inline-flex",font:"text",size:14,weight:"medium",gap:8,onClick:()=>{(0,m.j)(m.FP.SEE_ALL_EPISODES_CLICKED,{section_id:o.id,source:_}),i?window.open(c,"_blank","noopener,noreferrer"):window.location.href=c},children:[(0,r.tZ)("span",{children:x("See all episodes")}),(0,r.tZ)(s.Z,{size:14})]})})]})]})},B=e=>{let{label:t,openInNewTab:n,podcastSettings:i,section:a,sectionUrl:o,trackingSource:c}=e,{iString:d}=(0,h.M1)(),u=(0,v.oB)({radius:"md"});return(0,r.BX)(b.tu,{className:w.containerVertical,border:"detail-themed",padding:20,radius:"md",gap:20,children:[(0,r.tZ)(b.gq,{justifyContent:"center",children:i.artUrl&&(0,r.tZ)(p.e,{className:l()(u,w.logoVertical),src:(0,y.zF4)(i.artUrl,440),maxWidth:164,useRetinaSizing:!0,imageIsFixedWidth:!0})}),(0,r.BX)(b.tu,{gap:12,children:[(0,r.BX)(b.tu,{gap:8,children:[(0,r.tZ)(Z.xv.B1,{as:"a",color:"pub-primary-text",font:"pub-headings",href:o,rel:"noopener noreferrer",target:"_blank",weight:"bold",children:i.title}),t&&(0,r.tZ)(b.gq,{children:(0,r.tZ)(C,{label:t})}),(0,r.tZ)(Z.xv.B3,{color:"pub-secondary-text",font:"text",children:i.description})]}),(0,r.tZ)("div",{children:(0,r.BX)(Z.xv,{display:"inline-flex",alignItems:"center",gap:8,color:"accent",font:"text",size:14,weight:"medium",onClick:()=>{(0,m.j)(m.FP.SEE_ALL_EPISODES_CLICKED,{section_id:a.id,source:c}),n?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o},children:[(0,r.tZ)("span",{children:d("See all episodes")}),(0,r.tZ)(s.Z,{size:14})]})})]})]})},C=e=>{let{label:t}=e;return(0,r.tZ)(b.gq,{bg:"secondary",display:"inline-block",paddingX:6,radius:"sm",children:(0,r.tZ)(Z.xv,{color:"pub-secondary-text",font:"text",size:12,weight:"semibold",lineHeight:20,children:"member-only"===t?"+ Member-only":"free-with-ads"===t?"Free with ads":"Free"})})};var x=n(46234),N=n(30733),S=n(24791),I=n(6070),X=n(60308),k=n(26111),P=n(47929);let F={twoColumnGrid:"twoColumnGrid-pq1MC7",mainColumn:"mainColumn-cft5kf",sideColumn:"sideColumn-FFh4jo"},U=P.b3.podcastsPage,M=e=>{let{idToMagicLink:t,pub:n,user:i}=e,{isMobile:a}=(0,g.v9)(),c=d()((0,S.hK)(n),e=>{var t;return null!==(t=o()(n.navigationBarItems,t=>t.section_id===e.id))&&void 0!==t?t:999}),s=!!(null==i?void 0:i.is_subscribed),p=!s&&!a,h=c.filter(e=>s||!(0,I.QI)({sectionId:e.id})),m=s?[]:c.filter(e=>(0,I.QI)({sectionId:e.id})),v=null==t?void 0:t[n.id];return v||(v=(0,X.tS3)(n,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!i||!i.is_free_subscribed,params:{utm_source:U}})),(0,r.tZ)(N.N,{columns:p?3:2,paddingTop:a?8:void 0,children:(0,r.BX)(b.hs,{className:l()({[F.twoColumnGrid]:p}),direction:p?"row":"column",gap:p?void 0:40,children:[!s&&(0,r.BX)(b.tu,{alignItems:a?"stretch":"start",className:F.sideColumn,gap:24,paddingLeft:p?32:void 0,children:[(0,r.BX)(b.tu,{gap:a?12:16,children:[(0,r.tZ)(Z.xv.H2,{color:"pub-primary-text",font:"pub-headings",children:"Member-only Shows"}),(0,r.tZ)(x.B,{firehoseFeedUrl:v,pub:n,trackingSource:U,variant:"member-only"})]}),(0,r.tZ)(b.tu,{gap:a?16:24,children:m.map((e,l)=>{let o=(0,u.d_)({pub:n,section:e}),c=(null==t?void 0:t[e.id])||(0,X.tS3)(n,{section:e,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!i||!i.is_free_subscribed,params:{utm_source:U}}),d=(0,y.Ucy)(n,{section:e,addBase:!0}),p=(0,I.hx)({sectionId:e.id})?"member-only":"free";return(0,r.BX)(r.HY,{children:[(0,r.tZ)(a?_:B,{label:p,openInNewTab:!0,podcastSettings:o,section:e,sectionUrl:d,setupUrl:s?c:null,trackingSource:U,user:null!=i?i:null}),l!==m.length-1&&a&&(0,r.tZ)(b.gq,{borderBottom:"detail-themed"})]})})})]}),(0,r.BX)(b.tu,{className:F.mainColumn,gap:24,paddingRight:p?32:void 0,children:[(0,r.BX)(b.tu,{gap:a?12:16,children:[(0,r.BX)(Z.xv.H2,{color:"pub-primary-text",font:"pub-headings",children:[n.name," Shows"]}),s&&(0,r.tZ)(x.B,{pub:n,firehoseFeedUrl:v,trackingSource:U})]}),(0,r.tZ)(b.tu,{gap:a?16:24,children:h.map((e,l)=>{let a=(0,u.d_)({pub:n,section:e}),o=(null==t?void 0:t[e.id])||(0,X.tS3)(n,{section:e,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!i||!i.is_free_subscribed,params:{utm_source:U}}),c=(0,y.Ucy)(n,{section:e,addBase:!0}),d=(0,I.hx)({sectionId:e.id})?s?"member-only":"free-with-ads":"free";return(0,r.BX)(r.HY,{children:[(0,r.tZ)(_,{label:d,openInNewTab:!0,podcastSettings:a,section:e,sectionUrl:c,setupUrl:s?o:null,subscribeUrl:(0,X.W1P)(n,{utm_source:U,simple:!0,next:document.location.href,referring_pub_ids:(0,k.x)("referring_pub_ids"),addBase:!0}),trackingSource:U,user:null!=i?i:null}),l!==h.length-1&&(0,r.tZ)(b.gq,{borderBottom:"detail-themed"})]})})})]})]})})}},12844:function(e,t,n){n.d(t,{k:()=>h,w:()=>s});var r=n(16584),i=n(95441),l=n(15771),a=n(17352),o=n(19081),c=n(38841),d=n(58175),u=n(60308);let s=(e,t)=>{var n;return{logoUrl:e.podcast_art_url||e.logo_url||(0,u.cse)(),mainClickUrl:(0,u.UVC)({pub:e,section:null,addBase:!0}),buttonClickUrl:t,name:e.podcast_title||e.name,description:null!==(n=e.podcast_description||e.hero_text)&&void 0!==n?n:void 0}},p=e=>{let{logoUrl:t,mainClickUrl:n,buttonClickUrl:u,name:s,description:p,showButton:h}=e,{iString:m}=(0,i.M1)();return(0,r.BX)(a.Z,{gap:12,direction:"row",alignItems:"center",padding:12,children:[t&&(0,r.tZ)(c.wk,{size:48,logoUrl:t}),(0,r.BX)(o.sg,{gap:2,flex:"grow",children:[(0,r.tZ)(d.xv.B3,{weight:"semibold",children:(0,r.tZ)(d.hh,{href:n,children:s})}),(0,r.tZ)(d.xv.B4,{color:"secondary",children:p})]}),h&&(0,r.tZ)(l.zx,{priority:"primary",href:u,newTab:!0,children:m("Set up")})]})},h=e=>{let{showButton:t,items:n}=e;return(0,r.tZ)(o.sg,{gap:12,children:n.map(e=>(0,r.tZ)(p,{logoUrl:e.logoUrl,mainClickUrl:e.mainClickUrl,buttonClickUrl:e.buttonClickUrl,name:e.name,description:e.description,showButton:t}))})}},55533:function(e,t,n){n.d(t,{ld:()=>u,vJ:()=>d});var r=n(7409),i=n(99282),l=n(98848),a=n(16584);n(15771);var o=n(19081),c=n(58175);function d(e){var{title:t,body:n,children:c,spacing:d}=e,s=(0,l._)(e,["title","body","children","spacing"]);return(0,a.tZ)(o.tu,(0,i._)((0,r._)({flex:"grow",alignItems:"center",justifyContent:"center",padding:20},s),{children:(0,a.tZ)(u,{title:t,body:n,gap:d,children:c})}))}function u(e){let{title:t,body:n,children:r,gap:i}=e;return(0,a.BX)(o.tu,{gap:12,alignItems:"center",children:[(0,a.BX)(o.tu,{gap:null!=i?i:4,alignItems:"center",children:[(0,a.tZ)(c.xv.B3,{weight:"semibold",color:"primary",align:"center",children:t}),(0,a.tZ)(c.xv.B4,{color:"secondary",align:"center",children:n})]}),r]})}},23398:function(e,t,n){n.d(t,{u:()=>i});var r=n(84864);function i(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];e.match(/^([a-z]+:)?\/\//i)||(e="http://".concat(e));try{t=new URL(e)}catch(t){return console.error("Failed to parse URL",e,t),e}t.hostname=t.hostname.replace(/^www\./,""),t.pathname=t.pathname.replace(/\/+$/,""),t.hash="";let l=new Set;t.hostname.includes("youtube")&&l.add("v"),t.searchParams.forEach((e,n)=>{l.has(n)||t.searchParams.delete(n)});let a=t.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return a?i?(0,r.truncateText)(a,n):a:e}},20521:function(e,t,n){n.d(t,{x:()=>l});var r=n(98012);function i(e){var t;let n=[e.is_primary,(null===(t=e.publication)||void 0===t?void 0:t.author_id)===e.user_id,"admin"===e.role,"contributor"===e.role].map(e=>e?"0":"1").join("");return"".concat(n,"-").concat((0,r.Z)(e.created_at).valueOf())}function l(e){return e.slice(0).sort((e,t)=>i(e)>i(t)?1:-1)}}}]);