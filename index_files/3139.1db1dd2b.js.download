"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3139"],{83234:function(t,e,i){i.d(e,{Z:()=>n});let n={unreadDot:"unreadDot-O7Wu_7"}},15186:function(t,e,i){if(i.d(e,{Z:()=>m}),2787!=i.j)var n=i(7409);if(2787!=i.j)var r=i(99282);var a=i(16584);if(2787!=i.j)var l=i(49550);var o=i(98661),d=i(95441),s=i(15771),c=i(80026),u=i(17172),h=i(45783),f=i(20346);function m(t){let{tabs:e,value:i,onChange:s,ariaLabel:m}=t,{iString:y}=(0,d.M1)(),Z=(0,o.useRef)(null),w=(0,o.useRef)(null),{props:b,hasOverflow:I}=(0,u.aZ)(Z),{state:x}=(0,h.eK)(Z),k=t=>{let e=w.current,i=Z.current;if(!i||!e||t<0)return;let n=i.getElementsByClassName(f.Z.segment)[t];if(!n)return;let r=n.getBoundingClientRect(),a=i.getBoundingClientRect(),l=parseInt(window.getComputedStyle(i).paddingLeft),o=r.left-a.left-l+i.scrollLeft;requestAnimationFrame(()=>{e.style.setProperty("--highlight-width","".concat(r.width,"px")),e.style.setProperty("--highlight-x","".concat(o,"px"))})},C=e.findIndex(t=>t.value===i);return(0,o.useLayoutEffect)(()=>{k(C)},[e,i,C]),(0,o.useEffect)(()=>{k(C)},[e,i,C]),(0,a.BX)(p,{children:[(0,a.tZ)(l.O.Group,{manual:!0,selectedIndex:-1===C?0:C,onChange:t=>{var i;let n=null===(i=e[t])||void 0===i?void 0:i.value;void 0!==n&&s(n)},children:(0,a.tZ)(l.O.List,(0,r._)((0,n._)({as:c.X2},b),{ref:Z,className:f.Z.container,position:"relative",cursor:I()?"grab":"default",gap:4,padding:4,radius:"sm",overflow:"auto",scrollBar:"hidden",outline:"detail","aria-label":null!=m?m:"".concat(y("Tabs")),children:()=>(0,a.BX)(a.HY,{children:[e.map((t,e)=>(0,a.tZ)(g,{tab:t,index:e,children:t.label},t.value)),(0,a.tZ)(v,{ref:w})]})}))}),(0,a.tZ)(h.R3,{direction:"left",isVisible:x.showLeft}),(0,a.tZ)(h.R3,{direction:"right",isVisible:x.showRight})]})}function g(t){let{tab:e,index:i,children:n}=t;return(0,a.tZ)(l.O,{as:o.Fragment,children:t=>{let{selected:r}=t;return(0,a.tZ)(s.zx,{className:f.Z.segment,leading:e.leadingIcon,trailing:e.trailingIcon,priority:r?"tertiary":"quaternary",size:"sm",children:n},i)}})}let p=(0,c.zo)({display:"flex",direction:"column",position:"relative",bg:"primary",radius:"sm",minWidth:0,overflow:"hidden"}),v=(0,c.zo)({position:"absolute",height:32,radius:"xs",bg:"secondary",sizing:"border-box",className:f.Z.highlight})},31541:function(t,e,i){i.d(e,{Eb:()=>u,in:()=>h,r8:()=>s});var n=i(16584),r=i(30396),a=i(94184),l=i.n(a),o=i(11163),d=i(83234);function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.tZ)(c,{}),[i,a]=(0,r.eJ)(t);return[i&&e,()=>{a(!1)}]}function c(){return(0,n.tZ)(u,{})}function u(t){let{className:e}=t;return(0,n.tZ)(h,{className:l()(e,"reader2-unread-dot")})}let h=(0,o.L)(d.Z.unreadDot)},79075:function(t,e,i){i.r(e),i.d(e,{MiniNotificationsStack:()=>C,MiniNotificationsViewer:()=>k});var n=i(16584),r=i(30396),a=i(94184),l=i.n(a),o=i(78796),d=i(48493),s=i(95441),c=i(36518),u=i(42375),h=i(68833),f=i(15771),m=i(61254),g=i(19081),p=i(58175),v=i(74949),y=i(35449),Z=i(27744),w=i(65575),b=i(98012),I=i(63651),x=i(21694);function k(t){var e;let{resource:i,bellCount:a}=t,{iString:c}=(0,s.M1)(),{result:v,error:b}=i,k="".concat((0,I.SVA)(),"/activity"),[R,_]=(0,Z.d6)();(0,r.d4)(()=>{v&&_({type:"update_paused_notifications",payload:v.feedItemComments.filter(t=>t.isMuted)})},[v,_]);let S=null==v?void 0:null===(e=v.activityItems[0])||void 0===e?void 0:e.id;return(0,r.d4)(()=>{v&&(0,h.j)(h.FP.NOTIFICATIONS_DROPDOWN_VIEWED,{count:v.activityItems.length,bellCount:a})},[S]),(0,n.tZ)(u.$U,{surface:"mini-notifications-viewer",dispatch:_,state:R,children:(0,n.BX)(g.tu,{className:l()("notifications-root",x.Z.root),color:"primary",style:{width:"360px",maxHeight:"80vh"},children:[(0,n.BX)(g.hs,{padding:16,gap:8,alignItems:"center",children:[(0,n.tZ)(g.hs,{flex:"grow",children:(0,n.tZ)(p.xv.H3,{weight:"heavy",children:(0,n.tZ)(w.EU,{href:k,children:c("Activity")})})}),(0,n.tZ)(f.hU,{"aria-label":"Settings",size:"md",href:"".concat((0,I.SVA)(),"/settings"),priority:"tertiary",newTab:!0,children:(0,n.tZ)(o.Z,{size:20,"aria-hidden":!0})})]}),(0,n.tZ)(m.iz,{}),(0,n.tZ)(g.tu,{overflowY:"auto",children:b?"Error":v?v.activityItems.length>0?(0,n.tZ)(w.pe,{gap:0,children:(0,n.tZ)(C,{result:v})}):(0,n.tZ)(g.tu,{style:{minHeight:"240px"},paddingBottom:32,justifyContent:"center",children:(0,n.tZ)(w._Y,{icon:(0,n.tZ)(d.Z,{}),title:"You donâ€™t have any activity yet.",text:"Likes and replies will appear here."})}):(0,n.tZ)(y.f,{})}),(0,n.tZ)(g.X2,{borderTop:"detail",height:48,alignItems:"center",justifyContent:"center",children:(0,n.tZ)(f.zx,{priority:"tertiary",href:k,newTab:!0,localNavigation:!1,justifyContent:"center",children:"See all"})})]})})}function C(t){let{result:e,isReadOnly:i=!1}=t,a=(0,c.lR)(),l=(0,r.Ye)(()=>{var t;return null!==(t=a.lastViewedAt)&&void 0!==t?t:new Date(0).toISOString()},[]);(0,r.d4)(()=>{i||a.markAllAsRead()},[]);let o=(0,Z.I0)(),d=(0,Z.kc)(),s=(0,v.IC)(e);return(0,r.d4)(()=>{o({type:"comments_load",payload:{comments:(null==e?void 0:e.comments)||[]}})},[o,e]),(0,n.tZ)(n.HY,{children:e.activityItems.filter(t=>v.gG.has(t.type)).map((t,r)=>(0,n.tZ)(v.P_,{item:(0,v.Xn)({activityResult:e,activityResultMaps:s,feedState:d,item:t,idx:r}),isUnread:null==l||(0,b.Z)(l).isBefore(t.updated_at),readOnly:i},r))})}},79567:function(t,e,i){i.d(e,{k:()=>d});var n=i(58865),r=i(95441),a=i(60308),l=i(63651);function o(){let t=(0,n._)(["Join link:\n","\n\n---\n\nTo join this live video from your mobile device, download the Substack app from one of the links below. You can also join in your desktop browser using Chrome of Safari.\n\niOS:\n","\n  \nAndroid:\n",""]);return o=function(){return t},t}let d=t=>{let{iTemplate:e}=(0,r.M1)();if(!t)return null;let i=(0,l.bHR)({liveStreamId:t.id,utm_source:"live-stream-calendar-invite"}),n=e(o(),i,(0,a.RMm)(),(0,a.AaB)());return{title:t.title,description:n,start:t.scheduled_at&&new Date(t.scheduled_at),duration:[1,"hour"],location:i}}},70293:function(t,e,i){i.d(e,{M:()=>r});var n=i(30396);function r(t,e,i){let{shouldCheck:r,threshold:a=200,bodyRef:l}=i,o=(0,n.sO)(),d=null!=l?l:o,s=()=>{let e=d.current;if(e){let{bottom:i}=e.getBoundingClientRect();i<window.innerHeight+a&&t()}};return(0,n.d4)(()=>{if(r)return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",s,{capture:!0})}},e),{bodyRef:d,check:s}}}}]);