"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["5477"],{51885:function(e,t,i){i.d(t,{Z:()=>o});let o=/^(3270|6673|7778)$/.test(i.j)?null:{mention:"mention-pnpTE1",mentionStatic:"mentionStatic-liMklk"}},82061:function(e,t,i){i.d(t,{Bl:()=>q,ZP:()=>B,h_:()=>A,nP:()=>H});var o=i(27412),r=i(7409),d=i(99282),a=i(58865),s=i(16584),l=i(98661),n=i(94184),c=i.n(n),p=i(98961),u=i(2647),h=i(57560),v=i(80569),m=i.n(v),g=i(13304),U=i(93666),y=i(12281),Z=i(95441),E=i(41688),f=i(31098),P=i(71825),w=i(21903),S=i(21680),R=i(40158),_=i(29719),b=i(68833),C=i(98914),T=i(88788),D=i(69791),I=i(15771),x=i(19081),M=i(44424),O=i(58175),N=i(74134),F=i(18618),V=i(84864),k=i(96085);function L(){let e=(0,a._)([""," remaining"]);return L=function(){return e},e}function A(e){let{children:t,className:i}=e,o=(0,l.useRef)(null);if(!o.current){let e=document.getElementById("video-portal");if(e)o.current=e;else{let e=document.createElement("div");e.setAttribute("id","video-portal"),e.className=i||"",document.body.appendChild(e),o.current=e}}return(0,l.createPortal)(t,o.current)}class B extends w.ZP{componentDidUpdate(e,t){var i,o,r;(null===(i=this.state.mediaUpload)||void 0===i?void 0:i.state)==="transcoded"&&(null===(o=t.mediaUpload)||void 0===o?void 0:o.state)!==(null===(r=this.state.mediaUpload)||void 0===r?void 0:r.state)&&this.activateThumbnailSetter(),this.props.initialFile!==e.initialFile&&this.setState({file:this.props.initialFile}),super.componentDidUpdate(e,t)}render(e,t){var i,o,r;let{pub:d,postId:a,setPostId:l,onUploadStarted:n,onUploadCanceled:h,videoFeature:v,mediaUpload:m,onProgress:U,onOpenDrawer:Z,setVideoRecorderOpen:E,language:R,audioExtractPreviewMediaUpload:b,onOpenVideoSettings:C,postMediaComposition:T}=e,{timeLeft:D,settingThumbnail:L,settingPreview:A,file:B}=t,X=(null==m?void 0:m.media_type)==="video"&&"embed"!==this.props.videoFeature,H=!X&&A,q=L||A,{iString:G}=this.i18n,K=(null==m?void 0:m.state)==="transcoded",W="podcastDrawer"===v,Y=!T||"completed"===T.workflow_state;return(0,s.tZ)("div",{className:c()("video-editor",{[k.Z.videoEditorEmbed]:["embed","podcast","podcastDrawer"].includes(v)}),children:K&&Y?W?(0,s.tZ)(N.i,{padding:16,border:"detail",radius:"sm",marginTop:16,children:(0,s.tZ)(N.a,{icon:(0,s.tZ)(p.Z,{}),title:G("Uploaded video"),subtitle:m.primary_file_size?(0,V.numberToHumanFileSize)(m.primary_file_size):"",action:(0,s.BX)(M.v2,{layerOptions:{placement:"bottom-end"},trigger:(0,s.tZ)(I.hU,{size:"sm",priority:"quaternary",rounded:!1,children:(0,s.tZ)(u.Z,{})}),children:[(0,s.tZ)(M.sN,{hiddenInput:(0,s.tZ)("input",{ref:this.assignInput,type:"file",accept:w.hJ,onChange:e=>{this.removeUpload({skipConfirm:!0});let t=e.target,i=t.files?t.files[0]:null;this.setState({file:i})}}),children:G("Replace")}),(0,s.tZ)(M.sN,{priority:"destructive",onClick:()=>this.removeUpload(),children:G("Delete")})]})})}):(0,s.BX)("div",{className:"video-editor-player",children:[(0,s.tZ)(y.Z,{ref:this.assignVideoPlayer,mediaUpload:m,pub:d,noPreview:q,noControls:H,noKeyboardShortcuts:H,showPreviewWhenPaused:!0,renderPlayButton:()=>(0,s.tZ)(F.fI,{isPlaying:!1,size:72}),surface:"editor",contentType:"post",entityType:"post",entityKey:null!=a?a:"unknown"}),(0,s.tZ)(f.Z,{videoPlayerRef:null===(i=this.videoPlayer)||void 0===i?void 0:i.player,videoUpload:m,active:L,onCancel:()=>this.setState({settingThumbnail:!1}),onUpdate:e=>{this.onMediaUploadUpdated(e),this.setState({settingThumbnail:!1})}}),(0,s.tZ)(P.Z,{videoPlayerRef:null===(o=this.videoPlayer)||void 0===o?void 0:o.player,videoUpload:m,active:A,onCancel:()=>this.setState({settingPreview:!1}),onUpdate:e=>{this.setState({settingPreview:!1}),this.onMediaUploadUpdated(e)},audioPreviewMediaUpload:b,onAudioExtractPreviewMediaUpload:this.onAudioExtractPreviewMediaUpload}),"embed"!==this.props.videoFeature&&(0,s.tZ)(_.Z,{videoPlayer:this.videoPlayer,pub:d,postId:null!=a?a:null,mediaUpload:m,audioExtractMediaUpload:null!==(r=this.state.audioExtractMediaUpload)&&void 0!==r?r:null,onOpenThumbnail:()=>this.setState({settingThumbnail:!0}),onThumbnailUpdated:this.onMediaUploadUpdated,onOpenSettings:function(){let{tab:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null==Z||Z({mediaType:"video",initialTab:e})},onOpenFreePreview:()=>this.setState({settingPreview:!0}),onRemoveFreePreview:()=>this.removeFreePreview(),onRemoveMedia:()=>this.removeUpload(),active:!q,onOpenVideoSettings:C}),q&&X&&(0,s.tZ)("div",{className:k.Z.topLabels,children:(0,s.tZ)(O.xv.B4,{className:k.Z.topLabel,children:L?G("Edit thumbnail"):A?G("Create free preview"):""})})]}):["cancelled","error"].includes(null==m?void 0:m.state)?(0,s.tZ)("div",{className:c()("video-uploader",{[k.Z.videoUploaderEmbed]:["embed","podcast","podcastDrawer"].includes(v)}),children:(0,s.BX)("div",{className:c()("video-uploader-progress",{[k.Z.videoUploaderProgressEmbed]:["embed","podcast"].includes(v)}),children:[(0,s.tZ)("div",{className:"video-uploader-progress-label error",children:G("Video upload failed")}),(0,s.BX)("div",{className:"video-uploader-progress-status",children:[(0,s.tZ)(I.hU,{size:"sm",priority:"quaternary",onClick:()=>this.removeUpload(),children:(0,s.tZ)(g.Z,{})}),(0,s.tZ)("div",{className:"video-uploader-progress-bar",children:(0,s.tZ)("div",{className:"video-uploader-progress-bar-filled error"})})]})]})}):(null==m?void 0:m.state)==="uploaded"?"hero"===v?(0,s.tZ)(z,{msLeft:D,onCancel:()=>this.removeUpload()}):(0,s.tZ)(x.gq,{flex:"grow",border:"detail",radius:"sm",alignItems:"center",paddingY:16,paddingX:12,gap:8,children:(0,s.tZ)(S.O,{onCancel:()=>this.removeUpload()})}):(null==m?void 0:m.id)?(0,s.tZ)("div",{className:c()("video-uploader",{[k.Z.videoUploaderEmbed]:["embed","podcast","podcastDrawer"].includes(v)}),children:(0,s.tZ)("div",{className:"video-uploader-progress",children:(0,s.tZ)("div",{className:"video-uploader-progress-label",children:G("Loading...")})})}):(0,s.tZ)(j,{initialFile:B,videoFeature:v,mediaType:"video",postId:a,onUpload:e=>{this.onMediaUpload({mediaUpload:e.mediaUpload}),this.onAudioExtractMediaUpload({mediaUpload:e.audioExtractMediaUpload})},setPostId:l,onProgress:U,setVideoRecorderOpen:E,onUploadStarted:n,onUploadCanceled:h,language:R,maxVideoDurationSeconds:null,onVideoTooLong:null})})}constructor(e,t){var i,d;super(e,t),(0,o._)(this,"videoPlayer",null),(0,o._)(this,"input",null),(0,o._)(this,"assignVideoPlayer",e=>{this.videoPlayer=e}),(0,o._)(this,"assignInput",e=>{this.input=e}),(0,o._)(this,"loadVideoFrame",async e=>{var t,i;if(!(null===(t=this.videoPlayer)||void 0===t?void 0:t.player)){console.error("loadVideoFrame called, but videoPlayer not set");return}if(this.videoPlayer.player.readyState<2){let e;let t=new Promise(t=>e=t);this.videoPlayer.player.addEventListener("canplay",e),this.videoPlayer.player.load(),await Promise.race([t,new Promise(e=>setTimeout(e,1e3))]),null===(i=this.videoPlayer)||void 0===i||i.player.removeEventListener("canplay",e)}this.videoPlayer&&(this.videoPlayer.player.currentTime=e),await new Promise(e=>setTimeout(e,100))}),(0,o._)(this,"activateThumbnailSetter",async()=>{var e,t;if(null===(e=this.optionsDropdown)||void 0===e||e.close(),!this.state.settingThumbnail){if(!this.state.mediaUpload){console.error("activateThumbnailSetter, mediaUpload is not set ");return}(null===(t=this.videoPlayer)||void 0===t?void 0:t.player)&&(await this.loadVideoFrame((this.state.mediaUpload.thumbnail_id-1)*5),this.setState({settingThumbnail:!0,settingPreview:!1}))}}),(0,o._)(this,"activatePreviewSetter",async()=>{var e,t;if(null===(e=this.optionsDropdown)||void 0===e||e.close(),!this.state.settingPreview&&(null===(t=this.videoPlayer)||void 0===t?void 0:t.player)){if(!this.state.mediaUpload){console.error("activatePreviewSetter, mediaUpload is not set");return}await this.loadVideoFrame(this.state.mediaUpload.preview_start||0),this.setState({settingPreview:!0,settingThumbnail:!1})}}),(0,o._)(this,"removeFreePreview",async()=>{var e,t;let{iString:i}=this.i18n;if(!confirm(i("Remove free preview. Are you sure?")))return;if(!this.state.mediaUpload){console.error("removeFreePreview called, mediaUpload not set");return}let o=(0,r._)({},this.state.audioExtractPreviewMediaUpload),{preview_start:d,preview_duration:a}=this.state.mediaUpload;null===(e=this.optionsDropdown)||void 0===e||e.close(),this.setState({settingPreview:!1}),this.onMediaUploadUpdated({preview_start:null,preview_duration:null}),(null===(t=this.state.audioExtractPreviewMediaUpload)||void 0===t?void 0:t.src_media_upload_id)===this.state.mediaUpload.id&&this.onAudioExtractPreviewMediaUpload({mediaUpload:null});try{await m().delete("/api/v1/video/upload/".concat(this.state.mediaUpload.id,"/preview")),(0,R.y)((0,s.tZ)(s.HY,{children:i("Free preview removed")}))}catch(e){this.onMediaUploadUpdated({preview_start:d,preview_duration:a}),this.onAudioExtractMediaUpload({mediaUpload:this.state.audioExtractMediaUpload}),this.onAudioExtractPreviewMediaUpload({mediaUpload:o}),alert((0,C.zx)(e))}}),this.state={settingThumbnail:!1,settingPreview:!1,mediaUpload:null!==(i=this.props.mediaUpload)&&void 0!==i?i:null,mediaUploadId:null!==(d=this.props.mediaUploadId)&&void 0!==d?d:null,audioExtractMediaUploadId:e.audioExtractMediaUploadId,audioExtractMediaUpload:e.audioExtractMediaUpload||null,audioExtractPreviewMediaUploadId:e.audioExtractPreviewMediaUploadId,audioExtractPreviewMediaUpload:e.audioExtractPreviewMediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1,file:this.props.initialFile}}}let z=e=>{let{msLeft:t,onCancel:i}=e,{iString:o}=(0,Z.M1)();return(0,s.tZ)("div",{className:"video-uploader",children:(0,s.BX)("div",{className:"video-uploader-progress",children:[(0,s.BX)("div",{className:"video-uploader-progress-label",children:[o("Video uploaded. Processing...")," ",t?"".concat((0,V.secondsToLargestUnit)(Math.max(t/1e3,60),{long:!0,secondsCutoff:30})," remaining"):""]}),(0,s.BX)("div",{className:"video-uploader-progress-status",children:[(0,s.tZ)(I.hU,{size:"sm",priority:"quaternary",onClick:()=>i(),children:(0,s.tZ)(g.Z,{})}),(0,s.tZ)("div",{className:"video-uploader-progress-bar",children:(0,s.tZ)("div",{className:"video-uploader-progress-bar-filled transcoding",style:"width: 100%;"})})]})]})})},X=e=>{let{onCancel:t,percentComplete:i,msLeft:o}=e,{iString:r,iTemplate:d}=(0,Z.M1)(),a=(0,V.secondsToLargestUnit)(o/1e3,{long:!0,secondsCutoff:30});return(0,s.BX)("div",{className:"video-uploader-progress",children:[(0,s.BX)("div",{className:"video-uploader-progress-label",children:[r("Uploading video..."),o?d(L(),a):""]}),(0,s.BX)("div",{className:"video-uploader-progress-status",children:[(0,s.tZ)(I.hU,{size:"sm",priority:"quaternary",onClick:()=>{t()},children:(0,s.tZ)(g.Z,{})}),(0,s.tZ)("div",{className:"video-uploader-progress-bar",children:(0,s.tZ)("div",{className:"video-uploader-progress-bar-filled",style:"width: ".concat(100*i,"%;")})})]})]})};class j extends w.QM{trackUploadClicked(){(0,b.j)(b.FP.UPLOAD_VIDEO_CLICKED)}render(e,t){let{iString:i}=this.i18n,{hideVideoInfoPanel:o}=t,r=this.getEstimatedTimeLeftMs();return(0,s.BX)("div",{className:c()("video-uploader",e.className,{"with-buttons":!t.uploading,[k.Z.videoUploaderEmbed]:["embed","podcast","podcastDrawer"].includes(e.videoFeature)}),children:[this.state.existingEtags.length>0&&!o&&t.uploading&&(0,s.tZ)("div",{className:k.Z.resumingVideoUploadAlert,children:(0,s.tZ)(D.b,{title:i("Resuming video upload"),description:i("Looks like you were uploading this video before. We saved your progress, so we'll resume where we left off."),onDismiss:()=>{this.setState({hideVideoInfoPanel:!0})}})}),t.uploading?"hero"===e.videoFeature?(0,s.tZ)(X,{msLeft:null!=r?r:0,percentComplete:t.percentComplete,onCancel:()=>{if(confirm(i("Are you sure you want to cancel the upload?"))){var e,t;this.cancelUpload(),null===(e=(t=this.props).onUploadCanceled)||void 0===e||e.call(t)}}}):(0,s.tZ)(E.F,{percentComplete:t.percentComplete,onCancel:()=>{if(confirm(i("Are you sure you want to cancel the upload?"))){var e,t;this.cancelUpload(),null===(e=(t=this.props).onUploadCanceled)||void 0===e||e.call(t)}}}):(0,s.BX)(x.X2,{flex:"grow",alignItems:"center",gap:8,children:["hero"===e.videoFeature?(0,s.BX)(I.zx,{onClick:()=>{var e;null===(e=this.input)||void 0===e||e.click(),this.onUploadClicked()},priority:"primary",leading:T.Z.isSupported()?(0,s.tZ)(h.Z,{size:20}):(0,s.tZ)(p.Z,{}),children:[(0,s.tZ)("input",{ref:this.assignInput,type:"file",accept:this.props.accepts||this.accepts,onChange:()=>this.onFileSelected(),style:{display:"none"}}),T.Z.isSupported()?i("Upload video file"):i("Upload video")]}):(0,s.BX)(I.zx,{flex:"grow",priority:"secondary",onClick:()=>{var e;null===(e=this.input)||void 0===e||e.click(),this.onUploadClicked()},leading:(0,s.tZ)(h.Z,{size:20}),children:[(0,s.tZ)("input",{ref:this.assignInput,type:"file",accept:this.props.accepts||this.accepts,onChange:()=>this.onFileSelected(),style:{display:"none"}}),i("Upload")]}),T.Z.isSupported()&&(0,s.BX)(s.HY,{children:["hero"===e.videoFeature?(0,s.tZ)(I.zx,{priority:"primary",leading:(0,s.tZ)(p.Z,{}),onClick:()=>{var e;return null===(e=this.videoRecorderModal)||void 0===e?void 0:e.open()},children:i("Record video")}):(0,s.tZ)(I.zx,{flex:"grow",priority:"secondary",onClick:()=>{var e;null===(e=this.videoRecorderModal)||void 0===e||e.open(),(0,b.j)(b.FP.RECORD_EPISODE_AUDIO_CLICKED)},leading:(0,s.tZ)(p.Z,{}),children:i("Record")}),(0,s.tZ)(A,{className:k.Z.videoPortal,children:(0,s.tZ)(q,{ref:this.assignVideoRecorderModal,onVideoRecorded:e=>{let t=new File([e],"web_recording_".concat(Date.now(),".webm"),{type:e.type});this.uploadToS3(t)},videoFeature:e.videoFeature,onOpen:()=>(null==e?void 0:e.setVideoRecorderOpen)&&e.setVideoRecorderOpen(!0),onClose:()=>(null==e?void 0:e.setVideoRecorderOpen)&&e.setVideoRecorderOpen(!1)})})]})]}),(0,s.tZ)("div",{style:{position:"absolute",top:"-6px",right:"0",width:"5px",height:"5px",color:"gray",fontSize:"12px"},children:"\xb7"})]})}constructor(e,t){super(e,t),(0,o._)(this,"videoRecorderModal",null),(0,o._)(this,"input",null),(0,o._)(this,"assignVideoRecorderModal",e=>{this.videoRecorderModal=e}),(0,o._)(this,"assignInput",e=>{this.input=e}),this.state=(0,d._)((0,r._)({},this.state),{hideVideoInfoPanel:!1})}}class H extends w.QM{trackUploadClicked(){(0,b.j)(b.FP.UPLOAD_VIDEO_CLICKED,{source:"notes"})}render(e,t){return null}constructor(e,t){super(e,t),(0,o._)(this,"videoRecorderModal",null),this.state=(0,d._)((0,r._)({},this.state),{hideVideoInfoPanel:!1})}}class q extends U.p{getClassName(){return"video-recorder-modal"}componentWillUnmount(){super.componentWillUnmount(),this.recorder.stopCapture(),this.close()}onBeforeOpen(){this.startCapturePromise||(this.startCapturePromise=this.recorder.startCapture())}async onOpen(){var e,t;(0,b.j)(b.FP.VIDEO_RECORDER_SHOWN),null===(t=this.props)||void 0===t||null===(e=t.onOpen)||void 0===e||e.call(t);let i=this.startCapturePromise;if(this.startCapturePromise=null,!await i){this.close();return}if(this.recorder.stream instanceof Promise){console.error("onOpen called before stream was ready");return}this.videoElement&&"srcObject"in this.videoElement?this.videoElement.srcObject=this.recorder.stream:this.videoElement.src=URL.createObjectURL(this.recorder.stream)}onBeforeClose(){if(this.videoElement&&(this.videoElement.pause(),this.videoElement.srcObject=null,this.videoElement.src=null),this.recorder.state===T.Z.STATE.STARTED&&["embed","podcast"].includes(this.props.videoFeature))this.onButtonClick();else if(this.recorder.state===T.Z.STATE.STARTED);else if(this.recorder.state===T.Z.STATE.STARTING){let e=this.recorder;e.onStarted=()=>e.stop({dropRecording:!0})}else this.recorder.stopCapture()}onClose(){var e,t;(0,b.j)(b.FP.VIDEO_RECORDER_HIDDEN),null===(t=this.props)||void 0===t||null===(e=t.onClose)||void 0===e||e.call(t),this.setState({videoLoading:!0})}onButtonClick(){this.recorder.state===T.Z.STATE.STOPPED?(this.setState({countDown:3}),setTimeout(()=>this.setState({countDown:2}),700),setTimeout(()=>this.setState({countDown:1}),1400),this.recorder.start({startAt:Date.now()+2100})):this.recorder.state===T.Z.STATE.STARTED&&this.recorder.stop({stopCapture:!1})}renderChildren(e,t){let{children:i}=e,{videoLoading:o,recorderState:r,recorderDuration:d,recorderVolume:a,countDown:l}=t,{iString:n}=this.context;return(0,s.BX)("div",{className:"video-recorder-modal-wrap",children:[(0,s.tZ)("video",{ref:this.assignVideoElement,className:"video-recorder-preview",onLoadedMetadata:this.onVideoElementLoadedMetadata}),(0,s.tZ)("div",{className:"video-recorder-duration ".concat(r),children:r===T.Z.STATE.STOPPED?n(o?"Loading...":"Press to record"):r===T.Z.STATE.STARTING?"".concat(l||3):(0,V.secondsToHHMMSS)(d||0)}),(0,s.BX)("div",{className:"video-recorder-button ".concat(r),onClick:()=>this.onButtonClick(),children:[(0,s.tZ)("div",{className:"video-recorder-button-volume",style:"border-width:".concat(20*a,"px")}),(0,s.tZ)("div",{className:"video-recorder-button-inner"})]})]})}constructor(e,t){super(e,t),(0,o._)(this,"recorder",void 0),(0,o._)(this,"startCapturePromise",null),(0,o._)(this,"videoElement",null),(0,o._)(this,"recorderUpdateInterval",null),(0,o._)(this,"assignVideoElement",e=>{this.videoElement=e}),(0,o._)(this,"onVideoElementLoadedMetadata",()=>{if(!this.videoElement){console.error("onVideoElementLoadedMetadata called, videoElement not set");return}this.videoElement.volume=0,this.videoElement.play(),this.setState({videoLoading:!1})}),(0,o._)(this,"onRecorderStarting",()=>{(0,b.j)(b.FP.VIDEO_RECORDER_STARTING),this.onRecorderUpdated()}),(0,o._)(this,"onRecorderStarted",()=>{(0,b.j)(b.FP.VIDEO_RECORDER_STARTED),this.onRecorderUpdated(),this.recorderUpdateInterval=window.setInterval(()=>this.onRecorderUpdated(),100)}),(0,o._)(this,"onRecorderStopping",()=>{(0,b.j)(b.FP.VIDEO_RECORDER_STOPPING),this.recorderUpdateInterval&&clearInterval(this.recorderUpdateInterval),this.onRecorderUpdated()}),(0,o._)(this,"onRecorderStopped",e=>{if((0,b.j)(b.FP.VIDEO_RECORDER_STOPPED),this.onRecorderUpdated(),e){var t,i;(0,b.j)(b.FP.VIDEO_RECORDED,{videoType:e.type,videoSize:e.size}),null===(t=(i=this.props).onVideoRecorded)||void 0===t||t.call(i,e)}}),(0,o._)(this,"onRecorderUpdated",()=>{this.setState({recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume})}),this.state.videoLoading=!0,this.recorder=new T.Z({aspectRatio:1920/1080,onStarting:this.onRecorderStarting,onStarted:this.onRecorderStarted,onStopping:this.onRecorderStopping,onStopped:this.onRecorderStopped,language:this.props.language}),this.onRecorderUpdated()}}(0,o._)(q,"contextType",Z.wj)},8594:function(e,t,i){i.d(t,{A:()=>h,L:()=>v});var o=i(7409),r=i(99282),d=i(98848),a=i(16584),s=i(94697),l=i(45587),n=i(24285),c=i(71068);let p={opacity:.5,zIndex:1e3},u=e=>"item-".concat(e);function h(e){let{children:t,items:i,onReorder:o}=e,r=(0,s.Dy)((0,s.VT)(s.we,{activationConstraint:{distance:2}}),(0,s.VT)(s.Lg,{coordinateGetter:l.is}));return(0,a.tZ)(s.LB,{sensors:r,collisionDetection:s.pE,onDragEnd:e=>{let{active:t,over:r}=e;if(!r||t.id===r.id)return;let d=i.findIndex(e=>u(e)===t.id),a=i.findIndex(e=>u(e)===r.id);o((0,l.Rp)(i,d,a))},autoScroll:!1,children:(0,a.tZ)(l.Fo,{items:i.map(e=>u(e)),strategy:l.U2,children:t})})}function v(e){var{item:t}=e,i=(0,d._)(e,["item"]);return(0,a.tZ)(m,(0,o._)({id:u(t)},i))}let m=e=>{let{children:t,id:i,useDragHandle:d=!1}=e,{listeners:s,setNodeRef:u,transform:h,transition:v,isDragging:m}=(0,l.nB)({id:i});return(0,a.tZ)(c.xu,(0,r._)((0,o._)({ref:e=>u(e),style:(0,o._)({transform:n.ux.Translate.toString(h),transition:v},m?p:{})},d?{}:(0,o._)({},s)),{children:"function"==typeof t?t({listeners:s}):t}))}},19834:function(e,t,i){i.d(t,{Z:()=>d});var o=i(86492),r=i.n(o);function d(e){let{only_non_ascii:t=!1,useNamedReferences:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?r().encode(e||"",{useNamedReferences:i,decimal:!0,allowUnsafeSymbols:t}):e}}}]);