"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["5606"],{7149:function(){},66824:function(e,t,i){i.d(t,{Z:()=>n});let n={container:"container-D8CZbL","videoContainer-clip":"videoContainer-clip-KcDC9v",videoContainerClip:"videoContainer-clip-KcDC9v",videoContainerWrapper:"videoContainerWrapper-VrqlAM",videoIcon:"videoIcon-JWfwBB",videoContainer:"videoContainer-S7toSI",video:"video-dep_Pc",fullScreenContainer:"fullScreenContainer-oPOI4W","playerContainer-vertical":"playerContainer-vertical-nqZGWC",playerContainerVertical:"playerContainer-vertical-nqZGWC","playerContainer-landscape":"playerContainer-landscape-R9mTfd",playerContainerLandscape:"playerContainer-landscape-R9mTfd","playerContainer-vertical_fit":"playerContainer-vertical_fit-j9atXq",playerContainerVerticalFit:"playerContainer-vertical_fit-j9atXq","videoContainer-vertical_fit":"videoContainer-vertical_fit-ku5xgX",videoContainerVerticalFit:"videoContainer-vertical_fit-ku5xgX","video-vertical_fit":"video-vertical_fit-aJ3XQJ",videoVerticalFit:"video-vertical_fit-aJ3XQJ","playerContainer-vertical_fill":"playerContainer-vertical_fill-As6E90",playerContainerVerticalFill:"playerContainer-vertical_fill-As6E90","videoContainer-vertical_fill":"videoContainer-vertical_fill-pCmPd2",videoContainerVerticalFill:"videoContainer-vertical_fill-pCmPd2","video-vertical_fill":"video-vertical_fill-UOGFke",videoVerticalFill:"video-vertical_fill-UOGFke",videoPlayer:"videoPlayer-ySwQUq",generateClips:"generateClips-qHOZUt",spinner:"spinner-FpLDBB",backDrop:"backDrop-EWGPYa",downloadModal:"downloadModal-SupuMR"}},33804:function(e,t,i){i.d(t,{w:()=>r});var n=i(16584),a=i(4615),l=i(5406);function r(e){let{children:t}=e;return(0,n.tZ)(a.f6,{theme:l.Z.pubAccentTheme,children:t})}},86374:function(e,t,i){i.d(t,{Z:()=>s});var n=i(7409),a=i(99282),l=i(98848),r=i(16584),o=i(64515);let s=e=>{var{size:t=18,color:i="var(--color-fg-primary)",className:s}=e,d=(0,l._)(e,["size","color","className"]);return(0,r.tZ)(o.l,(0,a._)((0,n._)({},d),{name:"DropdownIcon",svgParams:{viewBox:"0 0 20 20"},stroke:"none",width:t,height:t,fill:i,className:s,children:(0,r.tZ)("path",{d:"M5.72845 8.252C5.25083 7.59067 5.72336 6.6665 6.53913 6.6665H13.461C14.2767 6.6665 14.7493 7.59067 14.2716 8.25199L10.8107 13.044C10.4116 13.5967 9.58852 13.5967 9.18936 13.044L5.72845 8.252Z",stroke:"none"})}))}},83330:function(e,t,i){i(16584),i(64515)},58319:function(e,t,i){i.d(t,{Z:()=>d});var n=i(27412),a=i(16584),l=i(6400),r=i(94184),o=i.n(r),s=i(98914);class d extends l.Component{async componentDidMount(){"undefined"!=typeof window&&(this.ref||await new Promise(e=>setTimeout(e,0)),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))}componentWillUnmount(){"undefined"!=typeof window&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render(e){let{className:t,children:i}=e;return(0,a.tZ)("div",{ref:this.assignRef,className:o()("visibility-check",t),children:i})}constructor(...e){super(...e),(0,n._)(this,"ref",void 0),(0,n._)(this,"assignRef",e=>{this.ref=e}),(0,n._)(this,"checkVisibility",()=>{if(!this.ref)return;let e=this.ref.getBoundingClientRect(),t=this.props.threshold||0,i=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),n=!(e.bottom<0-t||e.top>=i+t);(0,s.nn)(this,async(e,t)=>{if(e.isVisible!==n)this.setState({isVisible:n});else if(!t.noDedupe)return;let i=n?"hadFirstVisible":"hadFirstInvisible",a=!e[i];a&&this.setState({[i]:!0}),(await Promise.all([n&&t.onVisible&&t.onVisible(),n&&t.onFirstVisible&&a&&t.onFirstVisible(),!n&&t.onInvisible&&t.onInvisible(),!n&&t.onFirstInvisible&&a&&t.onFirstInvisible()])).reduce((e,t)=>!0===t||e)&&this.checkVisibility()})})}}},63018:function(e,t,i){i.d(t,{OV:()=>s,_I:()=>o});var n=i(7409),a=i(98848),l=i(69241),r=i(48980);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;var{deps:o,auto:s=!0,massage:d=async e=>e,shouldRevalidate:c=!0}=t,p=(0,a._)(t,["deps","auto","massage","shouldRevalidate"]);return(0,l.ZP)(s?o?[...o,e]:e:null,()=>(0,r.rd)(e,p).then(d),(0,n._)({},c?null:{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},i))}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var{deps:i}=t,n=(0,a._)(t,["deps"]);(0,l.MA)(i?[...i,e]:e,()=>(0,r.rd)(e,n))}},68709:function(e,t,i){i.d(t,{OV:()=>h,Y5:()=>v,__:()=>u});var n=i(7409),a=i(99282),l=i(98848),r=i(16584),o=i(94184),s=i.n(o),d=i(98661),c=i(19081),p=i(58175);let u=(0,d.forwardRef)((e,t)=>{var{className:i}=e,a=(0,l._)(e,["className"]);return(0,r.tZ)(p.xv.B4,(0,n._)({as:"label",weight:"medium",color:"primary",ref:t,cursor:"inherit",className:s()("pencraft",i)},a))}),v=(0,d.forwardRef)((e,t)=>{var{className:i,children:o}=e,d=(0,l._)(e,["className","children"]);return(0,r.tZ)(u,(0,a._)((0,n._)({ref:t,className:s()("pencraft",i)},d),{children:(0,r.BX)(c.gq,{gap:4,alignItems:"center",children:[o,(0,r.tZ)(m,{})]})}))}),h=(0,d.forwardRef)((e,t)=>{var{className:i,children:o,hint:d}=e,p=(0,l._)(e,["className","children","hint"]);return(0,r.tZ)(u,(0,a._)((0,n._)({ref:t,className:s()("pencraft",i)},p),{children:(0,r.BX)(c.gq,{gap:4,justifyContent:"space-between",children:[o,(0,r.tZ)(g,{text:d})]})}))}),g=e=>{let{text:t}=e;return(0,r.tZ)(p.xv,{color:"secondary",weight:"regular",children:t})},m=()=>(0,r.tZ)(p.xv,{as:"span",color:"accent-red",children:"*"})},87185:function(e,t,i){i.d(t,{m:()=>r});var n=i(16584),a=i(82876),l=i(17688);let r=e=>{let{details:t,helpText:i,label:r,name:o,options:s,paddingBottom:d,paddingTop:c,flex:p,value:u,disabled:v,onChange:h}=e;return(0,n.tZ)(a.g,{label:r,details:t,helpText:i,paddingTop:c,paddingBottom:d,flex:p,wrapWithLabel:!0,children:(0,n.tZ)(l.i,{name:o,value:u,onChange:e=>{let t=e.target;h(t.value,{name:t.name})},disabled:v,children:s.map(e=>(0,n.tZ)("option",{value:e.value,children:e.label},e.value))})})}},6630:function(e,t,i){i.d(t,{Z:()=>c});var n=i(16584),a=i(94184),l=i.n(a),r=i(15771),o=i(19081),s=i(58175),d=i(87089);let c=e=>{let{options:t,value:i,onChange:a}=e;return(0,n.tZ)(o.gq,{gap:4,children:t.map(e=>{let t="string"==typeof e?e:e.value;return(0,n.tZ)(p,{onClick:()=>{a(t)},selected:t===i,children:"string"==typeof e?e:(0,n.BX)(o.gq,{alignItems:"center",gap:8,paddingY:4,children:[e.icon?e.icon:null,e.label]})},t)})})},p=e=>{let{children:t,selected:i,onClick:a}=e;return(0,n.tZ)(r.kG,{resetCss:!0,onClick:a,children:(0,n.tZ)(s.xv.B4,{className:l()(d.Z.pill,{[d.Z.pillSelected]:i}),children:t})})}},61527:function(e,t,i){i.d(t,{Vo:()=>w,ql:()=>S,to:()=>_});var n=i(16584),a=i(30396),l=i(61649),r=i(68833),o=i(98422),s=i(19081),d=i(28797),c=i(49233),p=i(90630),u=i(63587),v=i(32782),h=i(84945),g=i(76671),m=i(68260),f=i(30730),Z=i(27420),C=i(91189),b=i(60651),y=i(73798);let w=e=>{var t,i,w,_;let{autoPlayMuted:S,forLiveStream:B=!1,disableSharing:T=!1,disableShortcuts:x=!1,disableTooltips:N=!1,disableCaptions:I=!1,duration:F,handle:X,hasPaywall:k=!1,hasTranscript:q=!1,hideNextVideoButton:O=!1,hidePip:R=!1,hideCaptions:V=!1,hideSettings:D=!1,isActive:E,isAudio:L=!1,isFocused:P,mediaRef:Y,mediaUpload:A,podcastUpload:U,post:J,pub:M,showPaywall:W,showTranscript:j,size:z="md",onShareMenuClose:H,onShareMenuOpen:G,onToggleShowTranscript:K,onBlur:Q,hoverOptions:$}=e,{transition:ee=.5,transitionDelay:et=.1}=null!=$?$:{},{isClipping:ei}=(0,l.Sr)(),{isMobile:en}=(0,o.v9)(),ea=E&&!W,el=(0,a.sO)(null),[er,eo]=(0,a.eJ)(!1),[es,ed]=(0,a.eJ)(!1),[ec,ep]=(0,a.eJ)(null),eu=e=>{let{current:t}=Y;t&&(t.isShowingCaptionsElsewhere=e),ed(e)};(0,a.d4)(()=>{(ei||S)&&ev({showCaptions:!0,userInitiated:!1})},[ei,S]);let ev=e=>{let{showCaptions:t,userInitiated:i}=e;eu(t),t&&(null==eh?void 0:eh.length)&&eh[0]&&(ep(eh[0].language),i&&(0,r.j)(r.FP.VIDEO_CLOSED_CAPTIONS_BUTTON_CLICKED,{language:eh[0].language}))};(0,a.d4)(()=>{ea||eo(!1)},[ea]);let eh=null!==(w=null==U?void 0:null===(t=U.transcription)||void 0===t?void 0:t.signed_captions)&&void 0!==w?w:[],eg=!!(null==U?void 0:null===(i=U.transcription)||void 0===i?void 0:i.approved_at);return(0,n.BX)("div",{ref:el,style:{zIndex:ei?10:+!!er},onBlur:Q,children:[(null==X?void 0:X.active)?(0,n.tZ)("div",{className:y.Z.topOverlaysContainer,style:{opacity:+!!ea,transform:ea||en?"translateY(0)":"translateY(-20%)"},children:(0,n.BX)(s.gq,{justifyContent:"space-between",paddingBottom:32,children:[(0,n.tZ)(s.gq,{padding:16}),(0,n.tZ)(s.gq,{padding:16})]})}):null,(0,n.tZ)("div",{}),(0,n.tZ)("div",{className:y.Z.settingsControlsContainer,style:{opacity:er&&ea?1:0,pointerEvents:er?"auto":"none"},children:(0,n.BX)(s.tu,{children:[(0,n.tZ)(s.gq,{className:y.Z.settingsControlsBox,children:(0,n.tZ)(f.Z,{hideSharePostAtCurrentTime:L,mediaRef:Y,post:J,pub:M,podcastUpload:U,subtitles:ec,setSubtitles:e=>{ep(e),!e&&es?eu(!1):e&&!es&&eu(!0)},setIsSettingsOpen:eo})}),(0,n.tZ)("div",{style:{height:"60px"}})]})}),(0,n.BX)("div",{className:y.Z.bottomControlsContainer,style:{transform:ea||en?"translateY(0)":"translateY(40px)",transition:"transform ".concat(ee,"s ease"),transitionDelay:"".concat(et,"s")},children:[(0,n.tZ)("div",{className:y.Z.backDrop,style:{opacity:+!!ea}}),(0,n.BX)(s.tu,{flex:"grow",gap:8,paddingY:4,children:[Y.current&&U&&!k&&X&&A&&!I&&(0,n.tZ)("div",{className:y.Z.captionsContainer,children:(0,n.tZ)(d.Z,{handle:X,mediaUpload:U,showCaptions:es,size:z,subtitles:ec,videoEle:null!==(_=Y.current.player)&&void 0!==_?_:null,withHighlight:ei})}),(0,n.tZ)("div",{className:y.Z.bottomInnerControlsContainer,style:{opacity:+!!ea,transition:void 0!=ee?"opacity ".concat(ee,"s ease"):"opacity 0.5s ease"},children:(0,n.BX)(s.tu,{flex:"grow",children:[!B&&(0,n.tZ)(s.gq,{flex:"grow",paddingBottom:4,children:(0,n.tZ)(Z.T,{disableSharing:L||T,mediaRef:Y,mediaUpload:A,post:J,pub:M,size:z,onShareMenuClose:H,onShareMenuOpen:G})}),(0,n.BX)(s.gq,{paddingX:4,children:[(0,n.BX)(s.hs,{gap:8,alignItems:"center",children:[!B&&(0,n.tZ)(g.Z,{disableShortcuts:x,disableTooltips:N,isFocused:P,mediaRef:Y}),!O&&(null==A?void 0:A.post_id)&&(0,n.tZ)(u.Z,{disableShortcuts:x,isFocused:P,postId:A.post_id,pub:M}),(0,n.tZ)(b.Z,{disableShortcuts:x,disableTooltips:N,isFocused:P,mediaRef:Y}),!B&&(0,n.tZ)(h.Z,{duration:L&&null!=F?F:null,mediaRef:Y})]}),(0,n.tZ)(s.hs,{flex:"grow"}),(0,n.BX)(s.hs,{gap:8,alignItems:"center",children:[!L&&K&&!B&&(0,n.tZ)(C.Z,{disableShortcuts:x,disableTooltips:N,disabled:k||!q,isFocused:P,showTranscript:null!=j&&j,onToggleShowTranscript:K}),!L&&!V&&!B&&(0,n.tZ)(c.Z,{disableShortcuts:x,disableTooltips:N,disabled:!eg||k,isFocused:P,setShowCaptions:ev,showCaptions:es}),!L&&!R&&(0,n.tZ)(v.Z,{disableShortcuts:x,disableTooltips:N,isFocused:P,mediaRef:Y}),!L&&X&&(0,n.tZ)(p.Z,{disableShortcuts:x,disableTooltips:N,handle:X,isFocused:P}),!B&&!D&&(0,n.tZ)(m.Z,{disableTooltips:N,isSettingsOpen:er,setIsSettingsOpen:eo})]})]})]})})]})]})]})},_=e=>{var t,i,l,u,v,m;let{mediaRef:f,mediaUpload:C,handle:w,isActive:_,pub:S,size:B="sm",startTime:T,duration:x,useCaptions:N=!1,captionsStyle:I,hoverOptions:F,onBlur:X}=e,{transition:k=.5,transitionDelay:q=.1}=null!=F?F:{},{isMobile:O}=(0,o.v9)(),R=(0,a.sO)(null),[V,D]=(0,a.eJ)(!1),[E,L]=(0,a.eJ)(null),P=null!==(v=null==C?void 0:null===(i=C.extractedAudio)||void 0===i?void 0:null===(t=i.transcription)||void 0===t?void 0:t.signed_captions)&&void 0!==v?v:[],Y=!!(null==C?void 0:null===(u=C.extractedAudio)||void 0===u?void 0:null===(l=u.transcription)||void 0===l?void 0:l.approved_at);return(0,a.d4)(()=>{let e=()=>{var e;(null===(e=f.current)||void 0===e?void 0:e.player)&&!isNaN(f.current.player.duration)&&(f.current.player.currentTime=T)};if(f.current){var t;null===(t=f.current.player)||void 0===t||t.addEventListener("durationchange",e)}return()=>{if(f.current){var t;null===(t=f.current.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[f]),(0,n.BX)("div",{ref:R,onBlur:X,children:[(null==w?void 0:w.active)?(0,n.tZ)("div",{className:y.Z.topOverlaysContainer,style:{opacity:+!!_,transform:_||O?"translateY(0)":"translateY(-20%)"},children:(0,n.BX)(s.gq,{justifyContent:"space-between",paddingBottom:32,children:[(0,n.tZ)(s.gq,{padding:16}),(0,n.tZ)(s.gq,{padding:16})]})}):null,f.current&&(null==C?void 0:C.extractedAudio)&&w&&N&&(0,n.tZ)("div",{className:y.Z.captionsContainer,style:{bottom:0},children:(0,n.tZ)(d.Z,{handle:w,mediaUpload:C.extractedAudio,showCaptions:V,size:B,subtitles:E,videoEle:null!==(m=f.current.player)&&void 0!==m?m:null,captionsStyle:I,withHighlight:!0})}),(0,n.BX)("div",{className:y.Z.bottomControlsContainer,style:{transform:_||O?"translateY(0)":"translateY(40px)",transition:void 0!=k?"transform ".concat(k,"s ease"):"transform 0.5s ease",transitionDelay:void 0!=q?"".concat(q,"s"):"0.1s"},children:[(0,n.tZ)("div",{className:y.Z.backDrop,style:{opacity:+!!_}}),(0,n.tZ)(s.tu,{flex:"grow",gap:8,paddingY:4,children:(0,n.tZ)("div",{className:y.Z.bottomInnerControlsContainer,style:{opacity:+!!_,transition:void 0!=k?"opacity ".concat(k,"s ease"):"opacity 0.5s ease"},children:(0,n.BX)(s.tu,{flex:"grow",children:[(0,n.tZ)(s.gq,{flex:"grow",paddingBottom:4,children:(0,n.tZ)(Z.T,{disableSharing:!0,mediaRef:f,mediaUpload:C,post:void 0,pub:S,size:"sm",startTime:T,endTime:x?T+x:void 0})}),(0,n.BX)(s.gq,{paddingX:4,children:[(0,n.BX)(s.hs,{gap:8,alignItems:"center",children:[(0,n.tZ)(g.Z,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:f}),(0,n.tZ)(b.Z,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:f}),(0,n.tZ)(h.L,{startTime:T,duration:null!=x?x:null,mediaRef:f})]}),(0,n.tZ)(s.hs,{flex:"grow"}),(0,n.tZ)(c.Z,{disableShortcuts:!0,disableTooltips:!0,disabled:!Y,setShowCaptions:e=>{let{showCaptions:t,userInitiated:i}=e;D(t),t&&(null==P?void 0:P.length)&&P[0]&&(L(P[0].language),i&&(0,r.j)(r.FP.VIDEO_CLOSED_CAPTIONS_BUTTON_CLICKED,{language:P[0].language}))},showCaptions:V,isFocused:!1}),w&&(0,n.tZ)(p.Z,{disableShortcuts:!0,disableTooltips:!0,handle:w,isFocused:!1})]})]})})})]})]})},S=e=>{let{mediaRef:t,mediaUpload:i,isActive:l,pub:r,startTime:d,duration:c,hoverOptions:p,onBlur:u}=e,{transition:v=.5,transitionDelay:m=.1}=null!=p?p:{},{isMobile:f}=(0,o.v9)(),C=(0,a.sO)(null);return(0,a.d4)(()=>{let e=()=>{var e;(null===(e=t.current)||void 0===e?void 0:e.player)&&!isNaN(t.current.player.duration)&&(t.current.player.currentTime=d)};if(t.current){var i;null===(i=t.current.player)||void 0===i||i.addEventListener("durationchange",e)}return()=>{if(t.current){var i;null===(i=t.current.player)||void 0===i||i.removeEventListener("durationchange",e)}}},[t]),(0,n.tZ)("div",{ref:C,onBlur:u,children:(0,n.BX)("div",{className:y.Z.bottomControlsContainer,style:{transform:l||f?"translateY(0)":"translateY(40px)",transition:"transform ".concat(v,"s ease"),transitionDelay:"".concat(m,"s")},children:[(0,n.tZ)("div",{className:y.Z.backDrop,style:{opacity:+!!l}}),(0,n.tZ)(s.tu,{flex:"grow",gap:8,paddingY:4,children:(0,n.tZ)("div",{className:y.Z.bottomInnerControlsContainer,style:{opacity:+!!l,transition:void 0!=v?"opacity ".concat(v,"s ease"):"opacity 0.5s ease"},children:(0,n.BX)(s.tu,{flex:"grow",children:[(0,n.tZ)(s.gq,{flex:"grow",paddingBottom:4,children:(0,n.tZ)(Z.T,{disableSharing:!0,mediaRef:t,mediaUpload:i,post:void 0,pub:r,size:"sm",startTime:d,endTime:c?d+c:void 0})}),(0,n.BX)(s.gq,{paddingX:4,children:[(0,n.BX)(s.hs,{gap:8,alignItems:"center",children:[(0,n.tZ)(g.Z,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:t}),(0,n.tZ)(b.Z,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:t}),(0,n.tZ)(h.L,{startTime:d,duration:null!=c?c:null,mediaRef:t})]}),(0,n.tZ)(s.hs,{flex:"grow"})]})]})})})]})})}}}]);