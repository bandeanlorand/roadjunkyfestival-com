"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["1549"],{72925:function(e,t,n){n.d(t,{Z:()=>r});let r={themedSelectOption:"themedSelectOption-uLytVj",noUnderline:"noUnderline-eUUJmS",podcastPaywallMenuButton:"podcastPaywallMenuButton-pkG3vq",paywallMenuDropdown:"paywallMenuDropdown-r7kYMC",paywallMenuDropdownItem:"paywallMenuDropdownItem-DQmkqr",paywallMenuDropdownIcon:"paywallMenuDropdownIcon-hVB_f0",paywallMenuDropdownItemTop:"paywallMenuDropdownItemTop-fWca_0",paywallMenuDropdownDeleteItem:"paywallMenuDropdownDeleteItem-ChWkG9"}},99987:function(e,t,n){n.d(t,{Z:()=>o});var r=n(7409),i=n(99282),l=n(16584),a=n(64515);let o=e=>(0,l.BX)(a.l,(0,i._)((0,r._)({},e),{name:"PlayIconRound",svgParams:{height:24,width:24},children:[(0,l.tZ)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,l.tZ)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}))},25956:function(e,t,n){n.d(t,{I:()=>k,s:()=>X});var r=n(7409),i=n(99282),l=n(98848),a=n(16584),o=n(30396),s=n(94184),d=n.n(s),c=n(59543),h=n(1548),u=n(3862),p=n(20888),m=n(24658),g=n(7523),Z=n(8845),v=n(95441),w=n(60807),f=n(25530),b=n(98422),y=n(15771),_=n(80026),B=n(19081),I=n(98012),x=n(63651),M=n(37175),C=n(24407);let X=e=>{let{theme:t,isMobile:n}=e;switch(t){case"full-width-image":return n?{height:620,width:350}:{height:880,width:1440};case"landscape-image":return n?{height:200,width:330}:{height:440,width:750};default:return n?{height:450,width:450}:{height:750,width:550}}},k=e=>{var{postTheme:t,inThreadHead:n}=e,i=(0,l._)(e,["postTheme","inThreadHead"]);if(!t||n)return(0,a.tZ)(T,(0,r._)({},i));let o=W[t.header_variant];return o?(0,a.tZ)(o,(0,r._)({postTheme:t},i)):null},N=e=>{let{postTheme:t}=e,{setTheme:n}=(0,Z.T)();(0,o.d4)(()=>{n(null!=t?t:null)},[])},T=e=>{let{post:t,title:n,pub:r}=e;return N({postTheme:null}),(0,a.BX)(B.tu,{paddingBottom:24,children:[(0,a.tZ)(g.Z,{preset:"h4-sans-condensed",children:n}),(0,a.tZ)(R,{post:t,preset:"lg-preview-byline",pub:r})]})},D={black:"primary",white:"white",red:"accent"},H=e=>{var t,n,r;let{postTheme:i,imageHeight:l,imageWidth:o,aspectRatio:s,post:c,pub:h}=e,u=null!==(t=i.post_preview_crop_gravity)&&void 0!==t?t:"auto",m=i.cover_image_caption?(0,M.toHtml)(JSON.stringify(i.cover_image_caption),!1,{postId:null!==(n=null==c?void 0:c.id)&&void 0!==n?n:null,pubId:null!==(r=null==h?void 0:h.id)&&void 0!==r?r:null}):null;return i.cover_image?(0,a.BX)("figure",{className:d()(C.Z.headerImageContainer,C.Z["".concat(i.header_variant,"-container")]),children:[(0,a.tZ)(p.e,{className:C.Z.headerImage,imageProps:{smartCrop:!0,gravity:u,height:l},maxWidth:null!=o?o:l/s,src:i.cover_image,style:{aspectRatio:s}}),m?(0,a.tZ)("figcaption",{children:(0,a.tZ)(B.gq,{justifyContent:"end",paddingTop:8,children:(0,a.tZ)(g.Z,{dangerouslySetInnerHTML:{__html:m},preset:"caption"})})}):null]}):null},R=e=>{let{post:t,pub:n,fontColor:l="accent",showThemedMeta:o=!0,preset:s="article-byline"}=e,{iString:d,language:c}=(0,v.M1)(),{isMobile:p}=(0,b.v9)();return(0,a.tZ)(_.xu,{paddingTop:24,children:(0,a.tZ)(u.E,{className:C.Z.bylineWrapper,hideFaces:!0,hideMeta:!0,post:t,pub:n,renderBylines:e=>{let{publishedBylines:u,getLinkProps:m}=e;return(0,a.tZ)(B.hs,{alignItems:"baseline",className:C.Z.bylineContainer,direction:{mobile:"row",desktop:"column"},gap:8,justifyContent:"space-between",wrap:"wrap",children:"article-byline"===s?(0,a.BX)(a.HY,{children:[(0,a.BX)(g.Z,{color:l,preset:"article-byline",children:[d("By "),(0,a.tZ)(h.M,{array:u,formatter:e=>m(e).href?(0,a.tZ)(g.Z,(0,i._)((0,r._)({as:"a"},m(e)),{color:l,native:!0,preset:"article-byline",children:e.name})):(0,a.tZ)(g.Z,{as:"span",color:l,preset:"article-byline",children:e.name}),limit:4})]}),o&&(0,a.tZ)(B.hs,{direction:{mobile:"row",desktop:"column"},paddingTop:16*!p,children:(0,a.BX)(g.Z,{preset:"timestamp",children:[(0,I.Z)(t.post_date).locale(c).format("MM.DD.YY"),t.section?(0,a.BX)(a.HY,{children:[" — ",(0,a.tZ)(g.Z,{as:"a",href:(0,x.Ucy)(n,{section:t.section}),preset:"timestamp",children:t.section.name})]}):null]})})]}):(0,a.BX)(g.Z,{color:l,preset:s,children:[d("By "),(0,a.tZ)(h.M,{array:u,formatter:e=>m(e).href?(0,a.tZ)(g.Z,(0,i._)((0,r._)({as:"a"},m(e)),{color:l,preset:s,children:e.name})):(0,a.tZ)(g.Z,{as:"span",color:l,preset:s,children:e.name}),limit:4})," — ",(0,I.Z)(t.post_date).locale(c).format("MM.DD.YY")]})})}})})},W={"portrait-image":e=>{let{post:t,postTheme:n,title:r,subtitle:i,pub:l}=e,{isMobile:o}=(0,b.v9)(),{isPrint:s}=(0,f.v)(),d=(0,w.aF)();N({postTheme:n});let{height:c,width:h}=X({isMobile:o,theme:null==n?void 0:n.header_variant});return(0,a.BX)(a.HY,{children:[(0,a.BX)(B.hs,{className:C.Z.customThemeHeader,direction:o?"column":"row",children:[(0,a.BX)(B.tu,{justifyContent:"center",children:[(0,a.BX)(B.tu,{gap:16*!!o,children:[(0,a.tZ)(g.Z,{preset:s?"h2-serif":o?"h1-text":"h1-serif",children:null!=r?r:t.is_draft?t.draft_title:t.title}),(0,a.tZ)(_.xu,{paddingTop:24*!o,children:(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:i})})]}),(0,a.tZ)(B.tu,{gap:16,children:(0,a.tZ)(R,{post:t,pub:l})})]}),(0,a.tZ)(H,{aspectRatio:h/c,imageHeight:c,imageWidth:h,post:t,postTheme:n,pub:l})]}),(0,a.tZ)(m.R,{post:t,pub:l,user:d,variant:"newsletter-post"})]})},"landscape-image":e=>{let{post:t,postTheme:n,pub:r,title:i,subtitle:l}=e,{isMobile:o}=(0,b.v9)();N({postTheme:n});let s=(0,w.aF)(),{isPrint:d}=(0,f.v)(),{width:c,height:h}=X({isMobile:o,theme:n.header_variant}),u=c/h;return(0,a.BX)(a.HY,{children:[(0,a.BX)(B.tu,{className:C.Z.customThemeHeader,children:[(0,a.tZ)(g.Z,{preset:d?"h2-serif":"h1-serif",children:i}),o&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l}),(0,a.BX)(B.hs,{direction:o?"column-reverse":"row",gap:o?8:40,children:[(0,a.tZ)(H,{aspectRatio:u,imageHeight:c/u,imageWidth:c,post:t,postTheme:n,pub:r}),(0,a.BX)(B.tu,{flex:"fill",justifyContent:"space-between",paddingBottom:12,children:[!o&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l}),(0,a.tZ)(B.tu,{gap:16,children:(0,a.tZ)(R,{post:t,pub:r})})]})]})]}),(0,a.tZ)(m.R,{post:t,pub:r,user:s,variant:"newsletter-post"})]})},"full-width-image":e=>{var t,n,r;let{post:i,pub:l,postTheme:o,title:s,subtitle:d}=e,{isMobile:c}=(0,b.v9)();N({postTheme:o});let{isPrint:h}=(0,f.v)(),{language:u}=(0,v.M1)(),p=(0,w.aF)(),{width:Z}=X({isMobile:c,theme:o.header_variant}),y=null===(t=o.variant_config)||void 0===t?void 0:t.fullWidthImage,M=(null==y?void 0:y.hideOverlay)||!1,k=(null==y?void 0:y.hideSectionLink)||!1,T=null!==(r=D[null!==(n=null==y?void 0:y.textColor)&&void 0!==n?n:"white"])&&void 0!==r?r:"white";return(0,a.BX)(a.HY,{children:[(0,a.tZ)(B.hs,{alignItems:"center",className:C.Z.fullWidthImageHeader,direction:"column",justifyContent:c?"end":"center",style:{backgroundImage:"".concat(M?"":"linear-gradient(rgba(22, 22, 19, 0.65), rgba(22, 22, 19, 0.65))").concat(o.cover_image?"".concat(M?"":", ","url(").concat((0,x.zF4)(o.cover_image,2*Z,{quality:"auto:best",smartCrop:!0}),")"):"")},children:(0,a.BX)(B.tu,{alignItems:"center",className:C.Z.fullWidthHeaderContent,justifyContent:c?"start":"center",paddingX:c?32:40,children:[(0,a.tZ)(B.hs,{direction:{mobile:"row",desktop:"column"},paddingBottom:c?56:64,paddingTop:16*!c,children:(0,a.BX)(g.Z,{color:T,preset:"timestamp",children:[(0,I.Z)(i.post_date).locale(u).format("MM.DD.YY"),i.section&&!k?(0,a.BX)(a.HY,{children:[" — ",(0,a.tZ)(g.Z,{as:"a",color:T,href:(0,x.Ucy)(l,{section:i.section}),preset:"timestamp",children:i.section.name})]}):null]})}),(0,a.BX)(B.tu,{alignItems:"center",gap:24,children:[(0,a.tZ)(g.Z,{color:T,preset:h?"h3-condensed":"h1-sans",children:s}),(0,a.tZ)(_.xu,{className:C.Z.fullWidthHeaderSubtitle,children:(0,a.tZ)(g.Z,{color:T,preset:"d1-serif",children:d})})]}),(0,a.tZ)(B.tu,{alignItems:"center",paddingTop:c?32:120,children:(0,a.tZ)(R,{fontColor:T,post:i,pub:l,showThemedMeta:!1})})]})}),(0,a.tZ)(m.R,{post:i,pub:l,user:p,variant:"newsletter-post"})]})},title_and_image_only:e=>{let{post:t,pub:n,postTheme:r,title:i,subtitle:l}=e,{isMobile:o}=(0,b.v9)();N({postTheme:r});let s=(0,w.aF)(),{iString:h}=(0,v.M1)(),u=(null==s?void 0:s.is_contributor)&&(null==t?void 0:t.id)?(0,a.tZ)(y.zx,{href:(0,x.ANx)(n,t.id,{params:{back:document.location.href}}),leading:(0,a.tZ)(c.Z,{size:20}),localNavigation:!1,priority:"secondary",children:h("Edit")}):null;return(0,a.tZ)("div",{className:C.Z.titleAndImageContainer,children:(0,a.BX)(B.tu,{gap:o?24:40,paddingBottom:64,children:[(0,a.tZ)("div",{className:d()(C.Z.titleAndImageHeader,{[C.Z.noImage]:!r.cover_image}),children:o?(0,a.BX)(B.tu,{gap:24,children:[u&&(0,a.tZ)(B.gq,{alignSelf:"start",children:u}),(0,a.tZ)(g.Z,{preset:"h1-serif",children:i}),r.cover_image&&(0,a.tZ)(B.gq,{children:(0,a.tZ)(p.e,{className:C.Z.image,imageIsFixedWidth:!0,maxWidth:540,src:r.cover_image,useRetinaSizing:!0})}),l&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l})]}):(0,a.BX)(a.HY,{children:[(0,a.BX)(B.tu,{children:[u&&(0,a.tZ)(B.gq,{alignSelf:"start",children:u}),(0,a.tZ)(g.Z,{preset:"h1-serif",children:i}),(0,a.tZ)(B.tu,{gap:24,children:l&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l})})]}),r.cover_image&&(0,a.tZ)(B.gq,{justifyContent:"end",children:(0,a.tZ)(p.e,{imageIsFixedWidth:!0,maxWidth:540,src:r.cover_image,useRetinaSizing:!0})})]})}),(0,a.tZ)("div",{className:C.Z.thickRule})]})})}}},33224:function(e,t,n){n.d(t,{lF:()=>l,ld:()=>o,up:()=>r,xm:()=>i}),n(94654);let r=e=>{let{finishedSelection:t,transcriptionRows:n}=e,r=n[t.begin.rowIndex],i=n[t.finish.rowIndex],l=r.words[t.begin.wordIndex],a=i.words[t.finish.wordIndex];return{start:l.start,end:a.end}},i=e=>{let{startRow:t,endRow:n,startOffset:r,endOffset:i,startNodeText:l,endNodeText:a}=e,o=0!==r&&" "!==l[r-1]&&" "!==l[r],s=l.slice(0,r).trim(),d=0===s.length?0:s.split(/\s+/).length-+!!o,c=t.words[d],h=a.slice(0,i).trim().split(/\s+/).length,u=n.words[h-1];return{start:c.start,end:u.end}},l=e=>{let{selectStart:t,selectEnd:n,alignedRows:r}=e,i=e=>{var t;let{rowIndex:n,offset:i,text:l}=e,a=r[n];a||console.error("Row at index",n,"does not exist");let o=l.slice(0,i).trim().split(/\s+/).length;(o<1||o>a.words.length)&&console.error("Calculated number of words",o,"is out of bounds");let s=a.words[o-1];return"number"!=typeof s.originalIndex&&console.error("Word's original index is not a number",s.originalIndex),null!==(t=null==s?void 0:s.originalIndex)&&void 0!==t?t:0};return[i(t),i(n)]},a=e=>e<.5?2*e*e:-1+(4-2*e)*e,o=e=>{let{virtualizedListRef:t,start:n,end:r,duration:i}=e,l=performance.now(),o=e=>{let s=e-l,d=a(Math.min(s/i,1));t.current&&(t.current.scrollTo(n+(r-n)*d),s<i&&requestAnimationFrame(o))};requestAnimationFrame(o)}},69891:function(e,t,n){n.d(t,{n:()=>g});var r=n(7409),i=n(99282),l=n(98848),a=n(16584),o=n(49550),s=n(23279),d=n.n(s),c=n(98661),h=n(95441),u=n(15771),p=n(80026),m=n(20392);function g(e){var{tabs:t,value:n,onChange:s,ariaLabel:u}=e,g=(0,l._)(e,["tabs","value","onChange","ariaLabel"]);let{iString:v}=(0,h.M1)(),f=(0,c.useRef)(null),b=(0,c.useRef)(null),y=t.findIndex(e=>e.value===n);return(0,c.useLayoutEffect)(()=>{let e=e=>{let t=b.current,n=f.current;if(!n||!t||e<0)return;let r=n.getElementsByClassName(m.Z.tab)[e];if(!r)return;let i=r.getBoundingClientRect(),l=n.getBoundingClientRect();requestAnimationFrame(()=>{t.style.setProperty("--highlight-width","".concat(i.width,"px")),t.style.setProperty("--highlight-x","".concat(i.left-l.left,"px"))})},t=()=>e(y);t();let n=f.current,r=new ResizeObserver(d()(t,200));return n&&r.observe(n),()=>{r.disconnect()}},[y,t]),(0,a.tZ)(o.O.Group,{manual:!0,selectedIndex:-1===y?0:y,onChange:e=>{var n;let r=null===(n=t[e])||void 0===n?void 0:n.value;void 0!==r&&s(r)},children:(0,a.tZ)(o.O.List,(0,i._)((0,r._)({as:p.X2,className:m.Z.container,height:40,position:"relative",ref:f,"aria-label":null!=u?u:"".concat(v("Tabs"))},g),{children:()=>(0,a.BX)(a.HY,{children:[t.map((e,t)=>(0,a.tZ)(Z,{tab:e,children:e.label},e.value)),(0,a.tZ)(w,{ref:b})]})}))})}function Z(e){let{tab:t,children:n}=e;return(0,a.tZ)(o.O,{as:c.Fragment,children:()=>(0,a.BX)(u.kG,{position:"relative",className:m.Z.tab,radius:"xs",resetCss:!0,gap:6,showFocus:!0,animate:!0,userSelect:"none",children:[t.leadingIcon,(0,a.tZ)(v,{children:n}),t.trailingIcon]})})}let v=e=>{let{children:t}=e;return(0,a.tZ)(p.xv.B4,{as:"span",weight:"semibold",size:14,ellipsis:!0,animate:!0,children:t})},w=(0,p.zo)({position:"absolute",className:m.Z.highlight})}}]);