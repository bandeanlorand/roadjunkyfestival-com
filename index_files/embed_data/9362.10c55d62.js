"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["9362"],{23710:function(e,t,n){n.d(t,{Z:()=>r});let r={reactionsHoverZone:"reactionsHoverZone-nHxYxG",reactionsContainer:"reactionsContainer-uNTS8E",outgoing:"outgoing-xjlZZA",emojiGrid:"emojiGrid-yGGf1S",reaction:"reaction-BmRJjL",selected:"selected-T0p6AZ",nameCard:"nameCard-dZv34e",emojiBox:"emojiBox-hGb2ir",addReactButton:"addReactButton-j8HliB",emojiPopover:"emojiPopover-UcQl9N",show:"show-rCpI7T"}},93228:function(e,t,n){n.d(t,{Z:()=>a});var r=n(7409),o=n(99282),l=n(16584),i=n(64515);let a=e=>(0,l.BX)(i.l,(0,o._)((0,r._)({},e),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"},children:[(0,l.tZ)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,l.tZ)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"})]}))},44424:function(e,t,n){n.d(t,{LY:()=>X,Mz:()=>H,dW:()=>M,ep:()=>x,sN:()=>E,v2:()=>B,xw:()=>L,yU:()=>T});var r=n(7409),o=n(99282),l=n(98848),i=n(16584),a=n(19425),c=n(94184),s=n.n(c),d=n(2564),u=n(98661),p=n(62372),h=n(60684),f=n(71068),m=n(15771),Z=n(61254),v=n(19081),g=n(10903),w=n(47295),C=n(50368),y=n(4615),b=n(58175),_=n(91400),S=n(42450);let B=(0,u.forwardRef)((e,t)=>{var{trigger:n,children:c,ariaLabel:s="View more",hideOnScroll:d,layerOptions:p,layerClassName:f,onOpen:m,onClose:Z,useMobileBottomSheet:v=!0,stopPropagation:w=!1,padding:y=4,disableMenu:b=!1,title:B,Theme:E,customShowClass:O,customHideClass:H}=e,X=(0,l._)(e,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","stopPropagation","padding","disableMenu","title","Theme","customShowClass","customHideClass"]);"function"!=typeof n&&"string"!=typeof n.type&&n.type.$$typeof!==Symbol.for("react.forward_ref")&&console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");let L=(0,_.XA)(),{triggerProps:P,layerProps:j,renderLayer:T,isOpen:M,setOpen:R}=(0,g.x)({layerOptions:(0,r._)({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},p),hideOnScroll:d&&!(v&&L),onClose:Z}),[Y,F]=(0,u.useState)(!1),I=()=>{R(!1),Z&&Z()},V=u.Children.map(c,e=>(0,u.cloneElement)(e,{useMobileBottomSheet:v,closeMenu:I})),G=(0,u.useMemo)(()=>({useMobileBottomSheet:v,close:I}),[Z,v]),A=(0,o._)((0,r._)({},P),{ariaLabel:s,onClick:e=>{e.preventDefault(),w&&e.stopPropagation(),b||R(!M),M?null==Z||Z():null==m||m()}});return(0,i.BX)(C.p.Provider,{value:G,children:["function"==typeof n?n(A):(0,u.cloneElement)(n,A),(M||Y)&&T(v&&L?(0,i.tZ)(a.u,{appear:!0,show:M,beforeEnter:()=>F(!0),afterLeave:()=>F(!1),className:S.Z.actionSheetTransition,enterFrom:S.Z.actionSheetHide,enterTo:S.Z.actionSheetShow,leaveFrom:S.Z.actionSheetShow,leaveTo:S.Z.actionSheetHide,children:(0,i.tZ)(z,{Theme:E,children:(0,i.tZ)("div",(0,o._)((0,r._)({},j,X),{children:(0,i.tZ)(h.V,{title:B,onClose:I,ref:t,className:f,children:V})}))})}):(0,i.tZ)(k,{isOpen:M,setAnimating:F,children:(0,i.tZ)(z,{Theme:E,children:(0,i.tZ)("div",(0,o._)((0,r._)({},j,X),{children:(0,i.tZ)(N,{isOpen:M,customHideClass:H,customShowClass:O,children:(0,i.tZ)(x,(0,o._)((0,r._)({className:f,ref:t,padding:y},!d&&{style:{overflowY:"auto"}}),{children:V}))})}))})}))]})});function N(e){let{isOpen:t,customHideClass:n,customShowClass:r,children:o}=e;return(0,i.tZ)(a.u,{appear:!0,unmount:!1,show:t,className:S.Z.transition,enterFrom:null!=n?n:S.Z.hide,enterTo:null!=r?r:S.Z.show,leaveFrom:null!=r?r:S.Z.show,leaveTo:null!=n?n:S.Z.hide,children:o})}function k(e){let{children:t,isOpen:n,setAnimating:r}=e;return(0,i.tZ)(a.u,{appear:!0,unmount:!1,show:n,beforeEnter:()=>r(!0),afterLeave:()=>r(!1),className:S.Z.transition,children:t})}let x=(0,u.forwardRef)((e,t)=>{var{className:n,padding:o=4}=e,a=(0,l._)(e,["className","padding"]);return(0,i.tZ)(y.Sf,{children:(0,i.tZ)(v.tu,(0,r._)({className:s()(S.Z.menu,"elevated",n),bg:"elevated",shadow:"md",border:"detail",radius:"sm",sizing:"border-box",showFocus:!0,gap:2,padding:o,ref:t},a))})}),E=(0,u.forwardRef)((e,t)=>{var n;return(0,i.tZ)(O,(0,o._)((0,r._)({},e),{className:s()(S.Z.menuItem,S.Z["priority_".concat(null!==(n=e.priority)&&void 0!==n?n:"primary")],e.className,{[S.Z.disabled]:!!e.disabled,[S.Z.relative]:!!e.hiddenInput}),children:e.children,ref:t}))});(0,f.zo)({width:16,height:16});let O=(0,u.forwardRef)((e,t)=>{var{children:n,onClick:a,closeMenu:c,leading:s,trailing:d,priority:p="primary",className:h,disabled:f,href:Z,download:v,hiddenInput:g}=e,y=(0,l._)(e,["children","onClick","closeMenu","leading","trailing","priority","className","disabled","href","download","hiddenInput"]);let b=Z?"a":m.kG,{close:_}=(0,C.X)();return(0,i.BX)(b,(0,o._)((0,r._)({className:h,resetCss:!0,onClick:e=>{!f&&(a&&a(e),!e.defaultPrevented&&(_?_():c&&c()))},href:f?"javascript:void(0)":Z,download:v,ref:t},y),{children:[s&&(0,i.tZ)(H,{children:(0,u.cloneElement)(s,{size:16})}),(0,i.tZ)(P,{priority:p,children:n}),d&&(0,i.tZ)(H,{children:(0,u.cloneElement)(d,{size:16})}),g&&(0,i.tZ)(w.U,{children:g})]}))}),H=(0,f.zo)({display:"flex",flex:"auto",width:24,height:24,alignItems:"center",justifyContent:"center"});function X(e){let{content:t,children:n,leading:l,trailing:a=(0,i.tZ)(d.Z,{size:20}),priority:c="primary"}=e,[s,u,h]=(0,p.XI)(),{triggerProps:m,layerProps:Z,renderLayer:v}=(0,p.sJ)({isOpen:s,onParentClose:h,auto:!0,snap:!0,placement:"right-start",possiblePlacements:["left-start","right-start","left-end","right-end"],triggerOffset:0});return(0,i.BX)(i.HY,{children:[(0,i.tZ)(E,(0,o._)((0,r._)({},u,m),{onClick:e=>{e.preventDefault()},leading:l,trailing:a,priority:c,children:t})),s&&v((0,i.tZ)(f.xu,(0,o._)((0,r._)({"data-submenu-root":!0},Z,u),{children:(0,i.tZ)(x,{className:S.Z.submenu,padding:4,bg:"elevated",children:n})})))]})}function L(e){let{title:t,children:n,isFirst:r=!1}=e;return(0,i.BX)(v.tu,{gap:2,children:[!r&&(0,i.tZ)(Z.iz,{paddingY:4,pullX:4}),t&&(0,i.tZ)(j,{children:t}),n]})}function P(e){let{priority:t,children:n}=e;return(0,i.tZ)(b.xv.B4,{color:"destructive"===t?"accent-red":"accent"===t?"accent-themed":t,weight:"medium",align:"left",flex:"grow",children:n})}function j(e){let{children:t}=e;return(0,i.tZ)(b.xv.B5,{transform:"uppercase",color:"secondary",weight:"regular",paddingX:4,paddingTop:4,children:t})}function T(e){let{children:t}=e;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(v.tu,{paddingY:4,paddingX:8,children:(0,i.tZ)(b.xv.B4,{color:"secondary",children:t})}),(0,i.tZ)(Z.iz,{pullX:8})]})}function M(e){let{children:t}=e;return(0,i.tZ)(L,{children:(0,i.tZ)(v.tu,{paddingY:4,paddingX:8,children:(0,i.tZ)(b.xv.B5,{color:"secondary",children:t})})})}function z(e){let{Theme:t,children:n}=e;return t?(0,i.tZ)(t,{children:n}):n}},21685:function(e,t,n){n.d(t,{J:()=>p});var r=n(7409),o=n(99282),l=n(98848),i=n(16584),a=n(94184),c=n.n(a),s=n(98661),d=n(62372),u=n(6651);let p=e=>{var{className:t="",children:n,layerClassName:a,inputRef:p,hideOnScroll:h=!1,autofocus:f=!1,onClose:m,onOpen:Z}=e,v=(0,l._)(e,["className","children","layerClassName","inputRef","hideOnScroll","autofocus","onClose","onOpen"]);let[g,w]=(0,s.useState)(!1),C=()=>{g||(w(!0),null==Z||Z())},y=()=>{g&&(w(!1),null==m||m())},b=function(e){let{open:t,onClose:n,disabled:l,possiblePlacements:a=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:p,snap:h=!1,onOpen:f,content:m,className:Z,layerOptions:v,closeOnOutsideClick:g=!0}=e,w=(0,s.useRef)(!1);(0,s.useEffect)(()=>{t&&!w.current&&f&&(w.current=!0,f())},[t,f]);let{triggerProps:C,layerProps:y,renderLayer:b}=(0,d.sJ)((0,r._)({isOpen:!l&&t,overflowContainer:!1,auto:!0,snap:h,possiblePlacements:a,placement:p,containerOffset:10,triggerOffset:8},g&&{onOutsideClick:()=>n()},p&&{placement:p},v));return{triggerProps:C,layer:t&&!l&&b((0,i.tZ)("div",(0,o._)((0,r._)({className:c()("popoverLayerForScrollDetection",u.Z.popoverBase,Z)},y),{children:"function"==typeof m?m({closePopover:n}):m})))}}((0,r._)({open:g,onClose:y,onOpen:C,hideOnScroll:h,className:a},v));return(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&y()};return g&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[g,m]),function(e){let{hideOnScroll:t,handleClose:n,open:r}=e,o=(0,s.useCallback)(e=>{requestAnimationFrame(()=>{var o;let l=null===(o=e.target.classList)||void 0===o?void 0:o.contains("popoverLayerForScrollDetection");r&&t&&!l&&n()})},[t,n,r]);(0,s.useEffect)(()=>{if(t)return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[o,t])}({hideOnScroll:h,handleClose:y,open:g}),(0,s.useEffect)(()=>{g&&f&&p&&p.current&&p.current.focus({preventScroll:!0})},[g,f,p]),(0,i.BX)("div",(0,o._)((0,r._)({className:t},b.triggerProps),{onClick:e=>{g?y():C(),e.stopPropagation()},children:["function"==typeof n?n({isOpen:g}):n,b.layer]}))}}}]);