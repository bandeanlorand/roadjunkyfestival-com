"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["5368"],{24202:function(e,t,n){n.d(t,{$9:()=>Z,Z4:()=>b,dz:()=>w,iv:()=>y,sp:()=>g,yU:()=>v});var r=n(7409),i=n(16584),l=n(30396),o=n(94184),a=n.n(o),d=n(10968),s=n(51938),c=n(3880),u=n(20888),h=n(27625),p=n(19081),m=n(74312),f=n(54796);function g(e){let t=e.assets.filter(e=>"string"!=typeof e&&"number"==typeof e.width&&"number"==typeof e.height&&e.width>0&&e.height>0);return t.length<=1||e.readOnly||e.isDm?(0,i.tZ)(c.E,(0,r._)({},e)):2===t.length?(0,i.tZ)(s.V,(0,r._)({},e)):(0,i.tZ)(d.Li,(0,r._)({},e))}function Z(e){let{assets:t,imageViewer:r,setImageViewer:l,readOnly:o}=e;return o||!r?null:(0,i.tZ)(m.cr,{module:"./ImageViewerModal",resolve:e=>e.ImageViewerModal,onRequest:()=>n.e("4713").then(n.bind(n,2563)),showModal:!!r,modalContent:t.map(e=>({attrs:{src:e.src}})),onClose:()=>l(null),step:r.index,includeDownloadButton:!1})}function v(e,t){let[n,r]=(0,l.eJ)(0);return(0,l.bt)(()=>{let n=new ResizeObserver(e=>{for(let n of e)r(n.contentRect.width-t)});return e.current&&n.observe(e.current),()=>{n.disconnect()}},[t,e]),n}function b(e){var t;let{asset:n,explicit:l,onClick:o,readOnly:d,width:s,height:c,children:m,className:g,imageProps:Z,maxWidth:v,flex:b="auto",radius:w,style:y,outline:_="detail"}=e,{isHidden:C,onShow:S}=(0,h.Sl)(l),x=null!==(t=null!=v?v:s)&&void 0!==t?t:500;return(0,i.BX)(p.hs,{position:"relative",className:a()(f.Z.imageBubble,!d&&f.Z.clickable,g),flex:b,radius:w,onClick:C?void 0:o,bg:"secondary",outline:_,style:(0,r._)({width:s,height:c},y),overflow:"hidden",draggable:!1,children:[(0,i.tZ)(u.e,{src:n,maxWidth:x,useRetinaSizing:!0,imageIsFixedWidth:!0,imageProps:(0,r._)({smartCrop:!1},Z),width:s,height:c,loading:"lazy",ignorePicture:!0,draggable:!1}),m,C&&(0,i.tZ)(h.HU,{onShow:S})]})}function w(e){return e.map(e=>"string"==typeof e?{src:e,explicit:!1}:e)}function y(e){let t=e.some(e=>e.explicit),{isHidden:n}=(0,h.Sl)(t);return n}},44424:function(e,t,n){n.d(t,{LY:()=>I,Mz:()=>O,dW:()=>Y,sN:()=>k,v2:()=>x,xw:()=>M,yU:()=>R});var r=n(7409),i=n(99282),l=n(98848),o=n(16584),a=n(19425),d=n(94184),s=n.n(d),c=n(2564),u=n(98661),h=n(62372),p=n(60684),m=n(71068),f=n(15771),g=n(61254),Z=n(19081),v=n(10903),b=n(47295),w=n(50368),y=n(4615),_=n(58175),C=n(91400),S=n(42450);let x=(0,u.forwardRef)((e,t)=>{var{trigger:n,children:d,ariaLabel:s="View more",hideOnScroll:c,layerOptions:h,layerClassName:m,onOpen:f,onClose:g,useMobileBottomSheet:Z=!0,stopPropagation:b=!1,padding:y=4,disableMenu:_=!1,title:x,Theme:k,customShowClass:z,customHideClass:O}=e,I=(0,l._)(e,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","stopPropagation","padding","disableMenu","title","Theme","customShowClass","customHideClass"]);"function"!=typeof n&&"string"!=typeof n.type&&n.type.$$typeof!==Symbol.for("react.forward_ref")&&console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");let M=(0,C.XA)(),{triggerProps:P,layerProps:T,renderLayer:R,isOpen:Y,setOpen:H}=(0,v.x)({layerOptions:(0,r._)({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},h),hideOnScroll:c&&!(Z&&M),onClose:g}),[F,L]=(0,u.useState)(!1),V=()=>{H(!1),g&&g()},D=u.Children.map(d,e=>(0,u.cloneElement)(e,{useMobileBottomSheet:Z,closeMenu:V})),U=(0,u.useMemo)(()=>({useMobileBottomSheet:Z,close:V}),[g,Z]),W=(0,i._)((0,r._)({},P),{ariaLabel:s,onClick:e=>{e.preventDefault(),b&&e.stopPropagation(),_||H(!Y),Y?null==g||g():null==f||f()}});return(0,o.BX)(w.p.Provider,{value:U,children:["function"==typeof n?n(W):(0,u.cloneElement)(n,W),(Y||F)&&R(Z&&M?(0,o.tZ)(a.u,{appear:!0,show:Y,beforeEnter:()=>L(!0),afterLeave:()=>L(!1),className:S.Z.actionSheetTransition,enterFrom:S.Z.actionSheetHide,enterTo:S.Z.actionSheetShow,leaveFrom:S.Z.actionSheetShow,leaveTo:S.Z.actionSheetHide,children:(0,o.tZ)(E,{Theme:k,children:(0,o.tZ)("div",(0,i._)((0,r._)({},T,I),{children:(0,o.tZ)(p.V,{title:x,onClose:V,ref:t,className:m,children:D})}))})}):(0,o.tZ)(N,{isOpen:Y,setAnimating:L,children:(0,o.tZ)(E,{Theme:k,children:(0,o.tZ)("div",(0,i._)((0,r._)({},T,I),{children:(0,o.tZ)(B,{isOpen:Y,customHideClass:O,customShowClass:z,children:(0,o.tZ)(X,(0,i._)((0,r._)({className:m,ref:t,padding:y},!c&&{style:{overflowY:"auto"}}),{children:D}))})}))})}))]})});function B(e){let{isOpen:t,customHideClass:n,customShowClass:r,children:i}=e;return(0,o.tZ)(a.u,{appear:!0,unmount:!1,show:t,className:S.Z.transition,enterFrom:null!=n?n:S.Z.hide,enterTo:null!=r?r:S.Z.show,leaveFrom:null!=r?r:S.Z.show,leaveTo:null!=n?n:S.Z.hide,children:i})}function N(e){let{children:t,isOpen:n,setAnimating:r}=e;return(0,o.tZ)(a.u,{appear:!0,unmount:!1,show:n,beforeEnter:()=>r(!0),afterLeave:()=>r(!1),className:S.Z.transition,children:t})}let X=(0,u.forwardRef)((e,t)=>{var{className:n,padding:i=4}=e,a=(0,l._)(e,["className","padding"]);return(0,o.tZ)(y.Sf,{children:(0,o.tZ)(Z.tu,(0,r._)({className:s()(S.Z.menu,"elevated",n),bg:"elevated",shadow:"md",border:"detail",radius:"sm",sizing:"border-box",showFocus:!0,gap:2,padding:i,ref:t},a))})}),k=(0,u.forwardRef)((e,t)=>{var n;return(0,o.tZ)(z,(0,i._)((0,r._)({},e),{className:s()(S.Z.menuItem,S.Z["priority_".concat(null!==(n=e.priority)&&void 0!==n?n:"primary")],e.className,{[S.Z.disabled]:!!e.disabled,[S.Z.relative]:!!e.hiddenInput}),children:e.children,ref:t}))});(0,m.zo)({width:16,height:16});let z=(0,u.forwardRef)((e,t)=>{var{children:n,onClick:a,closeMenu:d,leading:s,trailing:c,priority:h="primary",className:p,disabled:m,href:g,download:Z,hiddenInput:v}=e,y=(0,l._)(e,["children","onClick","closeMenu","leading","trailing","priority","className","disabled","href","download","hiddenInput"]);let _=g?"a":f.kG,{close:C}=(0,w.X)();return(0,o.BX)(_,(0,i._)((0,r._)({className:p,resetCss:!0,onClick:e=>{!m&&(a&&a(e),!e.defaultPrevented&&(C?C():d&&d()))},href:m?"javascript:void(0)":g,download:Z,ref:t},y),{children:[s&&(0,o.tZ)(O,{children:(0,u.cloneElement)(s,{size:16})}),(0,o.tZ)(P,{priority:h,children:n}),c&&(0,o.tZ)(O,{children:(0,u.cloneElement)(c,{size:16})}),v&&(0,o.tZ)(b.U,{children:v})]}))}),O=(0,m.zo)({display:"flex",flex:"auto",width:24,height:24,alignItems:"center",justifyContent:"center"});function I(e){let{content:t,children:n,leading:l,trailing:a=(0,o.tZ)(c.Z,{size:20}),priority:d="primary"}=e,[s,u,p]=(0,h.XI)(),{triggerProps:f,layerProps:g,renderLayer:Z}=(0,h.sJ)({isOpen:s,onParentClose:p,auto:!0,snap:!0,placement:"right-start",possiblePlacements:["left-start","right-start","left-end","right-end"],triggerOffset:0});return(0,o.BX)(o.HY,{children:[(0,o.tZ)(k,(0,i._)((0,r._)({},u,f),{onClick:e=>{e.preventDefault()},leading:l,trailing:a,priority:d,children:t})),s&&Z((0,o.tZ)(m.xu,(0,i._)((0,r._)({"data-submenu-root":!0},g,u),{children:(0,o.tZ)(X,{className:S.Z.submenu,padding:4,bg:"elevated",children:n})})))]})}function M(e){let{title:t,children:n,isFirst:r=!1}=e;return(0,o.BX)(Z.tu,{gap:2,children:[!r&&(0,o.tZ)(g.iz,{paddingY:4,pullX:4}),t&&(0,o.tZ)(T,{children:t}),n]})}function P(e){let{priority:t,children:n}=e;return(0,o.tZ)(_.xv.B4,{color:"destructive"===t?"accent-red":"accent"===t?"pub-accent":t,weight:"medium",align:"left",flex:"grow",children:n})}function T(e){let{children:t}=e;return(0,o.tZ)(_.xv.B5,{transform:"uppercase",color:"secondary",weight:"regular",paddingX:4,paddingTop:4,children:t})}function R(e){let{children:t}=e;return(0,o.BX)(o.HY,{children:[(0,o.tZ)(Z.tu,{paddingY:4,paddingX:8,children:(0,o.tZ)(_.xv.B4,{color:"secondary",children:t})}),(0,o.tZ)(g.iz,{pullX:8})]})}function Y(e){let{children:t}=e;return(0,o.tZ)(M,{children:(0,o.tZ)(Z.tu,{paddingY:4,paddingX:8,children:(0,o.tZ)(_.xv.B5,{color:"secondary",children:t})})})}function E(e){let{Theme:t,children:n}=e;return t?(0,o.tZ)(t,{children:n}):n}}}]);