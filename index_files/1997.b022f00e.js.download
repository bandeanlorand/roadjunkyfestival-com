"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["1997"],{87900:function(e,t,n){n.d(t,{Z:()=>m});var i=n(7409),o=n(99282),a=n(16584),r=n(6400),l=n(68833),s=n(59176),c=n(98914),d=n(60308),u=n(26111);let h="domain-redirect-time";class m extends r.Component{componentDidMount(){let e=this.loadedWithLikelyLoggedInParam()?"param":null;e&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:e}):this.useIframe()&&window.addEventListener("message",e=>this.handleFrameMessage(e)),(0,c.iO)("triedSigningIn")}shouldBlockLoginRedirect(){var e;let t=parseInt((0,s.mM)(h,0));return this.state.block_auto_login||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||this.state.user||"undefined"==typeof window||Date.now()-t<=864e5||this.state.triedSigningIn}handleFrameMessage(e){var t,n,i;if((null===(t=e.data)||void 0===t?void 0:t.type)!=="frame-state")return;let o=!this.shouldBlockLoginRedirect()&&(null===(n=e.data)||void 0===n?void 0:n.loggedInAtSubstack);(0,l.j)(l.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:null===(i=e.data)||void 0===i?void 0:i.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:o}),o&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect(){var e;let{source:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.j)(l.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:"param"===t,source:t}),(0,s.ex)(h,"".concat(Date.now()));let n=(0,d.YZ5)({useOriginalUrl:!0});this.props.initialData.hide_intro_popup&&(n=(0,d.rhs)(n,{hide_intro_popup:!0})),location.href=(0,d.uXE)({for_pub:null===(e=this.state.pub)||void 0===e?void 0:e.subdomain,justTrying:!0,redirect:n})}loadedWithLikelyLoggedInParam(){return"undefined"!=typeof window&&window._preloads.original_url&&!!(0,u.x)(window._preloads.original_url,"lli")}useIframe(){var e,t,n;return!("undefined"==typeof window||this.loadedWithLikelyLoggedInParam()||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||(0,d.fF3)(null===(n=window)||void 0===n?void 0:null===(t=n.location)||void 0===t?void 0:t.href))}render(){return this.useIframe()?(0,a.tZ)("iframe",{src:"".concat((0,d.ZJn)(),"/channel-frame"),className:"channel-frame",width:"0",height:"0"}):null}constructor(e,t){super(e,t),this.state=(0,o._)((0,i._)({},e.initialData),{triedSigningIn:(0,u.x)("triedSigningIn")})}}},44471:function(e,t,n){n.d(t,{m$:()=>g});var i,o,a=n(7409),r=n(99282),l=n(16584),s=n(6400);n(98661);var c=n(30396),d=n(48980);let u="undefined"!=typeof window&&null!==(o=null===(i=window._preloads)||void 0===i?void 0:i.publicationUserSettings)&&void 0!==o?o:{},h=e=>({getSettingForPubUser:t=>{if(!t||!e)return null;let n=e[t];return void 0===n?null:n}}),m=(0,s.createContext)((0,r._)((0,a._)({},h(u)),{changeUserSetting:()=>Promise.resolve(void 0)}));function g(e){let{preloadPubUserSettings:t={},children:n}=e,[i,o]=(0,c.eJ)(t),s=(0,c.I4)(async(e,t)=>{o(n=>(0,r._)((0,a._)({},n),{[e]:t}));try{await (0,d.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:e,value:t}})}catch(e){console.error(e)}},[o]),u=(0,c.Ye)(()=>(0,r._)((0,a._)({},h(i)),{changeUserSetting:s}),[i,s]);return(0,l.tZ)(m.Provider,{value:u,children:n})}m.displayName="PublicationUserSettingsContext"},49762:function(e,t,n){n.d(t,{SiteConfigGate:()=>l,default:()=>r,getConfigFor:()=>a});var i=n(16584),o=n(40647);function a(e){var t;if(!e||"undefined"==typeof window||!(null===(t=window._preloads)||void 0===t?void 0:t.siteConfigs))return null;let n=window._preloads.siteConfigs[e];return void 0===n?null:n}let r=a;function l(e){let{configKey:t,children:n,value:a=!0}=e;return(0,o.xR)().getConfigFor(t)==a?(0,i.tZ)(i.HY,{children:n}):null}},98248:function(e,t,n){n.d(t,{$j:()=>h,Hl:()=>g,jv:()=>m});var i=n(7409),o=n(99282),a=n(98848),r=n(16584),l=n(94184),s=n.n(l);n(98661),n(71068);var c=n(19081),d=n(49391);let u={14:2,20:2.5,24:2,32:1.5,40:1.25},h=e=>{var{size:t=24,theme:n="default",className:l}=e,h=(0,a._)(e,["size","theme","className"]);let m=u[t]||2;return(0,r.tZ)(c.hs,(0,o._)((0,i._)({padding:16,className:s()(d.Z.spinner,d.Z["theme_".concat(n)],l)},h),{children:(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 24 24","vector-effect":"non-scaling-stroke",children:[(0,r.tZ)("circle",{className:d.Z.bg,cx:12,cy:12,r:11,strokeWidth:m,fill:"none",stroke:"var(--color-utility-detail)"}),(0,r.tZ)("circle",{className:d.Z.fg,cx:12,cy:12,r:11,strokeWidth:m,fill:"none"})]})}))},m=e=>{var{size:t=24,theme:n="default",className:l}=e,u=(0,a._)(e,["size","theme","className"]);let h=Array.from({length:10},(e,t)=>"".concat(36*t," 12 12")).join(";");return(0,r.tZ)(c.hs,(0,o._)((0,i._)({padding:16,className:s()(d.Z.thinker,d.Z["theme_".concat(n)],l)},u),{children:(0,r.tZ)("svg",{width:t,height:t,viewBox:"0 0 24 24",children:(0,r.BX)("g",{children:[Array.from({length:10}).map((e,t)=>(0,r.tZ)("rect",{x:"11",y:"1",width:2,height:6,rx:"1",ry:"1",opacity:(t+1)/10,transform:"rotate(".concat(36*t," 12 12)")},t)),(0,r.tZ)("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"discrete",dur:"0.5s",values:h,repeatCount:"indefinite"})]})})}))},g=e=>{var{size:t=24,theme:n="default",className:l,percent:h}=e,m=(0,a._)(e,["size","theme","className","percent"]);let g=u[t]||2;return(0,r.tZ)(c.hs,(0,o._)((0,i._)({padding:16,className:s()(d.Z.radialProgress,d.Z["theme_".concat(n)],l),style:{"--percent":"".concat(h)}},m),{children:(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 24 24","vector-effect":"non-scaling-stroke",children:[(0,r.tZ)("circle",{className:d.Z.bg,cx:12,cy:12,r:11,strokeWidth:g,fill:"none",stroke:"var(--color-utility-detail)"}),(0,r.tZ)("circle",{className:d.Z.fg,cx:12,cy:12,r:11,strokeWidth:g,fill:"none"})]})}))}},58175:function(e,t,n){n.d(t,{et:()=>Z,hh:()=>z,xv:()=>g});var i=n(7409),o=n(99282),a=n(98848),r=n(16584),l=n(94184),s=n.n(l),c=n(98661),d=n(95441),u=n(5435),h=n(71068),m=n(23648);let g=e=>{var{className:t,align:n,size:l,weight:c,transform:g}=e,f=(0,a._)(e,["className","align","size","weight","transform"]);f=(0,o._)((0,i._)({},f),{textAlign:null!=n?n:f.textAlign,textTransform:null!=g?g:f.textTransform,fontSize:null!=l?l:f.fontSize,fontWeight:null!=c?c:f.fontWeight});let{iString:p,language:_}=(0,d.M1)(),v=f.children;if(f.translated&&"en"!==_){let e=[],t=[],n=(0,u.Fb)(f.children,e,t),i=p(n,...t);if(i&&i!==n)try{v=(0,u.rl)(i,e)}catch(e){console.log("Could not translate ".concat(n),e)}}return(0,r.tZ)(h.xu,(0,o._)((0,i._)({className:s()(m.Z.reset,t)},f),{children:v}))};function f(e){var{className:t,displayName:n}=e,l=(0,a._)(e,["className","displayName"]);let d=(0,c.forwardRef)((e,n)=>{var{className:c}=e,d=(0,a._)(e,["className"]);return(0,r.tZ)(g,(0,o._)((0,i._)({},l,d),{ref:n,className:s()(t,c)}))});return d.displayName=n,d}let p=f({as:"h1",font:"display",size:36,weight:"bold",lineHeight:44}),_=f({as:"h2",font:"display",size:30,lineHeight:36,weight:"bold"}),v=f({as:"h3",font:"display",size:24,lineHeight:28,weight:"bold"}),w=f({as:"h4",font:"display",size:20,lineHeight:24,weight:"bold"}),b=f({font:"text",size:19,lineHeight:26,weight:"regular"}),k=f({font:"text",fontSize:17,lineHeight:24,fontWeight:"regular"}),Z={font:"text",fontSize:15,lineHeight:20,fontWeight:"regular"},y=f(Z),N=f({font:"text",fontSize:13,lineHeight:20,fontWeight:"regular"}),x=f({font:"text",size:11,lineHeight:20,weight:"regular"}),S=f((0,o._)((0,i._)({},{font:"meta",fontSize:11,lineHeight:20,fontWeight:"medium",textTransform:"uppercase",color:"secondary"}),{className:m.Z.meta})),H=f({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:m.Z.digit}),M=f({font:"serif",size:19,lineHeight:30,weight:"regular",className:m.Z.serif}),z=f({as:"a",decoration:"hover-underline"});f({as:"span"});let C=f({font:"text",color:"primary",className:m.Z.marketingBody}),I=f({as:"h1",weight:"regular",className:m.Z.marketingHeading1}),L=f({as:"h2",weight:"medium",className:m.Z.marketingHeading2}),A=f({as:"h3",weight:"medium",className:m.Z.marketingHeading3}),B=f({as:"h4",weight:"medium",className:m.Z.marketingHeading4}),W=f({as:"h5",weight:"bold",className:m.Z.marketingHeading5}),F=f({as:"h4",weight:"regular",textAlign:"center",className:m.Z.marketingQuote}),P=f({as:"h4",size:30,weight:"regular",className:m.Z.marketingSubtitle});g.H1=p,g.H2=_,g.H3=v,g.H4=w,g.B1=b,g.B2=k,g.B3=y,g.B4=N,g.B5=x,g.Meta=S,g.Digit=H,g.Serif=M,g.MarketingBody=C,g.MarketingHeading1=I,g.MarketingHeading2=L,g.MarketingHeading3=A,g.MarketingHeading4=B,g.MarketingHeading5=W,g.MarketingQuote=F,g.MarketingSubtitle=P},55722:function(e,t,n){n.d(t,{o:()=>u});var i=n(7409),o=n(99282),a=n(16584),r=n(47907),l=n(30302);let s={sm:16,md:20,lg:24},c={100:l.Z,1e3:r.Z,1e4:r.Z},d={1e4:{fill:"var(--color-accent-fg-purple)"}},u=e=>{let{tier:t,size:n="sm"}=e;if(!t)return null;let r=c[t.toString()],l=d[t.toString()],u=s[n];return(0,a.tZ)(r,(0,o._)((0,i._)({},l),{height:u}))}},73943:function(e,t,n){n.d(t,{u:()=>r,us:()=>a,vn:()=>i});let i={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var o,a=((o={}).comments_disabled="comments_disabled",o.free_subscription_required="free_subscription_required",o.paid_subscription_required="paid_subscription_required",o.founding_subscription_required="founding_subscription_required",o);let r=600},18967:function(e,t,n){n.d(t,{E4:()=>o,ML:()=>a});var i,o=((i={}).CompOneMonth="comp_one_month",i.CompThreeMonths="comp_three_months",i.CompSixMonths="comp_six_months",i.CompNineMonths="comp_nine_months",i.CompTwelveMonths="comp_twelve_months",i.Custom="custom",i);let a={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"}},14773:function(e,t,n){n.d(t,{JD:()=>a,L4:()=>o,Q2:()=>m,SV:()=>d,T9:()=>i,Y$:()=>s,ZJ:()=>u,ZX:()=>h,n1:()=>c,pv:()=>l,tE:()=>r});let i="substack.com",o="https://substackcdn.com";function a(e){return"https://"+e}o.replace(/https?:\/\//,"").replace(/\/$/,"");let r=a(i),l=new URL(r);function s(e){return Object.keys(e).filter(t=>void 0!==e[t]&&null!==e[t]).map(t=>"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))).join("&")}function c(e,t){if(!e)return"";if(!t)return e;let n=s(t),i=n?-1===e.indexOf("?")?"?":"&":"";return"".concat(e).concat(i).concat(n)}function d(e){let{forceSubdomain:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"object"==typeof e&&"base_url"in e&&e.base_url&&!t?e.base_url:a(function(e){let{forceSubdomain:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"==typeof e&&"custom_domain"in e&&e.custom_domain&&!e.custom_domain_optional&&!t)return e.custom_domain;let n=i;return e&&"www"!==e.subdomain&&(n="".concat(e.subdomain,".").concat(n)),n}(e,{forceSubdomain:t}))}function u(){return d()}function h(){return a("open.".concat(i))}function m(e){let{noBase:t,urlParams:n,pub:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?"":d(i);return c("".concat(o).concat(e),n)}},70408:function(e,t,n){n.d(t,{I4:()=>l,SM:()=>a,YL:()=>s,ln:()=>r,zU:()=>c});var i=n(14773),o=n(63651);function a(e,t){let n=r(e,t);return n||c}function r(e){let{preferAuthorPhoto:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(null==e?void 0:e.author_photo_url)&&(0,o.zF4)(e.author_photo_url)?(0,o.zF4)(e.author_photo_url):(null==e?void 0:e.photo_url)&&(0,o.zF4)(e.photo_url)?(0,o.zF4)(e.photo_url):(null==e?void 0:e.id)!=null?l(e.id):null}function l(e){return"".concat((0,i.ZJ)(),"/img/avatars/").concat(["purple","yellow","orange","green","black"][e%5],".png")}function s(e){return e.startsWith("".concat((0,i.ZJ)(),"/img/avatars/"))}let c="".concat((0,i.ZJ)(),"/img/avatars/default-light.png");(0,i.ZJ)()}}]);